<!DOCTYPE html>
<html lang="zh-Hans">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">


<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    hostname: new URL('https://blog.supercalifragilisticexpialidociouser.com').hostname,
    root: '/',
    scheme: 'Mist',
    version: '7.7.0',
    exturl: false,
    sidebar: {"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},
    copycode: {"enable":false,"show_result":false,"style":null},
    back2top: {"enable":true,"sidebar":false,"scrollpercent":false},
    bookmark: {"enable":false,"color":"#222","save":"auto"},
    fancybox: false,
    mediumzoom: false,
    lazyload: false,
    pangu: false,
    comments: {"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},
    algolia: {
      appID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},
    path: '',
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}
  };
</script>

  <meta name="description" content="简介Maven是一个项目管理工具。 当执行Maven构建时，Maven会根据POM中的定义，自动下载相关依赖和插件。">
<meta property="og:type" content="article">
<meta property="og:title" content="Maven">
<meta property="og:url" content="https://blog.supercalifragilisticexpialidociouser.com/2018/03/23/Maven/index.html">
<meta property="og:site_name" content="人见人爱，花见花开，车见爆胎">
<meta property="og:description" content="简介Maven是一个项目管理工具。 当执行Maven构建时，Maven会根据POM中的定义，自动下载相关依赖和插件。">
<meta property="og:image" content="https://blog.supercalifragilisticexpialidociouser.com/2018/03/23/Maven/Maven/%E4%BE%9D%E8%B5%96%E4%BC%A0%E9%80%92.jpg">
<meta property="og:image" content="https://blog.supercalifragilisticexpialidociouser.com/2018/03/23/Maven/Maven/%E6%B2%A1%E6%9C%89%E7%A7%81%E6%9C%89%E4%BB%93%E5%BA%93%E7%9A%84%E6%83%85%E5%86%B5.png">
<meta property="og:image" content="https://blog.supercalifragilisticexpialidociouser.com/2018/03/23/Maven/Maven/%E7%A7%81%E6%9C%89%E4%BB%93%E5%BA%93.png">
<meta property="og:image" content="https://blog.supercalifragilisticexpialidociouser.com/2018/03/23/Maven/Maven/%E4%BB%93%E5%BA%93%E7%BB%84.png">
<meta property="og:image" content="https://blog.supercalifragilisticexpialidociouser.com/2018/03/23/Maven/Maven/%E5%88%9B%E5%BB%BA%E4%BB%93%E5%BA%93%E7%BB%84.gif">
<meta property="og:image" content="https://blog.supercalifragilisticexpialidociouser.com/2018/03/23/Maven/Maven/download-remote-indexes.png">
<meta property="og:image" content="https://blog.supercalifragilisticexpialidociouser.com/2018/03/23/Maven/Maven/%E8%81%9A%E5%90%88%E4%B8%8E%E7%BB%A7%E6%89%BF.png">
<meta property="article:published_time" content="2018-03-23T01:59:24.000Z">
<meta property="article:modified_time" content="2020-05-09T15:25:50.003Z">
<meta property="article:author" content="周千涵">
<meta property="article:tag" content="3.5.2">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://blog.supercalifragilisticexpialidociouser.com/2018/03/23/Maven/Maven/%E4%BE%9D%E8%B5%96%E4%BC%A0%E9%80%92.jpg">

<link rel="canonical" href="https://blog.supercalifragilisticexpialidociouser.com/2018/03/23/Maven/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: false,
    isPost: true
  };
</script>

  <title>Maven | 人见人爱，花见花开，车见爆胎</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">人见人爱，花见花开，车见爆胎</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
        <p class="site-subtitle">一个程序猿的笔记</p>
  </div>

  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>Home</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>Archives</a>

  </li>
  </ul>

</nav>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block " lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="https://blog.supercalifragilisticexpialidociouser.com/2018/03/23/Maven/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="周千涵">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="人见人爱，花见花开，车见爆胎">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Maven
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2018-03-23 09:59:24" itemprop="dateCreated datePublished" datetime="2018-03-23T09:59:24+08:00">2018-03-23</time>
            </span>

          
            <span class="post-meta-item" title="Views" id="busuanzi_container_page_pv" style="display: none;">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">Views: </span>
              <span id="busuanzi_value_page_pv"></span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h1 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h1><p>Maven是一个项目管理工具。</p>
<p>当执行Maven构建时，Maven会根据POM中的定义，自动下载相关依赖和插件。</p>
<a id="more"></a>

<h1 id="安装和配置"><a href="#安装和配置" class="headerlink" title="安装和配置"></a>安装和配置</h1><h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><ol>
<li>安装JDK；</li>
<li>下载并解压Maven；</li>
<li>将环境变量<code>M2_HOME</code>设置为Maven的安装目录；</li>
<li>将<code>M2_HOME/bin</code>目录添加到<code>Path</code>环境变量中。</li>
</ol>
<h2 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h2><h3 id="全局配置"><a href="#全局配置" class="headerlink" title="全局配置"></a>全局配置</h3><p>全局配置可以在两个地方：</p>
<ul>
<li>环境变量<code>MAVEN_OPTS</code> ；</li>
<li>配置文件<code>M2_HOME/conf/settings.xml</code>。</li>
</ul>
<p>环境变量<code>MAVEN_OPTS</code>通常用于设置一些用于启动JVM的参数，例如：<code>-Xms256m -Xmx1024m</code>（用于避免在较大项目中，需要大量内存，而造成的<code>java.lang.OutOfMemeoryError</code>错误）。例如：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">export</span> MAVEN_OPTS=-Xmx1024m</span><br></pre></td></tr></table></figure>



<p>具体的配置参见：<a href="http://maven.apache.org/maven-settings/settings.html" target="_blank" rel="noopener">Maven Local Settings Model Website</a></p>
<p><a href="https://maven.apache.org/xsd/settings-1.0.0.xsd" target="_blank" rel="noopener">https://maven.apache.org/xsd/settings-1.0.0.xsd</a>：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">settings</span> <span class="attr">xmlns</span>=<span class="string">"http://maven.apache.org/SETTINGS/1.1.0"</span> </span></span><br><span class="line"><span class="tag">          <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">          <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://maven.apache.org/SETTINGS/1.1.0 http://maven.apache.org/xsd/settings-1.1.0.xsd"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">localRepository</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">interactiveMode</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">usePluginRegistry</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">offline</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">proxies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">proxy</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">active</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">protocol</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">username</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">password</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">port</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">host</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">nonProxyHosts</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">id</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">proxy</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">proxies</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">servers</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">server</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">username</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">password</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">privateKey</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">passphrase</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">filePermissions</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">directoryPermissions</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">configuration</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">id</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">server</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">servers</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">mirrors</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mirror</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">mirrorOf</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">name</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">url</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">layout</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">mirrorOfLayouts</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">id</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">mirror</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">mirrors</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">profiles</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">profile</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">activation</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">activeByDefault</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">jdk</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">os</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">name</span>/&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">family</span>/&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">arch</span>/&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">version</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">os</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">name</span>/&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">value</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">file</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">missing</span>/&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">exists</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">file</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">activation</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">key</span>&gt;</span>value<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line"></span><br><span class="line">      <span class="tag">&lt;<span class="name">repositories</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">repository</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">releases</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">enabled</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">updatePolicy</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">checksumPolicy</span>/&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">releases</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">snapshots</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">enabled</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">updatePolicy</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">checksumPolicy</span>/&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">snapshots</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">id</span>/&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">name</span>/&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">url</span>/&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">layout</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">repository</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">repositories</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">pluginRepositories</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">pluginRepository</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">releases</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">enabled</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">updatePolicy</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">checksumPolicy</span>/&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">releases</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">snapshots</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">enabled</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">updatePolicy</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">checksumPolicy</span>/&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">snapshots</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">id</span>/&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">name</span>/&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">url</span>/&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">layout</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">pluginRepository</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">pluginRepositories</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">id</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">profile</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">profiles</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">activeProfiles</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">pluginGroups</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">settings</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h3 id="用户级的配置"><a href="#用户级的配置" class="headerlink" title="用户级的配置"></a>用户级的配置</h3><p>用户级的配置文件位于：<code>~/.m2/settings.xml</code>，它只对当前用户有效果。它的配置内容与全局配置相同。</p>
<h3 id="项目级的配置"><a href="#项目级的配置" class="headerlink" title="项目级的配置"></a>项目级的配置</h3><p>项目级的配置文件位于项目根目录下的<code>.mvn</code>目录中的<code>maven.config</code>和<code>extensions.xml</code>。</p>
<h1 id="入门"><a href="#入门" class="headerlink" title="入门"></a>入门</h1><h2 id="生成项目"><a href="#生成项目" class="headerlink" title="生成项目"></a>生成项目</h2><p>在Maven中，可以使用Archetype来生成项目的骨架：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ mvn archetype:generate -DgroupId=com.mycompany.app -DartifactId=my-app -DarchetypeArtifactId=maven-archetype-quickstart -DinteractiveMode=<span class="literal">false</span></span><br></pre></td></tr></table></figure>

<p>如果是使用Powershell，要记得给形如“-Dxxx”的参数加上引号：</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt; mvn archetype:generate <span class="string">'-DgroupId=com.mycompany.app'</span> <span class="string">'-DartifactId=my-app2'</span> <span class="string">'-DarchetypeArtifactId=maven-archetype-quickstart'</span> <span class="string">'-DinteractiveMode=false'</span></span><br></pre></td></tr></table></figure>

<p>上面命令，将自动创建一个<code>my-app</code>目录，并将它作为项目的根目录。</p>
<p><code>archetype</code>是Maven的<strong>插件</strong>，<code>generate</code>是该插件的一个<strong>目标（goal）</strong>。</p>
<h3 id="Maven标准项目结构"><a href="#Maven标准项目结构" class="headerlink" title="Maven标准项目结构"></a>Maven标准项目结构</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">my-app</span><br><span class="line">|-- pom.xml</span><br><span class="line">|-- LICENSE  （Project&#39;s license）</span><br><span class="line">|-- NOTICE  (Notices and attributions required by libraries that the project depends on)</span><br><span class="line">|-- README.md  （Project&#39;s readme）</span><br><span class="line">|-- src</span><br><span class="line">|   |-- main</span><br><span class="line">|   |   |-- java  （Application&#x2F;Library sources）</span><br><span class="line">|   |   |   &#96;-- com</span><br><span class="line">|   |   |       &#96;-- mycompany</span><br><span class="line">|   |   |           &#96;-- app</span><br><span class="line">|   |   |               &#96;-- App.java</span><br><span class="line">|   |   |-- resources  （Application&#x2F;Library resources） </span><br><span class="line">|   |   |-- filters  （Resource filter files）</span><br><span class="line">|   |   |-- webapp  （Web application sources）</span><br><span class="line">|   |-- test</span><br><span class="line">|   |   |-- java  （Test sources）</span><br><span class="line">|   |   |   &#96;-- com</span><br><span class="line">|   |   |       &#96;-- mycompany</span><br><span class="line">|   |   |           &#96;-- app</span><br><span class="line">|   |   |               &#96;-- AppTest.java</span><br><span class="line">|   |   |-- resources  （Test resources）</span><br><span class="line">|   |   |-- filters  （Test resource filter files）</span><br><span class="line">|   |-- it （Integration Tests (primarily for plugins)）</span><br><span class="line">|   |-- assembly  （Assembly descriptors）</span><br><span class="line">|   |-- site  （Site）</span><br><span class="line">|-- target  （Output of the build）</span><br></pre></td></tr></table></figure>

<p>在一个Maven项目，只有<code>pom.xml</code>是必须的，其他内容都是可选的。</p>
<h2 id="配置POM"><a href="#配置POM" class="headerlink" title="配置POM"></a>配置POM</h2><p>pom.xml：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">"http://maven.apache.org/POM/4.0.0"</span> <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line"> </span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.mycompany.app<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>my-app<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">packaging</span>&gt;</span>jar<span class="tag">&lt;/<span class="name">packaging</span>&gt;</span></span><br><span class="line"> </span><br><span class="line">  <span class="tag">&lt;<span class="name">name</span>&gt;</span>Maven Quick Start Archetype<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">url</span>&gt;</span>http://maven.apache.org<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line"> </span><br><span class="line">  <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.12<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="编写代码"><a href="#编写代码" class="headerlink" title="编写代码"></a>编写代码</h2><p>略。</p>
<h2 id="构建项目"><a href="#构建项目" class="headerlink" title="构建项目"></a>构建项目</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> my-app</span><br><span class="line">mvn clean package</span><br></pre></td></tr></table></figure>

<p>这里<code>clean</code>和<code>package</code>都是Maven的<strong>构建阶段（phase）</strong>。构建阶段是<strong>构建生成周期（build lifecycle）</strong>的一个步骤，而构建生命周期则是多个构建阶段组成的有序序列。</p>
<p>使用Maven构建项目时，既可以执行一个或多个构建阶段，也可以执行一个或多个插件目标，还可以混合使用。Maven支持直接执行插件目标是因为有些任务不适合绑定在生命周期上，例如：<code>maven-help-plugin:describe</code>。</p>
<p>在同一条mvn命令中，可以同时包含多个插件目标和构建阶段：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mvn clean dependency:copy-dependencies package</span><br></pre></td></tr></table></figure>

<p>当执行一个构建阶段时，Maven将依次执行该构建阶段之前的所有构建阶段（在同一个构建生命周期中），然后再执行该构建阶段。而执行一个插件目标，则只会执行该插件目标 ，而不会执行其他插件目标 。</p>
<blockquote>
<p>在<code>mvn</code>命令之后，形如“xxx:xxx”的是插件目标，而只有一个单词的是构建阶段。</p>
</blockquote>
<p>常用构建命令：</p>
<ul>
<li><code>mvn compile</code>：仅编译项目，但不打包；</li>
<li><code>mvn test</code>：运行单元测试；</li>
<li><code>mvn test-compile</code>：仅编译单元测试代码；</li>
<li><code>mvn package</code>：编译、测试并打包项目；</li>
<li><code>mvn install</code>：打包项目并将它安装到本地仓库；</li>
<li><code>mvn clean</code>：清理构建，即删除<code>target</code>目录。</li>
</ul>
<h2 id="运行应用"><a href="#运行应用" class="headerlink" title="运行应用"></a>运行应用</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">java -cp target/my-app-1.0-SNAPSHOT.jar com.mycompany.app.App</span><br></pre></td></tr></table></figure>

<h2 id="生成项目站点"><a href="#生成项目站点" class="headerlink" title="生成项目站点"></a>生成项目站点</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mvn site</span><br></pre></td></tr></table></figure>

<p>生成的项目站点在<code>target/site</code>目录下。</p>
<h1 id="项目对象模型（POM）"><a href="#项目对象模型（POM）" class="headerlink" title="项目对象模型（POM）"></a>项目对象模型（POM）</h1><p>POM定义了项目的基本信息，它描述项目是如何构建，声明了项目依赖等等。</p>
<p>POM通常定义在项目根目录下的<code>pom.xml</code>文件中。</p>
<h2 id="POM的结构"><a href="#POM的结构" class="headerlink" title="POM的结构"></a>POM的结构</h2><p>参见：<a href="http://maven.apache.org/ref/current/maven-model/maven.html" target="_blank" rel="noopener">Technical Project Descriptor</a></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br><span class="line">589</span><br><span class="line">590</span><br><span class="line">591</span><br><span class="line">592</span><br><span class="line">593</span><br><span class="line">594</span><br><span class="line">595</span><br><span class="line">596</span><br><span class="line">597</span><br><span class="line">598</span><br><span class="line">599</span><br><span class="line">600</span><br><span class="line">601</span><br><span class="line">602</span><br><span class="line">603</span><br><span class="line">604</span><br><span class="line">605</span><br><span class="line">606</span><br><span class="line">607</span><br><span class="line">608</span><br><span class="line">609</span><br><span class="line">610</span><br><span class="line">611</span><br><span class="line">612</span><br><span class="line">613</span><br><span class="line">614</span><br><span class="line">615</span><br><span class="line">616</span><br><span class="line">617</span><br><span class="line">618</span><br><span class="line">619</span><br><span class="line">620</span><br><span class="line">621</span><br><span class="line">622</span><br><span class="line">623</span><br><span class="line">624</span><br><span class="line">625</span><br><span class="line">626</span><br><span class="line">627</span><br><span class="line">628</span><br><span class="line">629</span><br><span class="line">630</span><br><span class="line">631</span><br><span class="line">632</span><br><span class="line">633</span><br><span class="line">634</span><br><span class="line">635</span><br><span class="line">636</span><br><span class="line">637</span><br><span class="line">638</span><br><span class="line">639</span><br><span class="line">640</span><br><span class="line">641</span><br><span class="line">642</span><br><span class="line">643</span><br><span class="line">644</span><br><span class="line">645</span><br><span class="line">646</span><br><span class="line">647</span><br><span class="line">648</span><br><span class="line">649</span><br><span class="line">650</span><br><span class="line">651</span><br><span class="line">652</span><br><span class="line">653</span><br><span class="line">654</span><br><span class="line">655</span><br><span class="line">656</span><br><span class="line">657</span><br><span class="line">658</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">"http://maven.apache.org/POM/4.0.0"</span> </span></span><br><span class="line"><span class="tag">         <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">modelVersion</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">relativePath</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">packaging</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">name</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">description</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">url</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">inceptionYear</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">organization</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">organization</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">licenses</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">license</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">name</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">url</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">distribution</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">comments</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">license</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">licenses</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">developers</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">developer</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">id</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">name</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">email</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">url</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">organization</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">organizationUrl</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">roles</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">timezone</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">key</span>&gt;</span>value<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">developer</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">developers</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">contributors</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">contributor</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">name</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">email</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">url</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">organization</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">organizationUrl</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">roles</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">timezone</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">key</span>&gt;</span>value<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">contributor</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">contributors</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">mailingLists</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mailingList</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">name</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">subscribe</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">unsubscribe</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">post</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">archive</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">otherArchives</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">mailingList</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">mailingLists</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">prerequisites</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">maven</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">prerequisites</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">modules</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">scm</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">connection</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">developerConnection</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tag</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">scm</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">issueManagement</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">system</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">issueManagement</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">ciManagement</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">system</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">notifiers</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">notifier</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">type</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">sendOnError</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">sendOnFailure</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">sendOnSuccess</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">sendOnWarning</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">address</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">key</span>&gt;</span>value<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">notifier</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">notifiers</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">ciManagement</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">distributionManagement</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">repository</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">uniqueVersion</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">releases</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">enabled</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">updatePolicy</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">checksumPolicy</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">releases</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">snapshots</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">enabled</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">updatePolicy</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">checksumPolicy</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">snapshots</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">id</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">name</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">url</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">layout</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">repository</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">snapshotRepository</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">uniqueVersion</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">releases</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">enabled</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">updatePolicy</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">checksumPolicy</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">releases</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">snapshots</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">enabled</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">updatePolicy</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">checksumPolicy</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">snapshots</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">id</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">name</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">url</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">layout</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">snapshotRepository</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">site</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">id</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">name</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">url</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">site</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">downloadUrl</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">relocation</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">message</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">relocation</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">status</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">distributionManagement</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">key</span>&gt;</span>value<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependencyManagement</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">type</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">classifier</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">scope</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">systemPath</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">exclusions</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">exclusion</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>/&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">exclusion</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">exclusions</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">optional</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependencyManagement</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">type</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">classifier</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">scope</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">systemPath</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">exclusions</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">exclusion</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">artifactId</span>/&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">groupId</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">exclusion</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">exclusions</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">optional</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">repositories</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">repository</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">releases</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">enabled</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">updatePolicy</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">checksumPolicy</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">releases</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">snapshots</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">enabled</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">updatePolicy</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">checksumPolicy</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">snapshots</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">id</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">name</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">url</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">layout</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">repository</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">repositories</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">pluginRepositories</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">pluginRepository</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">releases</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">enabled</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">updatePolicy</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">checksumPolicy</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">releases</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">snapshots</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">enabled</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">updatePolicy</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">checksumPolicy</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">snapshots</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">id</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">name</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">url</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">layout</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">pluginRepository</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">pluginRepositories</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">sourceDirectory</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scriptSourceDirectory</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">testSourceDirectory</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">outputDirectory</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">testOutputDirectory</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">extensions</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">extension</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">extension</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">extensions</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">defaultGoal</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">resources</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">resource</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">targetPath</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filtering</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">directory</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">includes</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">excludes</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">resource</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">resources</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">testResources</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">testResource</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">targetPath</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filtering</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">directory</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">includes</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">excludes</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">testResource</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">testResources</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">directory</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">finalName</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filters</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">pluginManagement</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">groupId</span>/&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">artifactId</span>/&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">version</span>/&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">extensions</span>/&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">executions</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">execution</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">id</span>/&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">phase</span>/&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">goals</span>/&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">inherited</span>/&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">configuration</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">execution</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">executions</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">groupId</span>/&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">artifactId</span>/&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">version</span>/&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">type</span>/&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">classifier</span>/&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">scope</span>/&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">systemPath</span>/&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">exclusions</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">exclusion</span>&gt;</span></span><br><span class="line">                  <span class="tag">&lt;<span class="name">artifactId</span>/&gt;</span></span><br><span class="line">                  <span class="tag">&lt;<span class="name">groupId</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">exclusion</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;/<span class="name">exclusions</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">optional</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">goals</span>/&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">inherited</span>/&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">configuration</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">pluginManagement</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">extensions</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">executions</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">execution</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">id</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">phase</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">goals</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">inherited</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">configuration</span>/&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">execution</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">executions</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">type</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">classifier</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">scope</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">systemPath</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">exclusions</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">exclusion</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">artifactId</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">groupId</span>/&gt;</span></span><br><span class="line">              <span class="tag">&lt;/<span class="name">exclusion</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">exclusions</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">optional</span>/&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">goals</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">inherited</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">configuration</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">reports</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">reporting</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">excludeDefaults</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">outputDirectory</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">reportSets</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">reportSet</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">id</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">reports</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">inherited</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">configuration</span>/&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">reportSet</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">reportSets</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">inherited</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">configuration</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">reporting</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">profiles</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">profile</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">id</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">activation</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">activeByDefault</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">jdk</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">os</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">name</span>/&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">family</span>/&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">arch</span>/&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">version</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">os</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">name</span>/&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">value</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">file</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">missing</span>/&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">exists</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">file</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">activation</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">defaultGoal</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">resources</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">resource</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">targetPath</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">filtering</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">directory</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">includes</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">excludes</span>/&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">resource</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">resources</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">testResources</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">testResource</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">targetPath</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">filtering</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">directory</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">includes</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">excludes</span>/&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">testResource</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">testResources</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">directory</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">finalName</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filters</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">pluginManagement</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">groupId</span>/&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">artifactId</span>/&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">version</span>/&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">extensions</span>/&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">executions</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">execution</span>&gt;</span></span><br><span class="line">                  <span class="tag">&lt;<span class="name">id</span>/&gt;</span></span><br><span class="line">                  <span class="tag">&lt;<span class="name">phase</span>/&gt;</span></span><br><span class="line">                  <span class="tag">&lt;<span class="name">goals</span>/&gt;</span></span><br><span class="line">                  <span class="tag">&lt;<span class="name">inherited</span>/&gt;</span></span><br><span class="line">                  <span class="tag">&lt;<span class="name">configuration</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">execution</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;/<span class="name">executions</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">                  <span class="tag">&lt;<span class="name">groupId</span>/&gt;</span></span><br><span class="line">                  <span class="tag">&lt;<span class="name">artifactId</span>/&gt;</span></span><br><span class="line">                  <span class="tag">&lt;<span class="name">version</span>/&gt;</span></span><br><span class="line">                  <span class="tag">&lt;<span class="name">type</span>/&gt;</span></span><br><span class="line">                  <span class="tag">&lt;<span class="name">classifier</span>/&gt;</span></span><br><span class="line">                  <span class="tag">&lt;<span class="name">scope</span>/&gt;</span></span><br><span class="line">                  <span class="tag">&lt;<span class="name">systemPath</span>/&gt;</span></span><br><span class="line">                  <span class="tag">&lt;<span class="name">exclusions</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">exclusion</span>&gt;</span></span><br><span class="line">                      <span class="tag">&lt;<span class="name">artifactId</span>/&gt;</span></span><br><span class="line">                      <span class="tag">&lt;<span class="name">groupId</span>/&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">exclusion</span>&gt;</span></span><br><span class="line">                  <span class="tag">&lt;/<span class="name">exclusions</span>&gt;</span></span><br><span class="line">                  <span class="tag">&lt;<span class="name">optional</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">goals</span>/&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">inherited</span>/&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">configuration</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">pluginManagement</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">extensions</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">executions</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">execution</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">id</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">phase</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">goals</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">inherited</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">configuration</span>/&gt;</span></span><br><span class="line">              <span class="tag">&lt;/<span class="name">execution</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">executions</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">groupId</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">artifactId</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">version</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">type</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">classifier</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">scope</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">systemPath</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">exclusions</span>&gt;</span></span><br><span class="line">                  <span class="tag">&lt;<span class="name">exclusion</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">artifactId</span>/&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">groupId</span>/&gt;</span></span><br><span class="line">                  <span class="tag">&lt;/<span class="name">exclusion</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">exclusions</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">optional</span>/&gt;</span></span><br><span class="line">              <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">goals</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">inherited</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">configuration</span>/&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br><span class="line"></span><br><span class="line">      <span class="tag">&lt;<span class="name">modules</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">      <span class="tag">&lt;<span class="name">distributionManagement</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">repository</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">uniqueVersion</span>/&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">releases</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">enabled</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">updatePolicy</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">checksumPolicy</span>/&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">releases</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">snapshots</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">enabled</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">updatePolicy</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">checksumPolicy</span>/&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">snapshots</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">id</span>/&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">name</span>/&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">url</span>/&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">layout</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">repository</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">snapshotRepository</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">uniqueVersion</span>/&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">releases</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">enabled</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">updatePolicy</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">checksumPolicy</span>/&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">releases</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">snapshots</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">enabled</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">updatePolicy</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">checksumPolicy</span>/&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">snapshots</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">id</span>/&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">name</span>/&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">url</span>/&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">layout</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">snapshotRepository</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">site</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">id</span>/&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">name</span>/&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">url</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">site</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">downloadUrl</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">relocation</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">groupId</span>/&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">artifactId</span>/&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">version</span>/&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">message</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">relocation</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">status</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">distributionManagement</span>&gt;</span></span><br><span class="line"></span><br><span class="line">      <span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">key</span>&gt;</span>value<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line"></span><br><span class="line">      <span class="tag">&lt;<span class="name">dependencyManagement</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">type</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">classifier</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">scope</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">systemPath</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">exclusions</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">exclusion</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">artifactId</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">groupId</span>/&gt;</span></span><br><span class="line">              <span class="tag">&lt;/<span class="name">exclusion</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">exclusions</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">optional</span>/&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">dependencyManagement</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">groupId</span>/&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">artifactId</span>/&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">version</span>/&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">type</span>/&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">classifier</span>/&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">scope</span>/&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">systemPath</span>/&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">exclusions</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">exclusion</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">artifactId</span>/&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">groupId</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">exclusion</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">exclusions</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">optional</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"></span><br><span class="line">      <span class="tag">&lt;<span class="name">repositories</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">repository</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">releases</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">enabled</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">updatePolicy</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">checksumPolicy</span>/&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">releases</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">snapshots</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">enabled</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">updatePolicy</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">checksumPolicy</span>/&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">snapshots</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">id</span>/&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">name</span>/&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">url</span>/&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">layout</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">repository</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">repositories</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">pluginRepositories</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">pluginRepository</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">releases</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">enabled</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">updatePolicy</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">checksumPolicy</span>/&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">releases</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">snapshots</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">enabled</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">updatePolicy</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">checksumPolicy</span>/&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">snapshots</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">id</span>/&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">name</span>/&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">url</span>/&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">layout</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">pluginRepository</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">pluginRepositories</span>&gt;</span></span><br><span class="line"></span><br><span class="line">      <span class="tag">&lt;<span class="name">reports</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">reporting</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">excludeDefaults</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">outputDirectory</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">reportSets</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">reportSet</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">id</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">reports</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">inherited</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">configuration</span>/&gt;</span></span><br><span class="line">              <span class="tag">&lt;/<span class="name">reportSet</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">reportSets</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">inherited</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">configuration</span>/&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">reporting</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">profile</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">profiles</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>POM的详细说明参见官网的 <a href="http://maven.apache.org/pom.html" target="_blank" rel="noopener">POM Reference</a> 。</p>
</blockquote>
<h2 id="Super-POM"><a href="#Super-POM" class="headerlink" title="Super POM"></a>Super POM</h2><p><em>Super POM</em>是Maven的默认POM。所有POM都自动继承自Super POM，除非显式指定父POM。</p>
<p>每个版本的Maven的Super POM可能都有点不一样，具体参见官网。例如：<a href="http://maven.apache.org/ref/3-LATEST/maven-model-builder/super-pom.html#" target="_blank" rel="noopener">Maven 3.5.2 的Super POM</a>：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">project</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">repositories</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">repository</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">id</span>&gt;</span>central<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">name</span>&gt;</span>Central Repository<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">url</span>&gt;</span>https://repo.maven.apache.org/maven2<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">layout</span>&gt;</span>default<span class="tag">&lt;/<span class="name">layout</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">snapshots</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">enabled</span>&gt;</span>false<span class="tag">&lt;/<span class="name">enabled</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">snapshots</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">repository</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">repositories</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">pluginRepositories</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">pluginRepository</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">id</span>&gt;</span>central<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">name</span>&gt;</span>Central Repository<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">url</span>&gt;</span>https://repo.maven.apache.org/maven2<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">layout</span>&gt;</span>default<span class="tag">&lt;/<span class="name">layout</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">snapshots</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">enabled</span>&gt;</span>false<span class="tag">&lt;/<span class="name">enabled</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">snapshots</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">releases</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">updatePolicy</span>&gt;</span>never<span class="tag">&lt;/<span class="name">updatePolicy</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">releases</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">pluginRepository</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">pluginRepositories</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">directory</span>&gt;</span>$&#123;project.basedir&#125;/target<span class="tag">&lt;/<span class="name">directory</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">outputDirectory</span>&gt;</span>$&#123;project.build.directory&#125;/classes<span class="tag">&lt;/<span class="name">outputDirectory</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">finalName</span>&gt;</span>$&#123;project.artifactId&#125;-$&#123;project.version&#125;<span class="tag">&lt;/<span class="name">finalName</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">testOutputDirectory</span>&gt;</span>$&#123;project.build.directory&#125;/test-classes<span class="tag">&lt;/<span class="name">testOutputDirectory</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">sourceDirectory</span>&gt;</span>$&#123;project.basedir&#125;/src/main/java<span class="tag">&lt;/<span class="name">sourceDirectory</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scriptSourceDirectory</span>&gt;</span>$&#123;project.basedir&#125;/src/main/scripts<span class="tag">&lt;/<span class="name">scriptSourceDirectory</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">testSourceDirectory</span>&gt;</span>$&#123;project.basedir&#125;/src/test/java<span class="tag">&lt;/<span class="name">testSourceDirectory</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">resources</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">resource</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">directory</span>&gt;</span>$&#123;project.basedir&#125;/src/main/resources<span class="tag">&lt;/<span class="name">directory</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">resource</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">resources</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">testResources</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">testResource</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">directory</span>&gt;</span>$&#123;project.basedir&#125;/src/test/resources<span class="tag">&lt;/<span class="name">directory</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">testResource</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">testResources</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">pluginManagement</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- <span class="doctag">NOTE:</span> These plugins will be removed from future versions of the super POM --&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- They are kept for the moment as they are very unlikely to conflict with lifecycle mappings (MNG-4453) --&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-antrun-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.3<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-assembly-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.2-beta-5<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-dependency-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.8<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-release-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.3.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">pluginManagement</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">reporting</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">outputDirectory</span>&gt;</span>$&#123;project.build.directory&#125;/site<span class="tag">&lt;/<span class="name">outputDirectory</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">reporting</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">profiles</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- <span class="doctag">NOTE:</span> The release profile will be removed from future versions of the super POM --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">profile</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">id</span>&gt;</span>release-profile<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line"></span><br><span class="line">      <span class="tag">&lt;<span class="name">activation</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">name</span>&gt;</span>performRelease<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">value</span>&gt;</span>true<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">activation</span>&gt;</span></span><br><span class="line"></span><br><span class="line">      <span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">inherited</span>&gt;</span>true<span class="tag">&lt;/<span class="name">inherited</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-source-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">executions</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">execution</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">id</span>&gt;</span>attach-sources<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">goals</span>&gt;</span></span><br><span class="line">                  <span class="tag">&lt;<span class="name">goal</span>&gt;</span>jar<span class="tag">&lt;/<span class="name">goal</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">goals</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;/<span class="name">execution</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">executions</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">inherited</span>&gt;</span>true<span class="tag">&lt;/<span class="name">inherited</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-javadoc-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">executions</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">execution</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">id</span>&gt;</span>attach-javadocs<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">goals</span>&gt;</span></span><br><span class="line">                  <span class="tag">&lt;<span class="name">goal</span>&gt;</span>jar<span class="tag">&lt;/<span class="name">goal</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">goals</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;/<span class="name">execution</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">executions</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">inherited</span>&gt;</span>true<span class="tag">&lt;/<span class="name">inherited</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-deploy-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">updateReleaseInfo</span>&gt;</span>true<span class="tag">&lt;/<span class="name">updateReleaseInfo</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">profile</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">profiles</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>Super POM包含在<code>$M2_HOME/lib/maven-model-builder-x.x.jar</code>的<code>org/apache/maven/model/pom-4.0.0.xml</code>中。</p>
</blockquote>
<h2 id="最小的POM"><a href="#最小的POM" class="headerlink" title="最小的POM"></a>最小的POM</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">"http://maven.apache.org/POM/4.0.0"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://maven.apache.org/POM/4.0.0</span></span></span><br><span class="line"><span class="tag"><span class="string">                      http://maven.apache.org/xsd/maven-4.0.0.xsd"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line"> </span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.codehaus.mojo<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>my-project<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="Maven坐标"><a href="#Maven坐标" class="headerlink" title="Maven坐标"></a>Maven坐标</h2><p>POM中的<code>groupId</code>、<code>artifactId</code>、<code>version</code>、<code>packaging</code>（可选）和<code>classifier</code>（可选）五个元素构成了所谓的<strong>Maven坐标</strong>——它唯一定位一个Maven工件（依赖和插件）。</p>
<p>Maven坐标在控制台输出时，常写作如下形式：</p>
<ul>
<li>groupId:artifactId:version</li>
<li>groupId:artifactId:packaging:version</li>
<li>groupId:artifactId:packaging:classifier:version</li>
</ul>
<p><code>classifier</code>：用来区分那些由相同POM构建，但生成的内容不相同的工件。默认值为空。</p>
<p>例如：<code>foo</code>这个项目，使用不同插件可以生成<code>foo-1.0.jar</code>、<code>foo-1.0-jdk14.jar</code>、<code>foo-1.0-javadoc.jar</code>、<code>foo-1.0-sources.jar</code>等等工件。则<code>jdk14</code>、<code>javadoc</code>和<code>sources</code>就是这个项目的<code>classifier</code>，可以使用这些<code>classifier</code>直接定位到相应工件。</p>
<p>注意：与<code>packaging</code>不同，<code>classifier</code>不是在项目中直接定义的，而是由插件生成的。</p>
<blockquote>
<p>实际上，<code>version</code>也是可以缺省的，这时默认为最新release版本。</p>
</blockquote>
<h2 id="查看生效的POM"><a href="#查看生效的POM" class="headerlink" title="查看生效的POM"></a>查看生效的POM</h2><p>例如，查看Profile为<code>appserverConfig-dev</code>的生效POM：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ mvn <span class="built_in">help</span>:effective-pom -P appserverConfig-dev</span><br></pre></td></tr></table></figure>

<h1 id="项目依赖"><a href="#项目依赖" class="headerlink" title="项目依赖"></a>项目依赖</h1><h2 id="配置依赖"><a href="#配置依赖" class="headerlink" title="配置依赖"></a>配置依赖</h2><p>在<code>pom.xml</code>的<code>dependencies</code>元素中可以定义项目需要的所有依赖。当Maven开始构建时，它会自动安装这些依赖。Maven首先会去本地仓库中查找这些依赖并构建到项目中，如果本地仓库中没有找到，则会从配置的远程仓库中下载到本地仓库，然后再构建到项目中。</p>
<p>另外，依赖具有传递性。依赖的依赖也会被自动下载。</p>
<p><img src="Maven/%E4%BE%9D%E8%B5%96%E4%BC%A0%E9%80%92.jpg" alt="依赖传递"></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">"http://maven.apache.org/POM/4.0.0"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://maven.apache.org/POM/4.0.0</span></span></span><br><span class="line"><span class="tag"><span class="string">                      https://maven.apache.org/xsd/maven-4.0.0.xsd"</span>&gt;</span></span><br><span class="line">  ...</span><br><span class="line">  <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">type</span>&gt;</span>jar<span class="tag">&lt;/<span class="name">type</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">optional</span>&gt;</span>true<span class="tag">&lt;/<span class="name">optional</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">exclusions</span>&gt;</span></span><br><span class="line">      	<span class="tag">&lt;<span class="name">exclusion</span>&gt;</span>...<span class="tag">&lt;/<span class="name">exclusion</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">exclusions</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    ...</span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line">  ...</span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><code>type</code>：依赖类型，对应于Maven坐标中的<code>packaging</code>。默认值为<code>jar</code>。</p>
<h2 id="依赖范围"><a href="#依赖范围" class="headerlink" title="依赖范围"></a>依赖范围</h2><p>依赖范围是用于限制依赖的传递范围，从而影响构建任务的<code>classpath</code>。</p>
<ul>
<li><p><code>compile</code>：这是默认的依赖范围。<code>compile</code>依赖在一个项目的所有classpaths上均可用。</p>
</li>
<li><p><code>provided</code>：这种依赖只在编译和测试的classpaths上可用。在运行时，则期望由JDK或容器来提供这些依赖。例如：Servlet API。</p>
</li>
<li><p><code>runtime</code>：运行时依赖只在运行和测试的classpaths上可用，在编译时上是不可用的。例如：JDBC驱动。</p>
</li>
<li><p><code>test</code>：测试时依赖只在测试的classpaths上可用。例如：JUnit。</p>
</li>
<li><p><code>system</code>：（已废弃）与<code>provided</code>类似，但是，在运行时，必须使用<code>&lt;systemPath&gt;</code>来显式指定依赖的文件路径。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.sql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jdbc-stdext<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">scope</span>&gt;</span>system<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">systemPath</span>&gt;</span>$&#123;java.home&#125;/lib/rt.jar<span class="tag">&lt;/<span class="name">systemPath</span>&gt;</span>  <span class="comment">&lt;!--可以使用插值来访问环境变量</span></span><br><span class="line"><span class="comment">--&gt;</span><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>import</code>：只能出现在<code>&lt;dependencyManagement&gt;</code>中的依赖配置中。这种依赖将被它自己POM的<code>&lt;dependencyManagement&gt;</code>中的依赖替换。</p>
</li>
</ul>
<h2 id="依赖调解"><a href="#依赖调解" class="headerlink" title="依赖调解"></a>依赖调解</h2><p>依赖调解用于解决依赖树中，同一工件存在多个版本的冲突。</p>
<p>第一原则：离当前项目路径最近者优先。</p>
<p>例如：存在 A -&gt; B -&gt; C -&gt; D:2.0 和 A -&gt; E -&gt; D:1.0 两种依赖关系，则在构建 A 时 D:1.0 优先。</p>
<p>第二原则：当路径距离相同时，依赖声明的顺序靠前者优先。</p>
<h2 id="可选依赖"><a href="#可选依赖" class="headerlink" title="可选依赖"></a>可选依赖</h2><p>可选依赖不具有传递性。</p>
<p>假设有：A -&gt; B，B -&gt; X（可选），B -&gt; Y（可选）。则 A 的 classpath 中将不会包含 X 和 Y。如果希望在 A 的 classpath 中包含 X 或 Y，则需要在 A 的<code>pom.xml</code>中显式对 X 或 Y 进行依赖配置。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">project</span>&gt;</span></span><br><span class="line">  ...</span><br><span class="line">  <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- declare the dependency to be set as optional --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>sample.ProjectX<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>Project-X<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">scope</span>&gt;</span>compile<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">optional</span>&gt;</span>true<span class="tag">&lt;/<span class="name">optional</span>&gt;</span> <span class="comment">&lt;!-- value will be true or false only --&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line">  ...</span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="排除依赖"><a href="#排除依赖" class="headerlink" title="排除依赖"></a>排除依赖</h2><p>排除依赖将不会包含在 classpath 中。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">project</span>&gt;</span></span><br><span class="line">  ...</span><br><span class="line">  <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>sample.ProjectA<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>Project-A<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">scope</span>&gt;</span>compile<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">exclusions</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">exclusion</span>&gt;</span>  <span class="comment">&lt;!-- declare the exclusion here --&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>sample.ProjectB<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>Project-B<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">exclusion</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">exclusions</span>&gt;</span> </span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line">  ...</span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h2 id="依赖管理"><a href="#依赖管理" class="headerlink" title="依赖管理"></a>依赖管理</h2><p>项目X：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">project</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>maven<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>X<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">packaging</span>&gt;</span>pom<span class="tag">&lt;/<span class="name">packaging</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">name</span>&gt;</span>X<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">dependencyManagement</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>test<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>a<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>test<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>b<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">scope</span>&gt;</span>compile<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>test<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>c<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">scope</span>&gt;</span>compile<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>test<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>d<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">dependencyManagement</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>项目Y：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">project</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>X<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>maven<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>maven<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>Y<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">packaging</span>&gt;</span>pom<span class="tag">&lt;/<span class="name">packaging</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">name</span>&gt;</span>Y<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependencyManagement</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">dependency</span>&gt;</span><span class="comment">&lt;!--改变了version，但保留了scope--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>test<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>d<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependencyManagement</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span><span class="comment">&lt;!--改变了version和scope--&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>test<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>a<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">scope</span>&gt;</span>runtime<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span><span class="comment">&lt;!--保留了version和scope--&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>test<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>b<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span><span class="comment">&lt;!--改变了scope，但保留了version--&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>test<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>c<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">scope</span>&gt;</span>runtime<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="导入依赖"><a href="#导入依赖" class="headerlink" title="导入依赖"></a>导入依赖</h2><p>项目Z：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">project</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>maven<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>Z<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">packaging</span>&gt;</span>pom<span class="tag">&lt;/<span class="name">packaging</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">name</span>&gt;</span>Z<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependencyManagement</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">dependency</span>&gt;</span><span class="comment">&lt;!--导入依赖--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>maven<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>X<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">type</span>&gt;</span>pom<span class="tag">&lt;/<span class="name">type</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">scope</span>&gt;</span>import<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>test<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>d<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependencyManagement</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>test<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>a<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">scope</span>&gt;</span>runtime<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>test<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>c<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">scope</span>&gt;</span>runtime<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>项目X的<code>&lt;dependencyManagement&gt;</code>中的依赖将被合并到项目Z的<code>&lt;dependencyManagement&gt;</code>中，除了依赖 d，因为它在Z中也有定义。</p>
<h2 id="查看当前项目的依赖信息："><a href="#查看当前项目的依赖信息：" class="headerlink" title="查看当前项目的依赖信息："></a>查看当前项目的依赖信息：</h2><p>以列表方式列出当前项目的所有依赖：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> myproject</span><br><span class="line">$ mvn dependency:list</span><br></pre></td></tr></table></figure>

<p>以树型方式列出当前项目的所有依赖：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> myproject</span><br><span class="line">$ mvn dependency:tree</span><br></pre></td></tr></table></figure>

<p>分析依赖关系（基于编译时信息，发现不了运行时依赖）：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> myproject</span><br><span class="line">$ mvn dependency:analyze</span><br></pre></td></tr></table></figure>



<h1 id="构建项目-1"><a href="#构建项目-1" class="headerlink" title="构建项目"></a>构建项目</h1><h2 id="构建生命周期"><a href="#构建生命周期" class="headerlink" title="构建生命周期"></a>构建生命周期</h2><p>Maven的构建生命周期定义了一个项目在构建过程中经历的整个过程，它由许多构建阶段组成，这些构建阶段是有顺序的。而每个构建阶段可以与0个或任意多个插件目标绑定，并由插件目标来实现它的具体行为。在必要的时候，用户甚至可以创建自己的插件来定制构建行为。</p>
<blockquote>
<p>有些构建阶段，它们的名字是由连字符分隔的复合单词（例如：<code>pre-*</code>、<code>post-*</code>、<code>process-*</code>等等），它们通常不应该在命令行中直接调用。因为，它们要么产生对我们没用的中间结果，要么只是做了一些准备工作（例如：启动Tomcat）。直接调用这些阶段将导致某些被启动的服务没办法正常关闭。</p>
</blockquote>
<p>Maven中有三个内置的构建生命周期：default、clean和site。</p>
<h3 id="Clean生命周期"><a href="#Clean生命周期" class="headerlink" title="Clean生命周期"></a>Clean生命周期</h3><p>Clean生命周期的目的是清理项目。</p>
<table>
<thead>
<tr>
<th><code>pre-clean</code></th>
<th>execute processes needed prior to the actual project cleaning</th>
</tr>
</thead>
<tbody><tr>
<td><code>clean</code></td>
<td>remove all files generated by the previous build</td>
</tr>
<tr>
<td><code>post-clean</code></td>
<td>execute processes needed to finalize the project cleaning</td>
</tr>
</tbody></table>
<h3 id="默认生命周期"><a href="#默认生命周期" class="headerlink" title="默认生命周期"></a>默认生命周期</h3><p>默认生命周期的目的是构建项目。</p>
<table>
<thead>
<tr>
<th><code>validate</code></th>
<th>validate the project is correct and all necessary information is available.</th>
</tr>
</thead>
<tbody><tr>
<td><code>initialize</code></td>
<td>initialize build state, e.g. set properties or create directories.</td>
</tr>
<tr>
<td><code>generate-sources</code></td>
<td>generate any source code for inclusion in compilation.</td>
</tr>
<tr>
<td><code>process-sources</code></td>
<td>process the source code, for example to filter any values.</td>
</tr>
<tr>
<td><code>generate-resources</code></td>
<td>generate resources for inclusion in the package.</td>
</tr>
<tr>
<td><code>process-resources</code></td>
<td>copy and process the resources into the destination directory, ready for packaging.</td>
</tr>
<tr>
<td><code>compile</code></td>
<td>compile the source code of the project.</td>
</tr>
<tr>
<td><code>process-classes</code></td>
<td>post-process the generated files from compilation, for example to do bytecode enhancement on Java classes.</td>
</tr>
<tr>
<td><code>generate-test-sources</code></td>
<td>generate any test source code for inclusion in compilation.</td>
</tr>
<tr>
<td><code>process-test-sources</code></td>
<td>process the test source code, for example to filter any values.</td>
</tr>
<tr>
<td><code>generate-test-resources</code></td>
<td>create resources for testing.</td>
</tr>
<tr>
<td><code>process-test-resources</code></td>
<td>copy and process the resources into the test destination directory.</td>
</tr>
<tr>
<td><code>test-compile</code></td>
<td>compile the test source code into the test destination directory</td>
</tr>
<tr>
<td><code>process-test-classes</code></td>
<td>post-process the generated files from test compilation, for example to do bytecode enhancement on Java classes. For Maven 2.0.5 and above.</td>
</tr>
<tr>
<td><code>test</code></td>
<td>run tests using a suitable unit testing framework. These tests should not require the code be packaged or deployed.</td>
</tr>
<tr>
<td><code>prepare-package</code></td>
<td>perform any operations necessary to prepare a package before the actual packaging. This often results in an unpacked, processed version of the package. (Maven 2.1 and above)</td>
</tr>
<tr>
<td><code>package</code></td>
<td>take the compiled code and package it in its distributable format, such as a JAR.</td>
</tr>
<tr>
<td><code>pre-integration-test</code></td>
<td>perform actions required before integration tests are executed. This may involve things such as setting up the required environment.</td>
</tr>
<tr>
<td><code>integration-test</code></td>
<td>process and deploy the package if necessary into an environment where integration tests can be run.</td>
</tr>
<tr>
<td><code>post-integration-test</code></td>
<td>perform actions required after integration tests have been executed. This may including cleaning up the environment.</td>
</tr>
<tr>
<td><code>verify</code></td>
<td>run any checks to verify the package is valid and meets quality criteria.</td>
</tr>
<tr>
<td><code>install</code></td>
<td>install the package into the local repository, for use as a dependency in other projects locally.</td>
</tr>
<tr>
<td><code>deploy</code></td>
<td>done in an integration or release environment, copies the final package to the remote repository for sharing with other developers and projects.</td>
</tr>
</tbody></table>
<h3 id="Site生命周期"><a href="#Site生命周期" class="headerlink" title="Site生命周期"></a>Site生命周期</h3><p>Site生命周期的目的是建立项目站点。</p>
<table>
<thead>
<tr>
<th><code>pre-site</code></th>
<th>execute processes needed prior to the actual project site generation</th>
</tr>
</thead>
<tbody><tr>
<td><code>site</code></td>
<td>generate the project’s site documentation</td>
</tr>
<tr>
<td><code>post-site</code></td>
<td>execute processes needed to finalize the site generation, and to prepare for site deployment</td>
</tr>
<tr>
<td><code>site-deploy</code></td>
<td>deploy the generated site documentation to the specified web server</td>
</tr>
</tbody></table>
<h3 id="内置的生命周期绑定"><a href="#内置的生命周期绑定" class="headerlink" title="内置的生命周期绑定"></a>内置的生命周期绑定</h3><h4 id="Clean生命周期绑定"><a href="#Clean生命周期绑定" class="headerlink" title="Clean生命周期绑定"></a>Clean生命周期绑定</h4><table>
<thead>
<tr>
<th><code>clean</code></th>
<th><code>clean:clean</code></th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
</tr>
</tbody></table>
<h4 id="packaging是ejb、ejb3、jar、par、rar、war的默认生命周期绑定"><a href="#packaging是ejb、ejb3、jar、par、rar、war的默认生命周期绑定" class="headerlink" title="packaging是ejb、ejb3、jar、par、rar、war的默认生命周期绑定"></a><code>packaging</code>是<code>ejb</code>、<code>ejb3</code>、<code>jar</code>、<code>par</code>、<code>rar</code>、<code>war</code>的默认生命周期绑定</h4><table>
<thead>
<tr>
<th><code>process-resources</code></th>
<th><code>resources:resources</code></th>
</tr>
</thead>
<tbody><tr>
<td><code>compile</code></td>
<td><code>compiler:compile</code></td>
</tr>
<tr>
<td><code>process-test-resources</code></td>
<td><code>resources:testResources</code></td>
</tr>
<tr>
<td><code>test-compile</code></td>
<td><code>compiler:testCompile</code></td>
</tr>
<tr>
<td><code>test</code></td>
<td><code>surefire:test</code></td>
</tr>
<tr>
<td><code>package</code></td>
<td><code>ejb:ejb</code> <em>or</em> <code>ejb3:ejb3</code> <em>or</em> <code>jar:jar</code> <em>or</em> <code>par:par</code> <em>or</em> <code>rar:rar</code> <em>or</em> <code>war:war</code></td>
</tr>
<tr>
<td><code>install</code></td>
<td><code>install:install</code></td>
</tr>
<tr>
<td><code>deploy</code></td>
<td><code>deploy:deploy</code></td>
</tr>
</tbody></table>
<h4 id="packaging是ear的默认生命周期绑定"><a href="#packaging是ear的默认生命周期绑定" class="headerlink" title="packaging是ear的默认生命周期绑定"></a><code>packaging</code>是<code>ear</code>的默认生命周期绑定</h4><table>
<thead>
<tr>
<th><code>generate-resources</code></th>
<th><code>ear:generate-application-xml</code></th>
</tr>
</thead>
<tbody><tr>
<td><code>process-resources</code></td>
<td><code>resources:resources</code></td>
</tr>
<tr>
<td><code>package</code></td>
<td><code>ear:ear</code></td>
</tr>
<tr>
<td><code>install</code></td>
<td><code>install:install</code></td>
</tr>
<tr>
<td><code>deploy</code></td>
<td><code>deploy:deploy</code></td>
</tr>
</tbody></table>
<h4 id="packaging是maven-plugin的默认生命周期绑定"><a href="#packaging是maven-plugin的默认生命周期绑定" class="headerlink" title="packaging是maven-plugin的默认生命周期绑定"></a><code>packaging</code>是<code>maven-plugin</code>的默认生命周期绑定</h4><table>
<thead>
<tr>
<th><code>generate-resources</code></th>
<th><code>plugin:descriptor</code></th>
</tr>
</thead>
<tbody><tr>
<td><code>process-resources</code></td>
<td><code>resources:resources</code></td>
</tr>
<tr>
<td><code>compile</code></td>
<td><code>compiler:compile</code></td>
</tr>
<tr>
<td><code>process-test-resources</code></td>
<td><code>resources:testResources</code></td>
</tr>
<tr>
<td><code>test-compile</code></td>
<td><code>compiler:testCompile</code></td>
</tr>
<tr>
<td><code>test</code></td>
<td><code>surefire:test</code></td>
</tr>
<tr>
<td><code>package</code></td>
<td><code>jar:jar</code> <em>and</em> <code>plugin:addPluginArtifactMetadata</code></td>
</tr>
<tr>
<td><code>install</code></td>
<td><code>install:install</code></td>
</tr>
<tr>
<td><code>deploy</code></td>
<td><code>deploy:deploy</code></td>
</tr>
</tbody></table>
<h4 id="packaging是pom的默认生命周期绑定"><a href="#packaging是pom的默认生命周期绑定" class="headerlink" title="packaging是pom的默认生命周期绑定"></a><code>packaging</code>是<code>pom</code>的默认生命周期绑定</h4><table>
<thead>
<tr>
<th><code>package</code></th>
<th><code>site:attach-descriptor</code></th>
</tr>
</thead>
<tbody><tr>
<td><code>install</code></td>
<td><code>install:install</code></td>
</tr>
<tr>
<td><code>deploy</code></td>
<td><code>deploy:deploy</code></td>
</tr>
</tbody></table>
<h4 id="Site生命周期绑定"><a href="#Site生命周期绑定" class="headerlink" title="Site生命周期绑定"></a>Site生命周期绑定</h4><table>
<thead>
<tr>
<th><code>site</code></th>
<th><code>site:site</code></th>
</tr>
</thead>
<tbody><tr>
<td><code>site-deploy</code></td>
<td><code>site:deploy</code></td>
</tr>
</tbody></table>
<h3 id="自定义的生命周期绑定"><a href="#自定义的生命周期绑定" class="headerlink" title="自定义的生命周期绑定"></a>自定义的生命周期绑定</h3><p>可以在POM中显式设置插件目标与构建阶段的绑定：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line"> <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.mycompany.example<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>display-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">executions</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">execution</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">phase</span>&gt;</span>process-test-resources<span class="tag">&lt;/<span class="name">phase</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">goals</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">goal</span>&gt;</span>time<span class="tag">&lt;/<span class="name">goal</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;/<span class="name">goals</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;/<span class="name">execution</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">executions</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">...</span><br></pre></td></tr></table></figure>



<h2 id="打包方式"><a href="#打包方式" class="headerlink" title="打包方式"></a>打包方式</h2><p>要对Maven项目打包，只需要执行下列Maven命令：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mvn package</span><br></pre></td></tr></table></figure>

<p>打包方式由<code>packaging</code>设置，它当前内置的类型有：<code>jar</code>（默认值）、<code>pom</code>、 <code>maven-plugin</code>、<code>ejb</code>、<code>war</code>、<code>ear</code>、<code>rar</code>、<code>par</code> 。</p>
<p>除了内置的类型，还可以启用其他的一些packaging类型（例如：<code>plexus-application</code>）。这需要</p>
<p>在POM中添加相应的插件（例如：Plexus插件），并且设置它的<code>&lt;extensions&gt;true&lt;/extensions&gt;</code>。</p>
<h2 id="离线构建"><a href="#离线构建" class="headerlink" title="离线构建"></a>离线构建</h2><p>如果需要在临时断开网络的情况下构建项目，可以使用<code>-o</code>参数：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ mvn -o package</span><br></pre></td></tr></table></figure>

<p>在离线构建下，许多插件将不会执行那些需要连接网络的操作。</p>
<h1 id="插件"><a href="#插件" class="headerlink" title="插件"></a>插件</h1><p>Maven实际上就是由一个核心引擎加上许多插件组成。核心引擎提供了基本的项目处理能力和构建管理，而插件负责执行实际的构建任务。</p>
<p>在Maven中插件分为<strong>构建插件</strong>和<strong>报告插件</strong>：</p>
<ul>
<li>构建插件：在构建期间执行。它们应该在<code>&lt;build&gt;&lt;plugins/&gt;&lt;/build&gt;</code>元素中配置；</li>
<li>报告插件：在生成项目站点期间执行。它们应该在<code>&lt;reporting&gt;&lt;plugins/&gt;&lt;/reporting&gt;</code>元素中配置。</li>
</ul>
<h2 id="插件目标"><a href="#插件目标" class="headerlink" title="插件目标"></a>插件目标</h2><p>插件由一个或多个Mojos组成，每个Mojo实现了一个具体的任务，并且它会映射到一个插件目标（通过<code>@goal</code>注解），而每个插件目标可以绑定到0个或任意多个构建阶段。用户可通过执行构建阶段或插件目标，来完成某些任务。</p>
<p>没有与任何构建阶段绑定的插件目标，不属于任何构建生命周期，它们通常作为一个普通任务，通过Maven命令直接执行。</p>
<p>当在一个项目中执行一个构建阶段时，其实是执行这个项目包含的插件（有些默认包含的插件是由<code>packaging</code>的设置决定的）中，与该构建阶段及在它之前的阶段绑定的插件目标。</p>
<p>当多个插件目标绑定到同一个构建阶段时，它们的执行顺序是：首先执行与<code>packaging</code>相关的内置绑定目标，然后再按在POM中定义的插件的先后顺序依次执行对应目标。另外，可以使用<code>executions</code>元素来获得目标执行顺序的更多控制权。</p>
<h2 id="配置插件"><a href="#配置插件" class="headerlink" title="配置插件"></a>配置插件</h2><h3 id="配置参数"><a href="#配置参数" class="headerlink" title="配置参数"></a>配置参数</h3><p>构建插件和报告插件都可以通过<code>&lt;plugin&gt;&lt;configuration/&gt;&lt;/plugin&gt;</code>来配置参数（即Mojo类中的属性）。</p>
<p>例如有一个Mojo类——<code>MyQueryMojo</code>：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@goal</span> query</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyQueryMojo</span></span></span><br><span class="line"><span class="class">    <span class="keyword">extends</span> <span class="title">AbstractMojo</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@parameter</span> expression="$&#123;query.url&#125;"</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> String url;</span><br><span class="line"> </span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@parameter</span> default-value="60"</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> timeout;</span><br><span class="line"> </span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@parameter</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> String[] options;</span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">execute</span><span class="params">()</span></span></span><br><span class="line"><span class="function">        <span class="keyword">throws</span> MojoExecutionException</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        ...</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>在Mojo上的注解，既可以是Java注解，也可以是Javadoc注解。</p>
</blockquote>
<p>则在POM中可为该Mojo配置需要的URL、timeout和options：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">project</span>&gt;</span></span><br><span class="line">  ...</span><br><span class="line">  <span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-myquery-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">url</span>&gt;</span>http://www.foobar.com/query<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">timeout</span>&gt;</span>10<span class="tag">&lt;/<span class="name">timeout</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">options</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">option</span>&gt;</span>one<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">option</span>&gt;</span>two<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">option</span>&gt;</span>three<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">options</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br><span class="line">  ...</span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>在配置插件时，如果该插件是Maven官方插件（即<code>groupId</code>为<code>org.apache.maven.plugins</code>），则可以省略<code>groupId</code>。</p>
</blockquote>
<p>上面的<code>url</code>属性使用了<code>@parameter expression</code>注解，等号右边实际上是对一个系统属性<code>query.url</code>的引用。因此，<code>url</code>属性还可以通过系统属性<code>query.url</code>进行配置：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ mvn myquery:query -Dquery.url=http://maven.apache.org</span><br></pre></td></tr></table></figure>

<h4 id="配置基本类型参数"><a href="#配置基本类型参数" class="headerlink" title="配置基本类型参数"></a>配置基本类型参数</h4><p>Mojo：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Parameter</span>( property = <span class="string">"sayhi.greeting"</span>, defaultValue = <span class="string">"Hello World!"</span> )</span><br><span class="line"><span class="keyword">private</span> String greeting;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Parameter</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">boolean</span> myBoolean;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Parameter</span></span><br><span class="line"><span class="keyword">private</span> Integer myInteger;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Parameter</span></span><br><span class="line"><span class="keyword">private</span> Double myDouble;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Parameter</span></span><br><span class="line"><span class="keyword">private</span> Date myDate;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Parameter</span></span><br><span class="line"><span class="keyword">private</span> File myFile;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Parameter</span></span><br><span class="line"><span class="keyword">private</span> URL myURL</span><br></pre></td></tr></table></figure>

<p>POM：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">greeting</span>&gt;</span>Welcome<span class="tag">&lt;/<span class="name">greeting</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">myBoolean</span>&gt;</span>true<span class="tag">&lt;/<span class="name">myBoolean</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">myInteger</span>&gt;</span>10<span class="tag">&lt;/<span class="name">myInteger</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">myDouble</span>&gt;</span>1.0<span class="tag">&lt;/<span class="name">myDouble</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">myDate</span>&gt;</span>2005-10-06 2:22:55.1 PM<span class="tag">&lt;/<span class="name">myDate</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">myFile</span>&gt;</span>c:\temp<span class="tag">&lt;/<span class="name">myFile</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">myURL</span>&gt;</span>http://maven.apache.org<span class="tag">&lt;/<span class="name">myURL</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>日期类型必须采用：yyyy-MM-dd HH:mm:ss.S a（例如：2005-10-06 2:22:55.1 PM）或yyyy-MM-dd HH:mm:ssa（例如：2005-10-06 2:22:55PM）格式。</p>
<p>文件类型的路径如果是相对路径（不以<code>/</code>或盘符开头），则是相对于POM的路径。</p>
<h4 id="配置枚举类型参数"><a href="#配置枚举类型参数" class="headerlink" title="配置枚举类型参数"></a>配置枚举类型参数</h4><p>Mojo：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">enum</span> Color &#123;</span><br><span class="line">  GREEN,</span><br><span class="line">  RED,</span><br><span class="line">  BLUE</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@Parameter</span>(defaultValue = <span class="string">"GREEN"</span>)</span><br><span class="line"><span class="keyword">private</span> Color myColor;</span><br></pre></td></tr></table></figure>

<p>POM：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">myColor</span>&gt;</span>GREEN<span class="tag">&lt;/<span class="name">myColor</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h4 id="配置对象参数"><a href="#配置对象参数" class="headerlink" title="配置对象参数"></a>配置对象参数</h4><p>Mojo：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Parameter</span></span><br><span class="line"><span class="keyword">private</span> SuperPerson jo;</span><br></pre></td></tr></table></figure>

<p>POM：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">person</span> <span class="attr">implementation</span>=<span class="string">"com.mycompany.mojo.query.SuperPerson"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">firstName</span>&gt;</span>Jason<span class="tag">&lt;/<span class="name">firstName</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">lastName</span>&gt;</span>van Zyl<span class="tag">&lt;/<span class="name">lastName</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">person</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<p>如果省略<code>implementation</code>，则默认为在当前Mojo所在包下面有一个<code>Person</code>类。</p>
<h4 id="配置List参数"><a href="#配置List参数" class="headerlink" title="配置List参数"></a>配置List参数</h4><p>Mojo：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyAnimalMojo</span></span></span><br><span class="line"><span class="class">    <span class="keyword">extends</span> <span class="title">AbstractMojo</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@parameter</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> List animals;</span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">execute</span><span class="params">()</span></span></span><br><span class="line"><span class="function">        <span class="keyword">throws</span> MojoExecutionException</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        ...</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>POM：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">project</span>&gt;</span></span><br><span class="line">  ...</span><br><span class="line">  <span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-myanimal-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">animals</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">animal</span>&gt;</span>cat<span class="tag">&lt;/<span class="name">animal</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">animal</span>&gt;</span>dog<span class="tag">&lt;/<span class="name">animal</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">animal</span>&gt;</span>aardvark<span class="tag">&lt;/<span class="name">animal</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">animals</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br><span class="line">  ...</span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>当List没指定元素的类型时，它遵循如下策略：（也适用于数组、May、Properties、对象）</p>
<ul>
<li>元素的XML标签包含一个<code>implementation</code>属性，用于指定元素的实现类；</li>
<li>元素的XML标签名是一个类的完全限定名；</li>
<li>元素的XML标签名是一个简单类名，该类必须与当前Mojo在同一个包下；</li>
<li>如果元素没有子元素，则假定为<code>String</code>。</li>
</ul>
<h4 id="配置映射参数"><a href="#配置映射参数" class="headerlink" title="配置映射参数"></a>配置映射参数</h4><p>Mojo：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * My Map.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@parameter</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> Map myMap;</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<p>POM：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line">  <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">myMap</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">key1</span>&gt;</span>value1<span class="tag">&lt;/<span class="name">key1</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">key2</span>&gt;</span>value2<span class="tag">&lt;/<span class="name">key2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">myMap</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<h4 id="配置Properties参数"><a href="#配置Properties参数" class="headerlink" title="配置Properties参数"></a>配置<code>Properties</code>参数</h4><p>Mojo：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * My Properties.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@parameter</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> Properties myProperties;</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<p>POM：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line">  <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">myProperties</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>propertyName1<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>propertyValue1<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>propertyName2<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>propertyValue2<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">myProperties</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<h3 id="构建插件专用配置"><a href="#构建插件专用配置" class="headerlink" title="构建插件专用配置"></a>构建插件专用配置</h3><h4 id="使用-lt-executions-gt-标签"><a href="#使用-lt-executions-gt-标签" class="headerlink" title="使用&lt;executions&gt;标签"></a>使用<code>&lt;executions&gt;</code>标签</h4><p><code>&lt;executions&gt;</code>标签可用于将插件目标和目标参数，与某个构建阶段绑定在一起。</p>
<p><code>MyQueryMojo</code>：参见“配置参数”。</p>
<p><code>MyBindedQueryMojo</code>：（使用<code>@phase</code>注解指定默认绑定的构建阶段）</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@goal</span> query2</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@phase</span> package</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyBindedQueryMojo</span></span></span><br><span class="line"><span class="class">    <span class="keyword">extends</span> <span class="title">AbstractMojo</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@parameter</span> expression="$&#123;query.url&#125;"</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> String url;</span><br><span class="line"> </span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@parameter</span> default-value="60"</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> timeout;</span><br><span class="line"> </span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@parameter</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> String[] options;</span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">execute</span><span class="params">()</span></span></span><br><span class="line"><span class="function">        <span class="keyword">throws</span> MojoExecutionException</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        ...</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>POM：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">project</span>&gt;</span></span><br><span class="line">  ...</span><br><span class="line">  <span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-myquery-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">executions</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">execution</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">id</span>&gt;</span>execution1<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">phase</span>&gt;</span>test<span class="tag">&lt;/<span class="name">phase</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">url</span>&gt;</span>http://www.foo.com/query<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">timeout</span>&gt;</span>10<span class="tag">&lt;/<span class="name">timeout</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">options</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">option</span>&gt;</span>one<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">option</span>&gt;</span>two<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">option</span>&gt;</span>three<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;/<span class="name">options</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">goals</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">goal</span>&gt;</span>query<span class="tag">&lt;/<span class="name">goal</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">goals</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">execution</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">execution</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">id</span>&gt;</span>execution2<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">url</span>&gt;</span>http://www.bar.com/query<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">timeout</span>&gt;</span>15<span class="tag">&lt;/<span class="name">timeout</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">options</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">option</span>&gt;</span>four<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">option</span>&gt;</span>five<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">option</span>&gt;</span>six<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;/<span class="name">options</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">goals</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">goal</span>&gt;</span>query2<span class="tag">&lt;/<span class="name">goal</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">goals</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">execution</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">executions</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br><span class="line">  ...</span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><code>execution1</code>将插件目标<code>query</code>以及相关参数配置，与构建阶段<code>test</code>绑定。</p>
<p><code>execution2</code>没有显式指定绑定的构建阶段，则与Mojo中用注解配置的默认构建阶段绑定。假如也没有配置默认绑定的构建阶段，则该Execution永远不会被执行。如果<code>execution2</code>显式指定了绑定的构建阶段，则它将覆盖默认绑定的构建阶段。</p>
<p>在同一个POM的同一个插件中，Execution的<code>id</code>必须是唯一的。而在POM的继承层次中，不同 POM的相同插件的Execution的<code>id</code>可以相同，这时相同<code>id</code>的Execution将被合并。通常将相同<code>id</code>的Execution的共同配置放到Profiles中。</p>
<p>另外，同一个Mojo可以被多个Execution映射到不同的构建阶段。</p>
<h5 id="直接执行Execution"><a href="#直接执行Execution" class="headerlink" title="直接执行Execution"></a>直接执行Execution</h5><p>从Maven 3.3.1开始，可以使用Maven命令直接执行Execution：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ mvn myqyeryplugin:queryMojo@execution1</span><br></pre></td></tr></table></figure>

<h4 id="使用-lt-dependencies-gt-标签"><a href="#使用-lt-dependencies-gt-标签" class="headerlink" title="使用&lt;dependencies&gt;标签"></a>使用<code>&lt;dependencies&gt;</code>标签</h4><p>使用<code>&lt;dependencies&gt;</code>标签可以修改插件原来使用的依赖配置。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">project</span>&gt;</span></span><br><span class="line">  ...</span><br><span class="line">  <span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-antrun-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        ...</span><br><span class="line">        <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.ant<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>ant<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.7.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.ant<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>ant-launcher<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.7.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br><span class="line">  ...</span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="使用-lt-inherited-gt-标签"><a href="#使用-lt-inherited-gt-标签" class="headerlink" title="使用&lt;inherited&gt;标签"></a>使用<code>&lt;inherited&gt;</code>标签</h4><p>默认情况下，插件的配置会被子POM继承。如果要禁止被子POM继承，则可将该标签设置为<code>false</code>：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">project</span>&gt;</span></span><br><span class="line">  ...</span><br><span class="line">  <span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-antrun-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">inherited</span>&gt;</span>false<span class="tag">&lt;/<span class="name">inherited</span>&gt;</span></span><br><span class="line">        ...</span><br><span class="line">      <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br><span class="line">  ...</span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h3 id="报告插件专用配置"><a href="#报告插件专用配置" class="headerlink" title="报告插件专用配置"></a>报告插件专用配置</h3><p>以Site生命周期的构建阶段方式执行报告插件。例如：<code>mvn site</code>。则只会在<code>&lt;reporting&gt;</code>下找插件的配置信息。</p>
<p>以插件目标方式直接执行的报告插件。例如：<code>mvn aplugin:areportgoal</code>。则首先会在<code>&lt;reporting&gt;</code>下找插件的配置信息。如果没找到，则会到<code>&lt;build&gt;</code>下找插件的配置信息。</p>
<h5 id="使用-lt-reportSets-gt-有选择地生成报告内容"><a href="#使用-lt-reportSets-gt-有选择地生成报告内容" class="headerlink" title="使用&lt;reportSets&gt;有选择地生成报告内容"></a>使用<code>&lt;reportSets&gt;</code>有选择地生成报告内容</h5><p><code>&lt;reportSets&gt;</code>用于指定生成的内容中要包含哪些报告。如果缺省<code>&lt;reportSets&gt;</code>，则表示生成内容包含所有报告。</p>
<p>例如：只生成项目团队报告：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">project</span>&gt;</span></span><br><span class="line">  ...</span><br><span class="line">  <span class="tag">&lt;<span class="name">reporting</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-project-info-reports-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.1.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">reportSets</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">reportSet</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">reports</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">report</span>&gt;</span>project-team<span class="tag">&lt;/<span class="name">report</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">reports</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">reportSet</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">reportSets</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">reporting</span>&gt;</span></span><br><span class="line">  ...</span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>如果要排除所有报告，只需：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">reportSets</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">reportSet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">reports</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">reportSet</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">reportSets</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="使用-lt-inherited-gt-标签-1"><a href="#使用-lt-inherited-gt-标签-1" class="headerlink" title="使用&lt;inherited&gt;标签"></a>使用<code>&lt;inherited&gt;</code>标签</h4><p>类似于构建插件的情况，如果要禁止被子POM继承，则可将该标签设置为<code>false</code>：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">project</span>&gt;</span></span><br><span class="line">  ...</span><br><span class="line">  <span class="tag">&lt;<span class="name">reporting</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-project-info-reports-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.1.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">inherited</span>&gt;</span>false<span class="tag">&lt;/<span class="name">inherited</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">reporting</span>&gt;</span></span><br><span class="line">  ...</span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="插件前缀解析机制"><a href="#插件前缀解析机制" class="headerlink" title="插件前缀解析机制"></a>插件前缀解析机制</h2><p>通过前面的介绍，我们知道可以在命令行中直接执行插件目标。例如：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ mvn org.apache.maven.plugins:maven-dependency-plugin:2.8:tree</span><br><span class="line">$ mvn dependency:tree</span><br></pre></td></tr></table></figure>

<p>上面两条命令的效果是一样的。区别在于：第一条命令采用“插件Maven坐标:插件目标”形式，而第二条命令采用“插件前缀:插件目标”形式。</p>
<p>引入插件前缀的目的就是为了避免出现像第一条命令那样的繁琐输入。</p>
<h3 id="默认插件前缀"><a href="#默认插件前缀" class="headerlink" title="默认插件前缀"></a>默认插件前缀</h3><p>Maven官方插件的<code>artifactId</code>如果是以<code>maven-xxx-plugin</code>模式命名的，则“xxx”部分自动成为插件前缀。</p>
<p>第三方插件的<code>artifactId</code>如果是以<code>xxx-maven-plugin</code>模式命名的，则“xxx”部分自动成为插件前缀。</p>
<h3 id="通过maven-plugin-plugin指定插件前缀"><a href="#通过maven-plugin-plugin指定插件前缀" class="headerlink" title="通过maven-plugin-plugin指定插件前缀"></a>通过<code>maven-plugin-plugin</code>指定插件前缀</h3><p>如果默认插件前缀满足不了你的需求，则可在插件的POM中，通过<code>maven-plugin-plugin</code>指定插件前缀：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">project</span>&gt;</span></span><br><span class="line">  ...</span><br><span class="line">  <span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">    ...</span><br><span class="line">    <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">      ...</span><br><span class="line">      <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-plugin-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.3<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">          ...</span><br><span class="line">          <span class="tag">&lt;<span class="name">goalPrefix</span>&gt;</span>somePrefix<span class="tag">&lt;/<span class="name">goalPrefix</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>这样，就可以使用该插件前缀执行插件目标了：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ mvn somePrefix:goal</span><br></pre></td></tr></table></figure>

<h3 id="通过Maven元数据来配置插件前缀"><a href="#通过Maven元数据来配置插件前缀" class="headerlink" title="通过Maven元数据来配置插件前缀"></a>通过Maven元数据来配置插件前缀</h3><p>不管前面使用什么方法配置插件前缀，最终都是存储在Maven元数据中。</p>
<p>在远程仓库中，Maven元数据存储在各<code>groupId</code>对应的目录下的<code>maven-metadata.xml</code>中。而在本地仓库中，则是存储在各<code>groupId</code>对应的目录下的<code>maven-metadata-${repoId}.xml</code>和`maven-metadata-local.xml中（因为本地仓库会对应多个远程仓库，以及本地仓库特有的私有工件）。</p>
<p>例如：<code>maven-metadata-central.xml</code>：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">metadata</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">name</span>&gt;</span>Apache Maven ACR Plugin<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">prefix</span>&gt;</span>acr<span class="tag">&lt;/<span class="name">prefix</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-acr-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">name</span>&gt;</span>Apache Maven Ant Plugin<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">prefix</span>&gt;</span>ant<span class="tag">&lt;/<span class="name">prefix</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-ant-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">    ...</span><br><span class="line">  <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">metadata</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="配置插件查找的位置"><a href="#配置插件查找的位置" class="headerlink" title="配置插件查找的位置"></a>配置插件查找的位置</h3><p>虽然插件目标与插件前缀的对应关系配置在Maven元数据中，而Maven元数据的位置与插件的<code>groupId</code>有关，但是在命令行中引用插件前缀时，如何定位到Maven元数据？总不能到所有的<code>groupId</code>下查找。</p>
<p>默认情况下，Maven只会到<code>groupId</code>为<strong>org.apache.maven.plugins</strong>和<strong>org.codehaus.mojo</strong>对应的路径下查找插件前缀。如果需要查找其他<code>groupId</code>对应的路径，需要在<code>settings.xml</code>中配置：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">pluginGroups</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">pluginGroup</span>&gt;</span>org.codehaus.modello<span class="tag">&lt;/<span class="name">pluginGroup</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">pluginGroups</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>则，现在的查找顺序是：</p>
<ul>
<li>org.codehaus.modello</li>
<li>org.apache.maven.plugins</li>
<li>org.codehaus.mojo</li>
</ul>
<h2 id="获取插件帮助信息"><a href="#获取插件帮助信息" class="headerlink" title="获取插件帮助信息"></a>获取插件帮助信息</h2><h3 id="通过在线文档"><a href="#通过在线文档" class="headerlink" title="通过在线文档"></a>通过在线文档</h3><p><a href="http://maven.apache.org/plugins/index.html#" target="_blank" rel="noopener">http://maven.apache.org/plugins/index.html#</a></p>
<h3 id="通过maven-help-plugin插件"><a href="#通过maven-help-plugin插件" class="headerlink" title="通过maven-help-plugin插件"></a>通过<code>maven-help-plugin</code>插件</h3><p>例如：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ mvn <span class="built_in">help</span>:describe -Dplugin=org.apache.maven.plugins:maven-compiler-plugin:3.7.0</span><br></pre></td></tr></table></figure>

<h3 id="通过插件目标help"><a href="#通过插件目标help" class="headerlink" title="通过插件目标help"></a>通过插件目标<code>help</code></h3><p>许多插件都有一个插件目标<code>help</code>，用来获取该插件的帮助信息：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ mvn compiler:<span class="built_in">help</span> -Ddetail -Dgoal=compile</span><br></pre></td></tr></table></figure>



<h2 id="插件管理"><a href="#插件管理" class="headerlink" title="插件管理"></a>插件管理</h2><p>插件管理使用<code>&lt;build&gt;&lt;pluginManagement /&gt;&lt;/build&gt;</code>进行配置，作用与依赖管理类似。</p>
<h2 id="开发插件"><a href="#开发插件" class="headerlink" title="开发插件"></a>开发插件</h2><p>开发插件其实就是开发Mojo，它具体实现了插件目标。Mojo实际上就是标注了<code>@Mojo</code> Java注解或<code>goal</code> Javadoc注解，并实现了 <a href="http://maven.apache.org/ref/current/maven-plugin-api/apidocs/org/apache/maven/plugin/Mojo.html" target="_blank" rel="noopener"><code>org.apache.maven.plugin.Mojo</code></a>接口的Java类。</p>
<p>一个Maven插件，只要它包含构建Mojo，就可以用作构建插件；同样，只要包含报告Mojo，就可以用作报告插件。同一个Maven插件，可以同时包含多个构建Mojos和多个报告Mojos</p>
<h3 id="生成插件项目"><a href="#生成插件项目" class="headerlink" title="生成插件项目"></a>生成插件项目</h3><p>可以使用Mojo archetype来创建一个插件项目：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ mvn archetype:generate \</span><br><span class="line">  -DgroupId=sample.plugin \</span><br><span class="line">  -DartifactId=hello-maven-plugin \</span><br><span class="line">  -DarchetypeGroupId=org.apache.maven.archetypes \</span><br><span class="line">  -DarchetypeArtifactId=maven-archetype-plugin</span><br></pre></td></tr></table></figure>

<h3 id="插件项目的POM"><a href="#插件项目的POM" class="headerlink" title="插件项目的POM"></a>插件项目的POM</h3><h4 id="构建插件POM"><a href="#构建插件POM" class="headerlink" title="构建插件POM"></a>构建插件POM</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">project</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line"> </span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>sample.plugin<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>hello-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">packaging</span>&gt;</span>maven-plugin<span class="tag">&lt;/<span class="name">packaging</span>&gt;</span>  <span class="comment">&lt;!--插件项目的packaging--&gt;</span></span><br><span class="line"> </span><br><span class="line">  <span class="tag">&lt;<span class="name">name</span>&gt;</span>Sample Parameter-less Maven Plugin<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line"> </span><br><span class="line">  <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.maven<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-plugin-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"> </span><br><span class="line">    <span class="comment">&lt;!-- dependencies to annotations --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.maven.plugin-tools<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-plugin-annotations<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.4<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">scope</span>&gt;</span>provided<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>根据插件命名规范：只有Maven官方插件才能使用 <code>maven-&lt;yourplugin&gt;-plugin</code>模式的<code>artifactId</code>，非官方插件只能使用 <code>&lt;yourplugin&gt;-maven-plugin</code>模式的<code>artifactId</code>。</p>
<h4 id="报告插件POM"><a href="#报告插件POM" class="headerlink" title="报告插件POM"></a>报告插件POM</h4><p>报告插件POM与构建插件POM区别在于依赖不同：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">"http://maven.apache.org/POM/4.0.0"</span> </span></span><br><span class="line"><span class="tag">         <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.mycompany.maven<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>simple-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">packaging</span>&gt;</span>maven-plugin<span class="tag">&lt;/<span class="name">packaging</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">name</span>&gt;</span>Simple Plugin<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">project.build.sourceEncoding</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">project.build.sourceEncoding</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line"> </span><br><span class="line">  <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- reporting API --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.maven.reporting<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-reporting-impl<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.0.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.maven.reporting<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-reporting-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- plugin API and plugin-tools --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.maven<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-plugin-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.5.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.maven.plugin-tools<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-plugin-annotations<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.5<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">scope</span>&gt;</span>provided<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.maven.shared<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-shared-utils<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.2.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-compiler-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.7.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-install-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.5.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-plugin-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.5.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">goalPrefix</span>&gt;</span>simple<span class="tag">&lt;/<span class="name">goalPrefix</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">executions</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">execution</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">id</span>&gt;</span>default-descriptor<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">phase</span>&gt;</span>process-classes<span class="tag">&lt;/<span class="name">phase</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">execution</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">execution</span>&gt;</span>  <span class="comment">&lt;!--自动生成help目标--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">id</span>&gt;</span>generated-helpmojo<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">goals</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">goal</span>&gt;</span>helpmojo<span class="tag">&lt;/<span class="name">goal</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">goals</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">execution</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">executions</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h3 id="编写Mojo"><a href="#编写Mojo" class="headerlink" title="编写Mojo"></a>编写Mojo</h3><h4 id="编写构建Mojo"><a href="#编写构建Mojo" class="headerlink" title="编写构建Mojo"></a>编写构建Mojo</h4><p>构建插件的目标由构建Mojo实现，而构建Mojo一般继承自<code>AbstractMojo</code>抽象类。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> sample.plugin;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">import</span> org.apache.maven.plugin.AbstractMojo;</span><br><span class="line"><span class="keyword">import</span> org.apache.maven.plugin.MojoExecutionException;</span><br><span class="line"><span class="keyword">import</span> org.apache.maven.plugins.annotations.Mojo;</span><br><span class="line"> </span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Says "Hi" to the user.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Mojo</span>(name = <span class="string">"sayhi"</span>)  <span class="comment">//“sayhi”就是插件目标</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GreetingMojo</span> <span class="keyword">extends</span> <span class="title">AbstractMojo</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">execute</span><span class="params">()</span> <span class="keyword">throws</span> MojoExecutionException</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        getLog().info( <span class="string">"Hello, world."</span> );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>可以两种注解来标注Mojo：<code>@Mojo</code> Java注解或<code>goal</code> Javadoc注解。</p>
<p><code>execute()</code>方法允许抛出两种异常：</p>
<ul>
<li><code>org.apache.maven.plugin.MojoExecutionException</code> ：当没有预料的问题出现抛出。它导致“BUILD ERROR”出现。</li>
<li><code>org.apache.maven.plugin.MojoFailureException</code>：当期望的问题出现时抛出。它导致“BUILD FAILURE”出现。</li>
</ul>
<h4 id="编写报告Mojo"><a href="#编写报告Mojo" class="headerlink" title="编写报告Mojo"></a>编写报告Mojo</h4><p>报告插件的目标由报告Mojo实现，而报告Mojo必须实现<code>Mojo</code>和<code>MavenReport</code>接口。通常，编写报告 Mojo一般继承自<code>AbstractMavenReport</code>抽象类（它也是<code>AbstractMojo</code>的子类）。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.mycompany.maven;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Locale;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.maven.doxia.sink.Sink;</span><br><span class="line"><span class="keyword">import</span> org.apache.maven.plugin.logging.Log;</span><br><span class="line"><span class="keyword">import</span> org.apache.maven.plugins.annotations.LifecyclePhase;</span><br><span class="line"><span class="keyword">import</span> org.apache.maven.plugins.annotations.Mojo;</span><br><span class="line"><span class="keyword">import</span> org.apache.maven.plugins.annotations.Parameter;</span><br><span class="line"><span class="keyword">import</span> org.apache.maven.plugins.annotations.ResolutionScope;</span><br><span class="line"><span class="keyword">import</span> org.apache.maven.project.MavenProject;</span><br><span class="line"><span class="keyword">import</span> org.apache.maven.reporting.AbstractMavenReport;</span><br><span class="line"><span class="keyword">import</span> org.apache.maven.reporting.MavenReportException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Builds an simple report page as an example.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * &lt;p&gt;</span></span><br><span class="line"><span class="comment"> * This example show how easy it is to build your own reporting plugin</span></span><br><span class="line"><span class="comment"> * (or, for that matter, your own reporting Mojo)</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Mojo</span>(</span><br><span class="line">  name = <span class="string">"simple"</span>,</span><br><span class="line">  defaultPhase = LifecyclePhase.SITE,  <span class="comment">//必须要绑定到“site”阶段</span></span><br><span class="line">  requiresDependencyResolution = ResolutionScope.RUNTIME,</span><br><span class="line">  requiresProject = <span class="keyword">true</span>,</span><br><span class="line">  threadSafe = <span class="keyword">true</span></span><br><span class="line">)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SimpleReport</span> <span class="keyword">extends</span> <span class="title">AbstractMavenReport</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> String <span class="title">getOutputName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="comment">// This report will generate simple-report.html when invoked in a project with `mvn site`</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">"simple-report"</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">(Locale locale)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// Name of the report when listed in the project-reports.html page of a project</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">"Simple Report"</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> String <span class="title">getDescription</span><span class="params">(Locale locale)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// Description of the report when listed in the project-reports.html page of a project</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">"This simple report is a very simple report that does nothing but "</span></span><br><span class="line">      + <span class="string">"shows off Maven's wonderful reporting capabilities."</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * Practical reference to the Maven project</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="meta">@Parameter</span>(defaultValue = <span class="string">"$&#123;project&#125;"</span>, readonly = <span class="keyword">true</span>)</span><br><span class="line">  <span class="keyword">private</span> MavenProject project;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">executeReport</span><span class="params">(Locale locale)</span> <span class="keyword">throws</span> MavenReportException </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Get the logger</span></span><br><span class="line">    Log logger = getLog();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Some info</span></span><br><span class="line">    logger.info(<span class="string">"Generating "</span> + getOutputName() + <span class="string">".html"</span></span><br><span class="line">                + <span class="string">" for "</span> + project.getName() + <span class="string">" "</span> + project.getVersion());</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Get the Maven Doxia Sink, which will be used to generate the</span></span><br><span class="line">    <span class="comment">// various elements of the document</span></span><br><span class="line">    Sink mainSink = getSink();</span><br><span class="line">    <span class="keyword">if</span> (mainSink == <span class="keyword">null</span>) &#123;</span><br><span class="line">      <span class="keyword">throw</span> <span class="keyword">new</span> MavenReportException(<span class="string">"Could not get the Doxia sink"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Page title</span></span><br><span class="line">    mainSink.head();</span><br><span class="line">    mainSink.title();</span><br><span class="line">    mainSink.text(<span class="string">"Simple Report for "</span> + project.getName() + <span class="string">" "</span> + project.getVersion());</span><br><span class="line">    mainSink.title_();</span><br><span class="line">    mainSink.head_();</span><br><span class="line"></span><br><span class="line">    mainSink.body();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Heading 1</span></span><br><span class="line">    mainSink.section1();</span><br><span class="line">    mainSink.sectionTitle1();</span><br><span class="line">    mainSink.text(<span class="string">"Simple Report for "</span> + project.getName() + <span class="string">" "</span> + project.getVersion());</span><br><span class="line">    mainSink.sectionTitle1_();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Content</span></span><br><span class="line">    mainSink.paragraph();</span><br><span class="line">    mainSink.text(<span class="string">"This page provides simple information, like its location: "</span>);</span><br><span class="line">    mainSink.text(project.getBasedir().getAbsolutePath());</span><br><span class="line">    mainSink.paragraph_();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Close</span></span><br><span class="line">    mainSink.section1_();</span><br><span class="line">    mainSink.body_();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="Mojo-Javadoc注解"><a href="#Mojo-Javadoc注解" class="headerlink" title="Mojo Javadoc注解"></a>Mojo Javadoc注解</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.apache.maven.execution.MavenSession;</span><br><span class="line"><span class="keyword">import</span> org.apache.maven.plugin.AbstractMojo;</span><br><span class="line"><span class="keyword">import</span> org.apache.maven.plugin.MojoExecution;</span><br><span class="line"><span class="keyword">import</span> org.apache.maven.plugin.descriptor.PluginDescriptor;</span><br><span class="line"><span class="keyword">import</span> org.apache.maven.project.MavenProject;</span><br><span class="line"><span class="keyword">import</span> org.apache.maven.settings.Settings;</span><br><span class="line"> </span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Mojo Description: goal is the only required annotation.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@goal</span> &lt;goalName&gt;</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@aggregator</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@configurator</span> &lt;roleHint&gt;</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@execute</span> phase="&lt;phaseName&gt;" lifecycle="&lt;lifecycleId&gt;" goal="&lt;goalName&gt;"</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@executionStrategy</span> &lt;once-per-session|always&gt;</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@inheritByDefault</span> &lt;true|false&gt;</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@instantiationStrategy</span> &lt;per-lookup|singleton|keep-alive|poolable&gt;</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@phase</span> &lt;phaseName&gt;</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@requiresDependencyResolution</span> &lt;compile|runtime|compile+runtime|test&gt;</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@requiresDependencyCollection</span> &lt;compile|runtime|compile+runtime|test&gt; (since Maven 3.0)</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@requiresDirectInvocation</span> &lt;false|true&gt;</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@requiresOnline</span> &lt;false|true&gt;</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@requiresProject</span> &lt;true|false&gt;</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@requiresReports</span> &lt;false|true&gt; (unsupported since Maven 3.0)</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@threadSafe</span> (since Maven 3.0)</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@since</span> &lt;since-text&gt;</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@deprecated</span> &lt;deprecated-text&gt;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyMojo</span></span></span><br><span class="line"><span class="class">    <span class="keyword">extends</span> <span class="title">AbstractMojo</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@parameter</span> name="parameter" alias="myAlias" implementation="" property="aProperty" default-value="$&#123;anExpression&#125;"</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@readonly</span></span></span><br><span class="line"><span class="comment">     * <span class="doctag">@required</span></span></span><br><span class="line"><span class="comment">     * <span class="doctag">@since</span> &lt;since-text&gt;</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@deprecated</span> &lt;deprecated-text&gt;</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> String parameter;</span><br><span class="line"> </span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@component</span> role="..." roleHint="..."</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> Component component;</span><br><span class="line"> </span><br><span class="line">    <span class="comment">// sample objects taken from Maven API through PluginParameterExpressionEvaluator</span></span><br><span class="line"> </span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@parameter</span> default-value="$&#123;session&#125;"</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@readonly</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> MavenSession session;</span><br><span class="line"> </span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@parameter</span> default-value="$&#123;project&#125;"</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@readonly</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> MavenProject project;</span><br><span class="line"> </span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@parameter</span> default-value="$&#123;mojoExecution&#125;"</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@readonly</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> MojoExecution mojo;</span><br><span class="line"> </span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@parameter</span> default-value="$&#123;plugin&#125;" // Maven 3 only</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@readonly</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> PluginDescriptor plugin;</span><br><span class="line"> </span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@parameter</span> default-value="$&#123;settings&#125;"</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@readonly</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> Settings settings;</span><br><span class="line"> </span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@parameter</span> default-value="$&#123;project.basedir&#125;"</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@readonly</span></span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="keyword">private</span> File basedir;</span><br><span class="line"> </span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@parameter</span> default-value="$&#123;project.build.directory&#125;"</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@readonly</span></span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="keyword">private</span> File target;</span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">execute</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        ...</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>从Maven 3.0开始，<code>@parameter</code>的<code>expression=&quot;${aProperty}&quot;</code>可替换为<code>property=&quot;aProperty&quot;</code>。</p>
</blockquote>
<h4 id="Mojo-Java注解"><a href="#Mojo-Java注解" class="headerlink" title="Mojo Java注解"></a>Mojo Java注解</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.apache.maven.execution.MavenSession;</span><br><span class="line"><span class="keyword">import</span> org.apache.maven.plugin.AbstractMojo;</span><br><span class="line"><span class="keyword">import</span> org.apache.maven.plugin.MojoExecution;</span><br><span class="line"><span class="keyword">import</span> org.apache.maven.plugin.descriptor.PluginDescriptor;</span><br><span class="line"><span class="keyword">import</span> org.apache.maven.plugins.annotations.Component;</span><br><span class="line"><span class="keyword">import</span> org.apache.maven.plugins.annotations.Execute;</span><br><span class="line"><span class="keyword">import</span> org.apache.maven.plugins.annotations.InstantiationStrategy;</span><br><span class="line"><span class="keyword">import</span> org.apache.maven.plugins.annotations.LifecyclePhase;</span><br><span class="line"><span class="keyword">import</span> org.apache.maven.plugins.annotations.Mojo;</span><br><span class="line"><span class="keyword">import</span> org.apache.maven.plugins.annotations.Parameter;</span><br><span class="line"><span class="keyword">import</span> org.apache.maven.plugins.annotations.ResolutionScope;</span><br><span class="line"><span class="keyword">import</span> org.apache.maven.project.MavenProject;</span><br><span class="line"><span class="keyword">import</span> org.apache.maven.settings.Settings;</span><br><span class="line"> </span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Mojo Description. <span class="doctag">@Mojo</span>( name = "&lt;goal-name&gt;" ) is the minimal required annotation.</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@since</span> &lt;since-text&gt;</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@deprecated</span> &lt;deprecated-text&gt;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Mojo</span>( name = <span class="string">"&lt;goal-name&gt;"</span>,</span><br><span class="line">       aggregator = &lt;<span class="keyword">false</span>|<span class="keyword">true</span>&gt;, </span><br><span class="line">       configurator = <span class="string">"&lt;role hint&gt;"</span>,</span><br><span class="line">       executionStrategy = <span class="string">"&lt;once-per-session|always&gt;"</span>,</span><br><span class="line">       inheritByDefault = &lt;<span class="keyword">true</span>|<span class="keyword">false</span>&gt;,</span><br><span class="line">       instantiationStrategy = InstantiationStrategy.&lt;strategy&gt;,</span><br><span class="line">       defaultPhase = LifecyclePhase.&lt;phase&gt;,</span><br><span class="line">       requiresDependencyResolution = ResolutionScope.&lt;scope&gt;,</span><br><span class="line">       requiresDependencyCollection = ResolutionScope.&lt;scope&gt;, <span class="comment">// (since Maven 3.0)</span></span><br><span class="line">       requiresDirectInvocation = &lt;<span class="keyword">false</span>|<span class="keyword">true</span>&gt;,</span><br><span class="line">       requiresOnline = &lt;<span class="keyword">false</span>|<span class="keyword">true</span>&gt;,</span><br><span class="line">       requiresProject = &lt;<span class="keyword">true</span>|<span class="keyword">false</span>&gt;,</span><br><span class="line">       requiresReports = &lt;<span class="keyword">false</span>|<span class="keyword">true</span>&gt;, <span class="comment">// (unsupported since Maven 3.0)</span></span><br><span class="line">       threadSafe = &lt;<span class="keyword">false</span>|<span class="keyword">true</span>&gt; ) <span class="comment">// (since Maven 3.0)</span></span><br><span class="line"><span class="meta">@Execute</span>( goal = <span class="string">"&lt;goal-name&gt;"</span>,</span><br><span class="line">          phase = LifecyclePhase.&lt;phase&gt;,</span><br><span class="line">          lifecycle = <span class="string">"&lt;lifecycle-id&gt;"</span> )</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyMojo</span></span></span><br><span class="line"><span class="class">    <span class="keyword">extends</span> <span class="title">AbstractMojo</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@since</span> &lt;since-text&gt;</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@deprecated</span> &lt;deprecated-text&gt;</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Parameter</span>( name = <span class="string">"parameter"</span>,</span><br><span class="line">                alias = <span class="string">"myAlias"</span>,</span><br><span class="line">                property = <span class="string">"a.property"</span>,</span><br><span class="line">                defaultValue = <span class="string">"an expression, possibly with $&#123;variables&#125;"</span>,</span><br><span class="line">                readonly = &lt;<span class="keyword">false</span>|<span class="keyword">true</span>&gt;,</span><br><span class="line">                required = &lt;<span class="keyword">false</span>|<span class="keyword">true</span>&gt; )</span><br><span class="line">    <span class="keyword">private</span> String parameter;</span><br><span class="line"> </span><br><span class="line">    <span class="meta">@Component</span>( role = MyComponentExtension<span class="class">.<span class="keyword">class</span>,</span></span><br><span class="line"><span class="class">                <span class="title">hint</span> </span>= <span class="string">"..."</span> )</span><br><span class="line">    <span class="keyword">private</span> MyComponent component;</span><br><span class="line"> </span><br><span class="line">    <span class="comment">// sample objects taken from Maven API through PluginParameterExpressionEvaluator</span></span><br><span class="line"> </span><br><span class="line">    <span class="meta">@Parameter</span>( defaultValue = <span class="string">"$&#123;session&#125;"</span>, readonly = <span class="keyword">true</span> )</span><br><span class="line">    <span class="keyword">private</span> MavenSession session;</span><br><span class="line"> </span><br><span class="line">    <span class="meta">@Parameter</span>( defaultValue = <span class="string">"$&#123;project&#125;"</span>, readonly = <span class="keyword">true</span> )</span><br><span class="line">    <span class="keyword">private</span> MavenProject project;</span><br><span class="line"> </span><br><span class="line">    <span class="meta">@Parameter</span>( defaultValue = <span class="string">"$&#123;mojoExecution&#125;"</span>, readonly = <span class="keyword">true</span> )</span><br><span class="line">    <span class="keyword">private</span> MojoExecution mojo;</span><br><span class="line"> </span><br><span class="line">    <span class="meta">@Parameter</span>( defaultValue = <span class="string">"$&#123;plugin&#125;"</span>, readonly = <span class="keyword">true</span> ) <span class="comment">// Maven 3 only</span></span><br><span class="line">    <span class="keyword">private</span> PluginDescriptor plugin;</span><br><span class="line"> </span><br><span class="line">    <span class="meta">@Parameter</span>( defaultValue = <span class="string">"$&#123;settings&#125;"</span>, readonly = <span class="keyword">true</span> )</span><br><span class="line">    <span class="keyword">private</span> Settings settings;</span><br><span class="line"> </span><br><span class="line">    <span class="meta">@Parameter</span>( defaultValue = <span class="string">"$&#123;project.basedir&#125;"</span>, readonly = <span class="keyword">true</span> )</span><br><span class="line">    <span class="keyword">private</span> File basedir;</span><br><span class="line"> </span><br><span class="line">    <span class="meta">@Parameter</span>( defaultValue = <span class="string">"$&#123;project.build.directory&#125;"</span>, readonly = <span class="keyword">true</span> )</span><br><span class="line">    <span class="keyword">private</span> File target;</span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">execute</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        ...</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="使用插件"><a href="#使用插件" class="headerlink" title="使用插件"></a>使用插件</h3><p>在要使用该插件的项目上配置：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line">  <span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>sample.plugin<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>hello-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">executions</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">execution</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">phase</span>&gt;</span>compile<span class="tag">&lt;/<span class="name">phase</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">goals</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">goal</span>&gt;</span>sayhi<span class="tag">&lt;/<span class="name">goal</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">goals</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">execution</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">executions</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">reporting</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.mycompany.maven<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>simple-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">reporting</span>&gt;</span></span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<p>运行构建目标：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ mvn sample.plugin:hello-maven-plugin:1.0-SNAPSHOT:sayhi</span><br><span class="line">$ mvn sample.plugin:hello-maven-plugin:sayhi   （使用插件的最新版本）</span><br><span class="line">$ mvn hello:sayhi  （使用插件前缀）</span><br></pre></td></tr></table></figure>

<p>运行报告目标：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ mvn site</span><br></pre></td></tr></table></figure>

<p>上面的命令实际上是调用 <a href="http://maven.apache.org/plugins/maven-site-plugin/" target="_blank" rel="noopener"><code>maven-site-plugin</code></a>插件，它将加载我们的<code>simple-maven-plugin</code>插件。</p>
<p>然后，调用每个报告Mojos的<code>generate()</code>方法。<code>generate()</code>方法通过Maven的 <a href="http://maven.apache.org/doxia/doxia/doxia-sink-api/" target="_blank" rel="noopener">Doxia Sink AP</a>来生成文档。这些文档被传到Doxia去产生一个HTML的站点，并输出到<code>target/site</code>目录下。</p>
<h1 id="Maven仓库"><a href="#Maven仓库" class="headerlink" title="Maven仓库"></a>Maven仓库</h1><h2 id="本地仓库"><a href="#本地仓库" class="headerlink" title="本地仓库"></a>本地仓库</h2><p>本地仓库主要作用是缓存从远程仓库中下载的依赖和、插件等，以及还没有发布的一些临时构建工件。</p>
<p>Maven在构建项目时，首先会去本地仓库中查找依赖和插件，只有在本地仓库找不到所需要的依赖和插件时，才会去远程仓库中，将所需要的依赖和插件下载到本地仓库，然后再构建到工件中。</p>
<h3 id="配置本地仓库"><a href="#配置本地仓库" class="headerlink" title="配置本地仓库"></a>配置本地仓库</h3><p>本地仓库默认的位置是<code>~/.m2/repository/</code>。</p>
<p>如果想将本地仓库放在其他地方，可以在<code>pom.xml</code>中进行如下配置：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">settings</span>&gt;</span></span><br><span class="line">  ...</span><br><span class="line">  <span class="tag">&lt;<span class="name">localRepository</span>&gt;</span>/path/to/local/repo/<span class="tag">&lt;/<span class="name">localRepository</span>&gt;</span></span><br><span class="line">  ...</span><br><span class="line"><span class="tag">&lt;/<span class="name">settings</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="安装JARs到本地仓库"><a href="#安装JARs到本地仓库" class="headerlink" title="安装JARs到本地仓库"></a>安装JARs到本地仓库</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ mvn install:install-file -Dfile=&lt;path-to-file&gt; -DgroupId=&lt;group-id&gt; \</span><br><span class="line">    -DartifactId=&lt;artifact-id&gt; -Dversion=&lt;version&gt; -Dpackaging=&lt;packaging&gt;</span><br></pre></td></tr></table></figure>

<p>使用上面命令，JARs可以不是使用Maven构建的。</p>
<p>如果有该JARs的<code>pom.xml</code>，则只需要：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ mvn install:install-file -Dfile=&lt;path-to-file&gt; -DpomFile=&lt;path-to-pomfile&gt;</span><br></pre></td></tr></table></figure>

<p>从2.5版本开始，如果JARs是使用Maven构建的，它将在<code>META-INF</code>的子目录中包含<code>pom.xml</code>，则只需要：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ mvn install:install-file -Dfile=&lt;path-to-file&gt;</span><br></pre></td></tr></table></figure>

<p>如果Maven项目还没打包成JARs，则只需要在项目根目录下（包含<code>pom.xml</code>）执行：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ mvn install</span><br></pre></td></tr></table></figure>



<h2 id="远程仓库"><a href="#远程仓库" class="headerlink" title="远程仓库"></a>远程仓库</h2><h3 id="中央仓库"><a href="#中央仓库" class="headerlink" title="中央仓库"></a>中央仓库</h3><p>中央仓库是在Super POM中配置的默认远程仓库。</p>
<h3 id="其他远程仓库"><a href="#其他远程仓库" class="headerlink" title="其他远程仓库"></a>其他远程仓库</h3><p>其他远程仓库包括许多第三方的远程仓库，也包括自己搭建的私有仓库。要使用这些远程仓库，可在<code>pom.xml</code>或<code>settings.xml</code>中配置：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="tag">&lt;<span class="name">repositories</span>&gt;</span>  <span class="comment">&lt;!--远程依赖仓库--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">repository</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">id</span>&gt;</span>maven2-repository.dev.java.net<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>Java.net Repository for Maven<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url</span>&gt;</span>http://download.java.net/maven/2/<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">releases</span>&gt;</span></span><br><span class="line">    	<span class="tag">&lt;<span class="name">enabled</span>&gt;</span>true<span class="tag">&lt;/<span class="name">enabled</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">releases</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">snapshots</span>&gt;</span></span><br><span class="line">    	<span class="tag">&lt;<span class="name">enabled</span>&gt;</span>true<span class="tag">&lt;/<span class="name">enabled</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">updatePolicy</span>&gt;</span>daily<span class="tag">&lt;/<span class="name">updatePolicy</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">checksumPolicy</span>&gt;</span>ignore<span class="tag">&lt;/<span class="name">checksumPolicy</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">snapshots</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">layout</span>&gt;</span>default<span class="tag">&lt;/<span class="name">layout</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">repository</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">repositories</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">pluginRepositories</span>&gt;</span>  <span class="comment">&lt;!--远程插件仓库--&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">pluginRepository</span>&gt;</span></span><br><span class="line">  	<span class="tag">&lt;<span class="name">id</span>&gt;</span>central<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>Maven Plugin Repository<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url</span>&gt;</span>http://repo1.maven.org/maven2<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">releases</span>&gt;</span></span><br><span class="line">    	<span class="tag">&lt;<span class="name">enabled</span>&gt;</span>true<span class="tag">&lt;/<span class="name">enabled</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">updatePolicy</span>&gt;</span>never<span class="tag">&lt;/<span class="name">updatePolicy</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">releases</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">snapshots</span>&gt;</span></span><br><span class="line">    	<span class="tag">&lt;<span class="name">enabled</span>&gt;</span>false<span class="tag">&lt;/<span class="name">enabled</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">snapshots</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">layout</span>&gt;</span>default<span class="tag">&lt;/<span class="name">layout</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">pluginRepository</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">pluginRepositories</span>&gt;</span></span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<p><code>updatePolicy</code>用来Maven从远程仓库检查更新的频率，默认值是<code>daily</code>，表示Maven每天检查一次。其它可用的选项包括：<code>never</code>——从不检查更新；<code>always</code>——每次构建都检查更新；<code>interval</code>——每隔X（任意整数）分钟检查一次更新。</p>
<p><code>checksumPolicy</code>用来配置Maven检查校验和文件的策略。当工件部署到Maven仓库中时，会同时部署对应的校验和文件 。在下载工件时，Maven会验证校验和文件。<code>checksumPolicy</code>的值默认是<code>warn</code>，表示当验证失败时输出警告信息。其他可用的选项包括：<code>fail</code>——验证失败就让构建失败；<code>ignore</code>——忽略验证失败。</p>
<p><code>layout</code>的值为<code>default</code>，表示仓库的布局是Maven2和Maven3的默认布局，而不是Maven1的布局。</p>
<p>大部分远程仓库无须认证就可以访问，但有时候出于安全方面 的考虑，需要提供认证信息才能访问一些远程仓库。远程仓库的认证信息配置在<code>settings.xml</code>的<code>servers</code>中，具体参见：部署JARs到远程仓库。</p>
<h3 id="使用镜像仓库"><a href="#使用镜像仓库" class="headerlink" title="使用镜像仓库"></a>使用镜像仓库</h3><p>如果仓库X可以提供仓库Y存储的所有内容，那么就可以认为X是Y的一个镜像。</p>
<p>例如，Maven中央仓库通常会比较慢，这时可以选择相对较快的其他镜像仓库来代替。在国内建议使用阿里云提供的镜像仓库。只要在<code>settings.xml</code>中配置这些镜像仓库：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">settings</span>&gt;</span></span><br><span class="line">  ...</span><br><span class="line">  <span class="tag">&lt;<span class="name">mirrors</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mirror</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">id</span>&gt;</span>alimaven<span class="tag">&lt;/<span class="name">id</span>&gt;</span>  <span class="comment">&lt;!--镜像ID，可以随便取，但必须是唯一的--&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">name</span>&gt;</span>Aliyun Maven<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">url</span>&gt;</span>http://maven.aliyun.com/nexus/content/groups/public/<span class="tag">&lt;/<span class="name">url</span>&gt;</span>  <span class="comment">&lt;!--镜像仓库的URL--&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">mirrorOf</span>&gt;</span>central<span class="tag">&lt;/<span class="name">mirrorOf</span>&gt;</span>  <span class="comment">&lt;!--被镜像的仓库ID--&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">mirror</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">mirrors</span>&gt;</span></span><br><span class="line">  ...</span><br><span class="line"><span class="tag">&lt;/<span class="name">settings</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><code>mirrorOf</code>用来指定该镜像仓库是用于作为哪个仓库的镜像使用。这里，<code>central</code>是中央仓库的ID。因此，这里ID为<code>alimaven</code>的仓库被配置为中央仓库的镜像，任何对于中央仓库的请求都会转到该镜像。</p>
<p>对于一个远程仓库，最多只能配置一个镜像仓库。但是多个远程仓库可以配置同一个镜像仓库。</p>
<p><code>mirrorOf</code>还可以取如下值：</p>
<ul>
<li><code>&lt;mirrorOf&gt;*&lt;/mirrorOf&gt;</code>：作为所有远程仓库的镜像仓库；</li>
<li><code>&lt;mirrorOf&gt;external:*&lt;/mirrorOf&gt;</code>：作为所有远程仓库的镜像仓库，但不包括基于<code>localhost</code>或<code>file</code>的仓库 ；</li>
<li><code>&lt;mirrorOf&gt;repo1,repo2,…&lt;/mirrorOf&gt;</code>：作为<code>repo1</code>、<code>repo2</code>、……的镜像仓库；</li>
<li><code>&lt;mirrorOf&gt;*,!repo1&lt;/mirrorOf&gt;</code>：作为除了<code>repo1</code>以外的仓库的镜像仓库；</li>
<li><code>&lt;mirrorOf&gt;external:*,!repo1&lt;/mirrorOf&gt;</code>。</li>
</ul>
<h3 id="搭建自己的私有仓库"><a href="#搭建自己的私有仓库" class="headerlink" title="搭建自己的私有仓库"></a>搭建自己的私有仓库</h3><p>私有仓库是架设在局域网的一种特殊的远程仓库，目的是代理远程仓库及部署第三方构件。有了私有仓库之后，当 Maven 需要下载构件时，直接请求私有仓库，私有仓库上存在则下载到本地仓库；否则，私有仓库请求外部的远程仓库，将构件下载到私有仓库，再提供给本地仓库下载。</p>
<p><img src="Maven/%E6%B2%A1%E6%9C%89%E7%A7%81%E6%9C%89%E4%BB%93%E5%BA%93%E7%9A%84%E6%83%85%E5%86%B5.png" alt="没有私有仓库的情况"></p>
<p><img src="Maven/%E7%A7%81%E6%9C%89%E4%BB%93%E5%BA%93.png" alt="私有仓库"></p>
<p>我们可以使用专门的 Maven 仓库管理软件来搭建私服，比如：<a href="http://archiva.apache.org/index.cgi" target="_blank" rel="noopener">Apache Archiva</a>，<a href="http://www.jfrog.com/home/v_artifactory_opensource_overview/" target="_blank" rel="noopener">Artifactory</a>，<a href="http://www.sonatype.org/nexus/" target="_blank" rel="noopener">Sonatype Nexus</a>。这里我们使用 Sonatype Nexus。</p>
<h4 id="安装Nexus"><a href="#安装Nexus" class="headerlink" title="安装Nexus"></a>安装Nexus</h4><p>Nexus的Bundle自带了Jetty容器，因此用户不需要额外的Web容器就能直接启动Nexus。</p>
<p>下载Bundle包，例如：<code>nexus-3.8.0-02-unix.tar.gz</code>，并解压。</p>
<p>解压后会在同级目录中，出现两个文件夹：<code>nexus-3.8.0-02</code>和<code>sonatype-work</code>，前者包含了nexus的运行环境和应用程序，后者包含了你自己的配置和数据。</p>
<p>Unix/Linux下启动Nexus：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> nexus-3.8.0-02/bin</span><br><span class="line">$ ./nexus run</span><br></pre></td></tr></table></figure>

<p>Windows下启动Nexus：</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; cd nexus<span class="literal">-3</span>.<span class="number">8.0</span><span class="literal">-02</span>\bin</span><br><span class="line">&gt; .\nexus.exe /run</span><br></pre></td></tr></table></figure>

<p>打开<a href="http://localhost:8081/nexus/" target="_blank" rel="noopener">http://localhost:8081/nexus/</a>就可以看到登录界面了。</p>
<p>点击右上角 Log In，使用用户名：admin ，密码：admin123 登录。</p>
<p>要停止Nexus，只要按<code>Ctrl-C</code>键。</p>
<blockquote>
<p> 另外，现在更简单的安装Nexus，是通过 Docker方式安装。</p>
</blockquote>
<h4 id="配置仓库"><a href="#配置仓库" class="headerlink" title="配置仓库"></a>配置仓库</h4><p><strong>Nexus 的仓库分为这么几类：</strong></p>
<ul>
<li>hosted 宿主仓库：主要用于部署无法从公共仓库获取的构件（如 oracle 的 JDBC 驱动）以及自己或第三方的项目构件；</li>
<li>proxy 代理仓库：代理公共的远程仓库；</li>
<li>virtual 虚拟仓库：用于适配 Maven 1；</li>
<li>group 仓库组：Nexus 通过仓库组的概念统一管理多个仓库，这样我们在项目中直接请求仓库组即可请求到仓库组管理的多个仓库。</li>
</ul>
<p><img src="Maven/%E4%BB%93%E5%BA%93%E7%BB%84.png" alt="仓库组"></p>
<p>默认Nexus已经预设了一些仓库。我们要做的只是配置一个预设的Public Repositories仓库组，该仓库组既可以包含一些第三方远程仓库，也可以包含自己的私有仓库。后面引用私有仓库时实际上是引用这个仓库组：</p>
<p><img src="Maven/%E5%88%9B%E5%BB%BA%E4%BB%93%E5%BA%93%E7%BB%84.gif" alt="创建仓库组"></p>
<blockquote>
<p><code>Ordered Group Repositories</code>是仓库组当前拥有的仓库。</p>
</blockquote>
<p>为了更好的使用 Nexus 的搜索，我们可以设置所有 proxy 仓库的 <code>Download Remote Indexes</code> 为 <code>true</code>，即允许下载远程仓库索引：</p>
<p><img src="Maven/download-remote-indexes.png" alt="download-remote-indexes"></p>
<h4 id="使用私有仓库"><a href="#使用私有仓库" class="headerlink" title="使用私有仓库"></a>使用私有仓库</h4><p>方法一、在项目的<code>pom.xml</code>中配置<code>repositories</code>。（只对当前项目有效）：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">repositories</span>&gt;</span>  </span><br><span class="line">  <span class="tag">&lt;<span class="name">repository</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">snapshots</span>&gt;</span>  </span><br><span class="line">      <span class="tag">&lt;<span class="name">enabled</span>&gt;</span>true<span class="tag">&lt;/<span class="name">enabled</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;/<span class="name">snapshots</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">id</span>&gt;</span>public<span class="tag">&lt;/<span class="name">id</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>Public Repositories<span class="tag">&lt;/<span class="name">name</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">url</span>&gt;</span>http://172.28.189.138:8081/nexus/content/groups/public/<span class="tag">&lt;/<span class="name">url</span>&gt;</span>  </span><br><span class="line">  <span class="tag">&lt;/<span class="name">repository</span>&gt;</span>  </span><br><span class="line"><span class="tag">&lt;/<span class="name">repositories</span>&gt;</span>  </span><br><span class="line"><span class="tag">&lt;<span class="name">pluginRepositories</span>&gt;</span>  </span><br><span class="line">  <span class="tag">&lt;<span class="name">pluginRepository</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">id</span>&gt;</span>public<span class="tag">&lt;/<span class="name">id</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>Public Repositories<span class="tag">&lt;/<span class="name">name</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">url</span>&gt;</span>http://172.28.189.138:8081/nexus/content/groups/public/<span class="tag">&lt;/<span class="name">url</span>&gt;</span>  </span><br><span class="line">  <span class="tag">&lt;/<span class="name">pluginRepository</span>&gt;</span>  </span><br><span class="line"><span class="tag">&lt;/<span class="name">pluginRepositories</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>方法二、在<code>settings.xml</code>中将私有仓库配置为所有远程仓库的镜像仓库。（对本机所有Maven项目有效）：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">settings</span> <span class="attr">xmlns</span>=<span class="string">"http://maven.apache.org/SETTINGS/1.1.0"</span>     </span></span><br><span class="line"><span class="tag">          <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">          <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://maven.apache.org/SETTINGS/1.1.0 http://maven.apache.org/xsd/settings-1.1.0.xsd"</span>&gt;</span></span><br><span class="line">  ...</span><br><span class="line">  <span class="tag">&lt;<span class="name">mirrors</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mirror</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">id</span>&gt;</span>nexus<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">mirrorOf</span>&gt;</span>*<span class="tag">&lt;/<span class="name">mirrorOf</span>&gt;</span>    </span><br><span class="line">      <span class="tag">&lt;<span class="name">url</span>&gt;</span>http://192.168.0.110:8081/nexus/content/groups/public/<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">mirror</span>&gt;</span>    </span><br><span class="line">  <span class="tag">&lt;/<span class="name">mirrors</span>&gt;</span> </span><br><span class="line"> </span><br><span class="line">  <span class="tag">&lt;<span class="name">profiles</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">profile</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">id</span>&gt;</span>nexus<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">repositories</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">repository</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">id</span>&gt;</span>nexus<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">name</span>&gt;</span>Nexus<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">url</span>&gt;</span>http://192.168.0.110:8081/nexus/content/groups/public/<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">releases</span>&gt;</span><span class="tag">&lt;<span class="name">enabled</span>&gt;</span>true<span class="tag">&lt;/<span class="name">enabled</span>&gt;</span><span class="tag">&lt;/<span class="name">releases</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">snapshots</span>&gt;</span><span class="tag">&lt;<span class="name">enabled</span>&gt;</span>true<span class="tag">&lt;/<span class="name">enabled</span>&gt;</span><span class="tag">&lt;/<span class="name">snapshots</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">repository</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">repositories</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">pluginRepositories</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">pluginRepository</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">id</span>&gt;</span>nexus<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">name</span>&gt;</span>Nexus<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">url</span>&gt;</span>http://192.168.0.110:8081/nexus/content/groups/public/<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">releases</span>&gt;</span><span class="tag">&lt;<span class="name">enabled</span>&gt;</span>true<span class="tag">&lt;/<span class="name">enabled</span>&gt;</span><span class="tag">&lt;/<span class="name">releases</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">snapshots</span>&gt;</span><span class="tag">&lt;<span class="name">enabled</span>&gt;</span>true<span class="tag">&lt;/<span class="name">enabled</span>&gt;</span><span class="tag">&lt;/<span class="name">snapshots</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">pluginRepository</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">pluginRepositories</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">profile</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">profiles</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">activeProfiles</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">activeProfile</span>&gt;</span>nexus<span class="tag">&lt;/<span class="name">activeProfile</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">activeProfiles</span>&gt;</span></span><br><span class="line">  ...</span><br><span class="line"><span class="tag">&lt;/<span class="name">settings</span>&gt;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>由于<code>settings.xml</code>不支持直接配置<code>repositories</code>和<code>pluginRepositories</code>，因此只能放在<code>profiles</code>中配置。</p>
</blockquote>
<p>如果要将工件发布到私有仓库，参见下一节：部署JARs到远程仓库。</p>
<h3 id="部署JARs到远程仓库"><a href="#部署JARs到远程仓库" class="headerlink" title="部署JARs到远程仓库"></a>部署JARs到远程仓库</h3><p>首先，在<code>pom.xml</code>中配置目标远程仓库的URL：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">project</span>&gt;</span></span><br><span class="line">  ……</span><br><span class="line">  <span class="tag">&lt;<span class="name">distributionManagement</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">repository</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">id</span>&gt;</span>mycompany-releases<span class="tag">&lt;/<span class="name">id</span>&gt;</span>  <span class="comment">&lt;!--要与settings.xml中配置的servier id一gcft--&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">name</span>&gt;</span>MyCompany Releases Repository<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">url</span>&gt;</span>http://192.168.1.103:8081/nexus/content/repositories/releases/<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">repository</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">snapshotRepository</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">id</span>&gt;</span>mycompany-snapshots<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">name</span>&gt;</span>MyCompany Snapshots Repository<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">url</span>&gt;</span>http://192.168.1.103:8081/nexus/content/repositories/snapshots/<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">snapshotRepository</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">distributionManagement</span>&gt;</span></span><br><span class="line">  ……</span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>如果是部署第三方JARs，则上面配置可忽略。</p>
<p>然后，在配置文件<code>settings.xml</code>中配置连接远程仓库的认证信息：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">settings</span> <span class="attr">xmlns</span>=<span class="string">"http://maven.apache.org/SETTINGS/1.0.0"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://maven.apache.org/SETTINGS/1.0.0</span></span></span><br><span class="line"><span class="tag"><span class="string">                      http://maven.apache.org/xsd/settings-1.0.0.xsd"</span>&gt;</span></span><br><span class="line">  ...</span><br><span class="line">  <span class="tag">&lt;<span class="name">servers</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">server</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">id</span>&gt;</span>mycompany-releases<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">username</span>&gt;</span>jvanzyl<span class="tag">&lt;/<span class="name">username</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- Default value is ~/.ssh/id_dsa --&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">privateKey</span>&gt;</span>/path/to/identity<span class="tag">&lt;/<span class="name">privateKey</span>&gt;</span> (default is ~/.ssh/id_dsa)</span><br><span class="line">      <span class="tag">&lt;<span class="name">passphrase</span>&gt;</span>my_key_passphrase<span class="tag">&lt;/<span class="name">passphrase</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">server</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">server</span>&gt;</span></span><br><span class="line">    	<span class="tag">&lt;<span class="name">id</span>&gt;</span>mycompany-snapshots<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">username</span>&gt;</span>admin<span class="tag">&lt;/<span class="name">username</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">password</span>&gt;</span>admin123<span class="tag">&lt;/<span class="name">password</span>&gt;</span>  <span class="comment">&lt;!--直接使用密码--&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">server</span>&gt;</span></span><br><span class="line">    ...</span><br><span class="line">  <span class="tag">&lt;/<span class="name">servers</span>&gt;</span></span><br><span class="line">  ...</span><br><span class="line"><span class="tag">&lt;/<span class="name">settings</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>最后，运行下列命令之一去部署JARs到远程仓库：</p>
<p>如果Maven项目还没有打成JARs，则只需要在项目根目录下（包含<code>pom.xml</code>）执行：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mvn deploy</span><br></pre></td></tr></table></figure>

<p>如果Maven项目已经打成JARs，并且可以获得它的<code>pom.xml</code>，则：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mvn deploy:deploy-file -DpomFile=&lt;path-to-pom&gt; \</span><br><span class="line">  -Dfile=&lt;path-to-file&gt; \</span><br><span class="line">  -DrepositoryId=&lt;id-to-map-on-server-section-of-settings.xml&gt; \</span><br><span class="line">  -Durl=&lt;url-of-the-repository-to-deploy&gt;</span><br></pre></td></tr></table></figure>

<p>如果是部署第三方JARs（可能不是Maven构建），则：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mvn deploy:deploy-file -DgroupId=&lt;group-id&gt; \</span><br><span class="line">  -DartifactId=&lt;artifact-id&gt; \</span><br><span class="line">  -Dversion=&lt;version&gt; \</span><br><span class="line">  -Dpackaging=&lt;<span class="built_in">type</span>-of-packaging&gt; \</span><br><span class="line">  -Dfile=&lt;path-to-file&gt; \</span><br><span class="line">  -DrepositoryId=&lt;id-to-map-on-server-section-of-settings.xml&gt; \</span><br><span class="line">  -Durl=&lt;url-of-the-repository-to-deploy&gt;</span><br></pre></td></tr></table></figure>

<p>默认情况，<code>deploy:deploy-file会生成一个通用的</code>pom.xml<code>，随同该JARs一起部署到远程仓库。如果要禁用这个行为，则需要加上</code>-DgeneratePom=false`参数。</p>
<p>另外，如果只是部署源代码，则<code>-Dpackaging=java-source</code>，并且<code>-DgeneratePom=false</code>。</p>
<p>默认情况下，不允许重新发布同一版本的工件，需要登陆nexus将原来发布删除，再重新发布。但是，如果将仓库的<code>Deployment Policy</code>设置成<code>Allow Redeploy</code>，则重新发布会自动覆盖原发布。</p>
<h1 id="属性和插值"><a href="#属性和插值" class="headerlink" title="属性和插值"></a>属性和插值</h1><p>在<code>pom.xml</code>中，允许使用插值——<code>${属性名}</code>。</p>
<p>插值中的属性来自：</p>
<ul>
<li><p><code>pom.xml</code>和<code>settings.xml</code>的单值元素；</p>
</li>
<li><p>一些特殊属性：</p>
<table>
<thead>
<tr>
<th><code>project.basedir</code></th>
<th>The directory that the current project resides in.</th>
</tr>
</thead>
<tbody><tr>
<td><code>project.baseUri</code></td>
<td>The directory that the current project resides in, represented as an URI. <em>Since Maven 2.1.0</em></td>
</tr>
<tr>
<td><code>maven.build.timestamp</code></td>
<td>The timestamp that denotes the start of the build. <em>Since Maven 2.1.0-M1</em></td>
</tr>
</tbody></table>
<p><code>maven.build.timestamp</code>的格式可以通过定义一个<code>maven.build.timestamp.format</code>来自定义：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">project</span>&gt;</span></span><br><span class="line">  ...</span><br><span class="line">  <span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">maven.build.timestamp.format</span>&gt;</span>yyyy-MM-dd'T'HH:mm:ss'Z'<span class="tag">&lt;/<span class="name">maven.build.timestamp.format</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line">  ...</span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>该格式的模式请参照<code>java.text.SimpleDateFormat</code>的模式。</p>
</li>
<li><p><code>pom.xml</code>的<code>properties</code>中定义的属性：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">project</span>&gt;</span></span><br><span class="line">  ...</span><br><span class="line">  <span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mavenVersion</span>&gt;</span>2.1<span class="tag">&lt;/<span class="name">mavenVersion</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.maven<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-artifact<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;mavenVersion&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.maven<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-project<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;mavenVersion&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line">  ...</span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>​</p>
</li>
</ul>
<h1 id="资源"><a href="#资源" class="headerlink" title="资源"></a>资源</h1><h2 id="资源过滤"><a href="#资源过滤" class="headerlink" title="资源过滤"></a>资源过滤</h2><p>在默认情况下，目录<code>${basedir}/src/main/resources</code>用于放置资源文件、配置文件等，它们在打包时，将原样打包进JAR或WAR中。在WAR中，这些资源文件将打包到<code>WEB-INF/classes</code>目录中。</p>
<p>同样，目录<code>${basedir}/src/test/resources</code>用于放置测试用的资源。</p>
<p>另外，也可以使用<code>&lt;resource&gt;</code>元素来自定义资源目录。</p>
<p>过滤的资源文件中允许通过插值方式——<code>${属性名}</code>，访问构建时的属性。</p>
<p>例如：为了将<code>resources</code>目录下的资源文件变成过滤资源，只需在<code>pom.xml</code>中将相应资源的<code>filtering</code>设置为<code>true</code>就可以：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">resources</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">resource</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">directory</span>&gt;</span>src/main/resources<span class="tag">&lt;/<span class="name">directory</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">filtering</span>&gt;</span>true<span class="tag">&lt;/<span class="name">filtering</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">resource</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">resources</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>这些构建时属性是：</p>
<ul>
<li><code>pom.xml</code>的元素（没有子元素）；</li>
<li><code>pom.xml</code>的<code>properties</code>中定义的属性；</li>
<li>配置文件<code>settings.xml</code>的元素（没有子元素）；</li>
<li>外部的属性文件中定义的属性；</li>
<li>系统属性。</li>
</ul>
<h3 id="引用pom-xml和settings-xml的单值元素"><a href="#引用pom-xml和settings-xml的单值元素" class="headerlink" title="引用pom.xml和settings.xml的单值元素"></a>引用<code>pom.xml</code>和<code>settings.xml</code>的单值元素</h3><p>假设在<code>resources</code>目录下有一个<code>app.properties</code>文件，则可以在该文件中访问一些属性：</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 访问 pom.xml 中的元素值</span></span><br><span class="line"><span class="meta">app.name</span>=<span class="string">$&#123;project.name&#125;  # 或者 $&#123;pom.name&#125;</span></span><br><span class="line"><span class="meta">app.finalName</span>=<span class="string">$&#123;project.build.finalName&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 访问 settings.xml 中的元素值</span></span><br><span class="line"><span class="attr">localRepo</span>=<span class="string">$&#123;settings.localRepository&#125;</span></span><br></pre></td></tr></table></figure>

<p>你可以运行下列阶段命令：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mvn process-resources</span><br></pre></td></tr></table></figure>

<p>则在<code>target/classes</code>目录下就可以看到过滤后的效果：</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 访问 pom.xml 中的属性</span></span><br><span class="line"><span class="meta">app.name</span>=<span class="string">my-app  # 或者 $&#123;pom.name&#125;</span></span><br><span class="line"><span class="meta">app.finalName</span>=<span class="string">my-app-1.0-SNAPSHOT</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 访问 settings.xml 中的属性</span></span><br><span class="line"><span class="attr">localRepo</span>=<span class="string">/home/i/.m2/repository</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p><code>finalName</code>的默认值是<code>${project.name}-${project.version}</code>。</p>
</blockquote>
<h3 id="引用外部属性文件中定义的属性"><a href="#引用外部属性文件中定义的属性" class="headerlink" title="引用外部属性文件中定义的属性"></a>引用外部属性文件中定义的属性</h3><p>如果要引用外部属性文件中的属性，还需要在<code>pom.xml</code>中<code>filter</code>元素中指定外部属性文件的路径：</p>
<p><code>pom.xml</code>：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filters</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter</span>&gt;</span>src/main/filters/filter.properties<span class="tag">&lt;/<span class="name">filter</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">filters</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">resources</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">resource</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">directory</span>&gt;</span>src/main/resources<span class="tag">&lt;/<span class="name">directory</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">filtering</span>&gt;</span>true<span class="tag">&lt;/<span class="name">filtering</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">resource</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">resources</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="引用pom-xml的properties中定义的属性"><a href="#引用pom-xml的properties中定义的属性" class="headerlink" title="引用pom.xml的properties中定义的属性"></a>引用<code>pom.xml</code>的<code>properties</code>中定义的属性</h3><p><code>pom.xml</code>：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">project</span>&gt;</span></span><br><span class="line">  ……</span><br><span class="line">  <span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">resources</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">resource</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">directory</span>&gt;</span>src/main/resources<span class="tag">&lt;/<span class="name">directory</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filtering</span>&gt;</span>true<span class="tag">&lt;/<span class="name">filtering</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">resource</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">resources</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br><span class="line"> </span><br><span class="line">  <span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">my.filter.value</span>&gt;</span>hello<span class="tag">&lt;/<span class="name">my.filter.value</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line">  ……</span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><code>app.properties</code>：</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 访问 pom.xml 中的元素值</span></span><br><span class="line"><span class="meta">app.name</span>=<span class="string">$&#123;project.name&#125;  # 或者 $&#123;pom.name&#125;</span></span><br><span class="line"><span class="meta">app.finalName</span>=<span class="string">$&#123;project.build.finalName&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 访问 settings.xml 中的元素值</span></span><br><span class="line"><span class="attr">localRepo</span>=<span class="string">$&#123;settings.localRepository&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 访问 properties 中定义的属性</span></span><br><span class="line"><span class="attr">message</span>=<span class="string">$&#123;my.filter.value&#125;</span></span><br></pre></td></tr></table></figure>

<h3 id="引用系统属性"><a href="#引用系统属性" class="headerlink" title="引用系统属性"></a>引用系统属性</h3><p>系统属性有些是内置于java的，有些是通过命令行参数<code>-Dxxx</code>传递进来的。</p>
<p><code>app.properties</code>：</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 访问 pom.xml 中的元素值</span></span><br><span class="line"><span class="meta">app.name</span>=<span class="string">$&#123;project.name&#125;  # 或者 $&#123;pom.name&#125;</span></span><br><span class="line"><span class="meta">app.finalName</span>=<span class="string">$&#123;project.build.finalName&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 访问 settings.xml 中的元素值</span></span><br><span class="line"><span class="attr">localRepo</span>=<span class="string">$&#123;settings.localRepository&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 访问 properties 中定义的属性</span></span><br><span class="line"><span class="attr">message</span>=<span class="string">$&#123;my.filter.value&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 访问系统属性</span></span><br><span class="line"><span class="meta">java.version</span>=<span class="string">$&#123;java.version&#125;</span></span><br><span class="line"><span class="meta">command.line.prop</span>=<span class="string">$&#123;command.line.prop&#125;</span></span><br></pre></td></tr></table></figure>

<p>运行：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mvn process-resources <span class="string">"-Dcommand.line.prop=hello again"</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>过滤资源中无法引用环境变量。</p>
</blockquote>
<h2 id="Web资源过滤"><a href="#Web资源过滤" class="headerlink" title="Web资源过滤"></a>Web资源过滤</h2><p>在默认情况下，位于<code>src/main/webapp</code>的资源称为Web资源，与普通资源一样，也可以启用Web资源过滤，这样在Web资源中也可以使用插值。</p>
<p>启用Web资源过滤是通过配置<code>maven-war-plugin</code>插件实现的。另外，通过该插件还可以配置自定义的Web资源目录：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">project</span>&gt;</span></span><br><span class="line">  ...</span><br><span class="line">  <span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-war-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.2.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">webResources</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- the default value is the filter list under build --&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- specifying a filter will override the filter list under build --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">filters</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">filter</span>&gt;</span>properties/config.prop<span class="tag">&lt;/<span class="name">filter</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">filters</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">nonFilteredFileExtensions</span>&gt;</span></span><br><span class="line">              <span class="comment">&lt;!-- default value contains jpg,jpeg,gif,bmp,png --&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">nonFilteredFileExtension</span>&gt;</span>pdf<span class="tag">&lt;/<span class="name">nonFilteredFileExtension</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">nonFilteredFileExtensions</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">resource</span>&gt;</span></span><br><span class="line">              <span class="comment">&lt;!-- this is relative to the pom.xml directory --&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">directory</span>&gt;</span>resource2<span class="tag">&lt;/<span class="name">directory</span>&gt;</span></span><br><span class="line">              <span class="comment">&lt;!-- it's not a good idea to filter binary files --&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">filtering</span>&gt;</span>false<span class="tag">&lt;/<span class="name">filtering</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">resource</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">resource</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">directory</span>&gt;</span>configurations<span class="tag">&lt;/<span class="name">directory</span>&gt;</span></span><br><span class="line">              <span class="comment">&lt;!-- enable filtering --&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">filtering</span>&gt;</span>true<span class="tag">&lt;/<span class="name">filtering</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">excludes</span>&gt;</span><span class="comment">&lt;!-- there's no default value for this --&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">exclude</span>&gt;</span>**/properties<span class="tag">&lt;/<span class="name">exclude</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;/<span class="name">excludes</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">resource</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">webResources</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br><span class="line">  ...</span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>Web资源目录下的东西，将打包到WAR包的根目录下。</p>
<p>例如：打包之前的项目结构：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line"> |-- configurations</span><br><span class="line"> |   |-- config.cfg</span><br><span class="line"> |   &#96;-- properties</span><br><span class="line"> |       &#96;-- config.prop</span><br><span class="line"> |-- pom.xml</span><br><span class="line"> |-- resource2</span><br><span class="line"> |   |-- external-resource.jpg</span><br><span class="line"> |   &#96;-- image2</span><br><span class="line"> |       &#96;-- external-resource2.jpg</span><br><span class="line"> &#96;-- src</span><br><span class="line">     &#96;-- main</span><br><span class="line">         |-- java</span><br><span class="line">         |   &#96;-- com</span><br><span class="line">         |       &#96;-- example</span><br><span class="line">         |           &#96;-- projects</span><br><span class="line">         |               &#96;-- SampleAction.java</span><br><span class="line">         |-- resources</span><br><span class="line">         |   &#96;-- images</span><br><span class="line">         |       &#96;-- sampleimage.jpg</span><br><span class="line">         &#96;-- webapp</span><br><span class="line">             |-- WEB-INF</span><br><span class="line">             |   &#96;-- web.xml</span><br><span class="line">             |-- index.jsp</span><br><span class="line">             &#96;-- jsp</span><br><span class="line">                 &#96;-- websource.jsp</span><br></pre></td></tr></table></figure>

<p><code>config.prop</code> ：</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">interpolated_property</span>=<span class="string">some_config_value</span></span><br></pre></td></tr></table></figure>

<p><code>config.cfg</code> ：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">another_ioc_container</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">configuration</span>&gt;</span>$&#123;interpolated_property&#125;<span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">another_ioc_container</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>打包后的结果WAR的结构：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">documentedproject-1.0-SNAPSHOT.war</span><br><span class="line"> |-- META-INF</span><br><span class="line"> |   |-- MANIFEST.MF</span><br><span class="line"> |   &#96;-- maven</span><br><span class="line"> |       &#96;-- com.example.projects</span><br><span class="line"> |           &#96;-- documentedproject</span><br><span class="line"> |               |-- pom.properties</span><br><span class="line"> |               &#96;-- pom.xml</span><br><span class="line"> |-- WEB-INF</span><br><span class="line"> |   |-- classes</span><br><span class="line"> |   |   |-- com</span><br><span class="line"> |   |   |   &#96;-- example</span><br><span class="line"> |   |   |       &#96;-- projects</span><br><span class="line"> |   |   |           &#96;-- SampleAction.class</span><br><span class="line"> |   |   &#96;-- images</span><br><span class="line"> |   |       &#96;-- sampleimage.jpg</span><br><span class="line"> |   &#96;-- web.xml</span><br><span class="line"> |-- config.cfg</span><br><span class="line"> |-- external-resource.jpg</span><br><span class="line"> |-- image2</span><br><span class="line"> |   &#96;-- external-resource2.jpg</span><br><span class="line"> |-- index.jsp</span><br><span class="line"> &#96;-- jsp</span><br><span class="line">     &#96;-- websource.jsp</span><br></pre></td></tr></table></figure>

<p>结果 <code>config.cfg</code> ：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">another_ioc_container</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">configuration</span>&gt;</span>some_config_value<span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">another_ioc_container</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="自定义Web资源的输出路径"><a href="#自定义Web资源的输出路径" class="headerlink" title="自定义Web资源的输出路径"></a>自定义Web资源的输出路径</h3><p>默认情况，Web资源将被输出到WAR包的根目录下。可以通过配置<code>maven-war-plugin</code>插件，自定义Web资源的输出路径：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">webResources</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">resource</span>&gt;</span></span><br><span class="line">      ...</span><br><span class="line">    <span class="tag">&lt;/<span class="name">resource</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">resource</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">directory</span>&gt;</span>configurations<span class="tag">&lt;/<span class="name">directory</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- override the destination directory for this resource --&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">targetPath</span>&gt;</span>WEB-INF<span class="tag">&lt;/<span class="name">targetPath</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- enable filtering --&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">filtering</span>&gt;</span>true<span class="tag">&lt;/<span class="name">filtering</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">excludes</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">exclude</span>&gt;</span>**/properties<span class="tag">&lt;/<span class="name">exclude</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">excludes</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">resource</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">webResources</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<p>结果WAR结构：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">documentedproject-1.0-SNAPSHOT.war</span><br><span class="line"> |-- META-INF</span><br><span class="line"> |   |-- MANIFEST.MF</span><br><span class="line"> |   &#96;-- maven</span><br><span class="line"> |       &#96;-- com.example.projects</span><br><span class="line"> |           &#96;-- documentedproject</span><br><span class="line"> |               |-- pom.properties</span><br><span class="line"> |               &#96;-- pom.xml</span><br><span class="line"> |-- WEB-INF</span><br><span class="line"> |   |-- classes</span><br><span class="line"> |   |   |-- com</span><br><span class="line"> |   |   |   &#96;-- example</span><br><span class="line"> |   |   |       &#96;-- projects</span><br><span class="line"> |   |   |           &#96;-- SampleAction.class</span><br><span class="line"> |   |   &#96;-- images</span><br><span class="line"> |   |       &#96;-- sampleimage.jpg</span><br><span class="line"> |   |-- config.cfg</span><br><span class="line"> |   &#96;-- web.xml</span><br><span class="line"> |-- external-resource.jpg</span><br><span class="line"> |-- image2</span><br><span class="line"> |   &#96;-- external-resource2.jpg</span><br><span class="line"> |-- index.jsp</span><br><span class="line"> &#96;-- jsp</span><br><span class="line">     &#96;-- websource.jsp</span><br></pre></td></tr></table></figure>



<h1 id="Profile"><a href="#Profile" class="headerlink" title="Profile"></a>Profile</h1><p>profile可以根据需要动态地启用特定配置，从而实现多环境构建的支持。</p>
<h2 id="Profile的层次"><a href="#Profile的层次" class="headerlink" title="Profile的层次"></a>Profile的层次</h2><ul>
<li>项目级的Profiles定义在<code>pom.xml</code>中；</li>
<li>用户级的Profiles定义在<code>~/.m2/settings.xml</code>中；</li>
<li>全局的Profiles定义在<code>${maven.home}/conf/settings.xml</code>中。</li>
</ul>
<blockquote>
<p> <code>settings.xml</code>中定义的Profiles优先级高于在<code>pom.xml</code>中定义的Profiles。</p>
</blockquote>
<p>在<code>settings.xml</code>中定义的Profiles只能包含：</p>
<ul>
<li><code>&lt;repositories&gt;</code> </li>
<li><code>&lt;pluginRepositories&gt;</code></li>
<li><code>&lt;properties&gt;</code> </li>
</ul>
<p>在<code>pom.xml</code>中定义的Profiles只能包含：</p>
<ul>
<li><code>&lt;repositories&gt;</code></li>
<li><code>&lt;pluginRepositories&gt;</code></li>
<li><code>&lt;dependencies&gt;</code></li>
<li><code>&lt;plugins&gt;</code></li>
<li><code>&lt;properties&gt;</code> (not actually available in the main POM, but used behind the scenes)</li>
<li><code>&lt;modules&gt;</code></li>
<li><code>&lt;reporting&gt;</code></li>
<li><code>&lt;dependencyManagement&gt;</code></li>
<li><code>&lt;distributionManagement&gt;</code></li>
<li>a subset of the <code>&lt;build&gt;</code> element, which consists of：<ul>
<li><code>&lt;defaultGoal&gt;</code></li>
<li><code>&lt;resources&gt;</code></li>
<li><code>&lt;testResources&gt;</code></li>
<li><code>&lt;finalName&gt;</code></li>
</ul>
</li>
</ul>
<h2 id="启用-禁用Profile"><a href="#启用-禁用Profile" class="headerlink" title="启用/禁用Profile"></a>启用/禁用Profile</h2><h3 id="使用命令行启用Profile"><a href="#使用命令行启用Profile" class="headerlink" title="使用命令行启用Profile"></a>使用命令行启用Profile</h3><p>在Maven命令中，使用参数<code>-P profileID1,profileID2,…</code>可以启用指定Profiles：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ mvn package -P profile-1,profile-2</span><br></pre></td></tr></table></figure>

<p>这种方式，对于那些依靠激活配置或在<code>settings.xml</code>的<code>&lt;activeProfiles&gt;</code>中的Profiles没有效果。</p>
<h3 id="使用Maven配置启用Profile"><a href="#使用Maven配置启用Profile" class="headerlink" title="使用Maven配置启用Profile"></a>使用Maven配置启用Profile</h3><p>在<code>settings.xml</code>中，可以通过<code>&lt;activeProfiles&gt;</code>来指定要启用的Profiles：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">settings</span>&gt;</span></span><br><span class="line">  ...</span><br><span class="line">  <span class="tag">&lt;<span class="name">activeProfiles</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">activeProfile</span>&gt;</span>profile-1<span class="tag">&lt;/<span class="name">activeProfile</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">activeProfiles</span>&gt;</span></span><br><span class="line">  ...</span><br><span class="line"><span class="tag">&lt;/<span class="name">settings</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="根据指定的构建环境自动启用"><a href="#根据指定的构建环境自动启用" class="headerlink" title="根据指定的构建环境自动启用"></a>根据指定的构建环境自动启用</h3><p>当在<code>&lt;activation&gt;</code>中指定的构建环境满足时，自动启用该Profile。</p>
<h4 id="基于JDK版本号"><a href="#基于JDK版本号" class="headerlink" title="基于JDK版本号"></a>基于JDK版本号</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">profiles</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">profile</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">activation</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">jdk</span>&gt;</span>1.4<span class="tag">&lt;/<span class="name">jdk</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">activation</span>&gt;</span></span><br><span class="line">    ...</span><br><span class="line">  <span class="tag">&lt;/<span class="name">profile</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">profiles</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>当JDK的版本是“1.4”时，启用该profile。在指定JDK的版本时，可以使用范围：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">profiles</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">profile</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">activation</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">jdk</span>&gt;</span>[1.3,1.6)<span class="tag">&lt;/<span class="name">jdk</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">activation</span>&gt;</span></span><br><span class="line">    ...</span><br><span class="line">  <span class="tag">&lt;/<span class="name">profile</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">profiles</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>当JDK版本大于等于“1.3”，并且小于“1.6”时，启用该profile。</p>
<blockquote>
<p>注意：<code>, 1.5]</code>这样的上界，并不会包含<code>1.5_05</code>这样的版本号。</p>
</blockquote>
<h4 id="基于操作系统配置"><a href="#基于操作系统配置" class="headerlink" title="基于操作系统配置"></a>基于操作系统配置</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">profiles</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">profile</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">activation</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">os</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>Windows XP<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">family</span>&gt;</span>Windows<span class="tag">&lt;/<span class="name">family</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">arch</span>&gt;</span>x86<span class="tag">&lt;/<span class="name">arch</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.1.2600<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">os</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">activation</span>&gt;</span></span><br><span class="line">    ...</span><br><span class="line">  <span class="tag">&lt;/<span class="name">profile</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">profiles</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>参见： <a href="http://maven.apache.org/enforcer/enforcer-rules/requireOS.html" target="_blank" rel="noopener">Maven Enforcer Plugin</a> </p>
<h4 id="基于系统属性"><a href="#基于系统属性" class="headerlink" title="基于系统属性"></a>基于系统属性</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">profiles</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">profile</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">activation</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>debug<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">activation</span>&gt;</span></span><br><span class="line">    ...</span><br><span class="line">  <span class="tag">&lt;/<span class="name">profile</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">profiles</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>当系统属性<code>debug</code>被定义时启用。（<code>debug</code>是什么值无所谓）。</p>
<p>如果要表示当系统属性<code>debug</code>没有被定义时启用，则使用：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">profiles</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">profile</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">activation</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>!debug<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">activation</span>&gt;</span></span><br><span class="line">    ...</span><br><span class="line">  <span class="tag">&lt;/<span class="name">profile</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">profiles</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>下列的配置表示 ，当系统属性<code>debug</code>没有被定义，或者定义的值不是<code>true</code>时启用：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">profiles</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">profile</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">activation</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>debug<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>!true<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">activation</span>&gt;</span></span><br><span class="line">    ...</span><br><span class="line">  <span class="tag">&lt;/<span class="name">profile</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">profiles</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>系统属性可以通过命令行中的<code>-D</code>参数来指定：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mvn install -Ddebug=<span class="literal">false</span></span><br></pre></td></tr></table></figure>

<h4 id="基于已启用的Profiles的-lt-properties-gt-配置的属性"><a href="#基于已启用的Profiles的-lt-properties-gt-配置的属性" class="headerlink" title="基于已启用的Profiles的&lt;properties&gt;配置的属性"></a>基于已启用的Profiles的<code>&lt;properties&gt;</code>配置的属性</h4><p>从Maven 3.0开始，在<code>settings.xml</code>中，通过<code>&lt;activation&gt;</code>启用的Profiles，它的<code>&lt;properties&gt;</code>配置的属性，也可以用来作为 激活其他Profile的条件。</p>
<h4 id="基于环境变量"><a href="#基于环境变量" class="headerlink" title="基于环境变量"></a>基于环境变量</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">profiles</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">profile</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">activation</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>env.FOO<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>bar<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">activation</span>&gt;</span></span><br><span class="line">    ...</span><br><span class="line">  <span class="tag">&lt;/<span class="name">profile</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">profiles</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>环境变量<code>FOO</code>在配置中，要写成<code>env.FOO</code>。并且，在Windows中，环境变量名的所有字母要使用大写形式。</p>
<h4 id="基于某个文件是否存在"><a href="#基于某个文件是否存在" class="headerlink" title="基于某个文件是否存在"></a>基于某个文件是否存在</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">profiles</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">profile</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">activation</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">file</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">missing</span>&gt;</span>target/generated-sources/axistools/wsdl2java/org/apache/maven<span class="tag">&lt;/<span class="name">missing</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">file</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">activation</span>&gt;</span></span><br><span class="line">    ...</span><br><span class="line">  <span class="tag">&lt;/<span class="name">profile</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">profiles</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><code>&lt;missing&gt;</code>表示不存在某个文件时，<code>exists</code>表示存在某个文件时。这两个元素都支持使用插值，但插值中只允许系统变量和环境变量（例如：<code>${env.HOME}</code>）。</p>
<h3 id="默认启用"><a href="#默认启用" class="headerlink" title="默认启用"></a>默认启用</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">profiles</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">profile</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">id</span>&gt;</span>profile-1<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">activation</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">activeByDefault</span>&gt;</span>true<span class="tag">&lt;/<span class="name">activeByDefault</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">activation</span>&gt;</span></span><br><span class="line">    ...</span><br><span class="line">  <span class="tag">&lt;/<span class="name">profile</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">profiles</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>如果没有其他Profile被启用，则这个Profile将自动启用。只要有其他Profile被启用，默认启用的Profile将被自动禁用。</p>
<h3 id="禁用Profile"><a href="#禁用Profile" class="headerlink" title="禁用Profile"></a>禁用Profile</h3><p>从Maven 2.0.10开始，在Maven命令中通过在Profile ID的前面加上<code>!</code>或<code>-</code>前缀，将禁用该Profile：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ mvn groupId:artifactId:goal -P !profile-1,!profile-2</span><br></pre></td></tr></table></figure>

<p>这条命令能禁用以任何方式启用的Profile，包括<code>activeByDefault</code>方式。</p>
<h3 id="查看当前已启用的Profile"><a href="#查看当前已启用的Profile" class="headerlink" title="查看当前已启用的Profile"></a>查看当前已启用的Profile</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ mvn <span class="built_in">help</span>:active-profiles</span><br></pre></td></tr></table></figure>



<h1 id="多模块项目"><a href="#多模块项目" class="headerlink" title="多模块项目"></a>多模块项目</h1><h2 id="项目继承"><a href="#项目继承" class="headerlink" title="项目继承"></a>项目继承</h2><p>Maven的项目之间可互相继承，子模块的<code>pom.xml</code>中没有的元素将从父模块的<code>pom.xml</code>中继承下来；而子模块中有的元素，有些会覆盖父模块中同名的元素（例如：<code>groupId</code>、<code>version</code>等），而有些则会与父模块中同名元素进行合并，例如：</p>
<ul>
<li>dependencies</li>
<li>developers and contributors</li>
<li>plugin lists (including reports)</li>
<li>plugin executions with matching ids</li>
<li>plugin configuration</li>
<li>resources</li>
</ul>
<p>Maven的项目继承，各模块之间既可以是嵌套结构的，也可以彼此扁平的。</p>
<blockquote>
<p>注意：构建父模块并不会构建子模块，反之亦然。</p>
</blockquote>
<h3 id="嵌套式"><a href="#嵌套式" class="headerlink" title="嵌套式"></a>嵌套式</h3><p>项目结构：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">my-app</span><br><span class="line">  |-- my-module</span><br><span class="line">  |   &#96;-- pom.xml</span><br><span class="line">  &#96;-- pom.xml</span><br></pre></td></tr></table></figure>

<p><code>my-app/pom.xml</code>：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">project</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.mycompany.app<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>my-app<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">packaging</span>&gt;</span>pom<span class="tag">&lt;/<span class="name">packaging</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>父模块的<code>packaging</code>必须是<code>pom</code>。</p>
<p><code>my-module/pom.xml</code>：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">project</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.mycompany.app<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>my-app<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.mycompany.app<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>my-module<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>子模块使用<code>parent</code>元素来继承指定父模块。</p>
<p><code>my-module/pom.xml</code>中与父模块相同部分可以省略：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">project</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.mycompany.app<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>my-app<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>my-module<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>在构建嵌套式的子模块时，父模块<strong>不需要</strong>事先安装到仓库，也不需要显式使用<code>relativePath</code>元素。</p>
<h3 id="扁平式"><a href="#扁平式" class="headerlink" title="扁平式"></a>扁平式</h3><p>在扁平式的项目继承中，父模块与子模块在位置上是相互独立的，子模块没有嵌套在父模块中。</p>
<p>在使用<code>parent</code>来配置父模块时，如果父模块已经事先安装到仓库中，则配置与嵌套式一样；否则，需要使用<code>relativePath</code>元素来显式指定父模块的<code>pom.xml</code>相对于当前模块的<code>pom.xml</code>的位置：</p>
<p>扁平式的项目结构：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line"> |-- my-module</span><br><span class="line"> |   &#96;-- pom.xml</span><br><span class="line"> &#96;-- parent</span><br><span class="line">     &#96;-- pom.xml</span><br></pre></td></tr></table></figure>

<p><code>parent/pom.xml</code>：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">project</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.mycompany.app<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>my-app<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">packaging</span>&gt;</span>pom<span class="tag">&lt;/<span class="name">packaging</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>父模块的<code>packaging</code>必须是<code>pom</code>。</p>
<p><code>my-module/pom.xml</code>：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">project</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.mycompany.app<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>my-app<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">relativePath</span>&gt;</span>../parent/pom.xml<span class="tag">&lt;/<span class="name">relativePath</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>my-module<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>如果<code>my-app</code>模块没有事先安装到仓库，则必须显式设置<code>relativePath</code>元素。</p>
<blockquote>
<p><code>relativePath</code>的默认值是<code>../pom.xml</code>。</p>
</blockquote>
<h2 id="项目聚合"><a href="#项目聚合" class="headerlink" title="项目聚合"></a>项目聚合</h2><h3 id="嵌套式-1"><a href="#嵌套式-1" class="headerlink" title="嵌套式"></a>嵌套式</h3><p>项目结构：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">my-app</span><br><span class="line">  |-- my-module</span><br><span class="line">  |   &#96;-- pom.xml</span><br><span class="line">  &#96;-- pom.xml</span><br></pre></td></tr></table></figure>

<p><code>my-app/pom.xml</code>：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">project</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.mycompany.app<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>my-app<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">packaging</span>&gt;</span>pom<span class="tag">&lt;/<span class="name">packaging</span>&gt;</span></span><br><span class="line"> </span><br><span class="line">  <span class="tag">&lt;<span class="name">modules</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">module</span>&gt;</span>my-module<span class="tag">&lt;/<span class="name">module</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">modules</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>聚合模块通过<code>modules</code>元素来指定各被聚合模块。<code>module</code>的值是被聚合模块的路径（相对于聚合模块的路径）。</p>
<p>聚合模块的<code>packaging</code>必须是<code>pom</code>。</p>
<p><code>my-module/pom.xml</code>：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">project</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.mycompany.app<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>my-module<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>被聚合模块不需要专门配置。并且，被聚合模块的POM中，与聚合模块相同的部分也不能省略，也不能从聚合模块的POM中继承任何东西。</p>
<h3 id="扁平式-1"><a href="#扁平式-1" class="headerlink" title="扁平式"></a>扁平式</h3><p>扁平式的项目结构：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line"> |-- my-module</span><br><span class="line"> |   &#96;-- pom.xml</span><br><span class="line"> &#96;-- aggregation</span><br><span class="line">     &#96;-- pom.xml</span><br></pre></td></tr></table></figure>

<p><code>aggregation/pom.xml</code>：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">project</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.mycompany.app<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>my-app<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">packaging</span>&gt;</span>pom<span class="tag">&lt;/<span class="name">packaging</span>&gt;</span></span><br><span class="line"> </span><br><span class="line">  <span class="tag">&lt;<span class="name">modules</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">module</span>&gt;</span>../my-module<span class="tag">&lt;/<span class="name">module</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">modules</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>项目聚合的扁平式与嵌套式实际上是一样的，只不过要注意设置正确被聚合模块的相对路径。</p>
<h3 id="聚合项目的构建"><a href="#聚合项目的构建" class="headerlink" title="聚合项目的构建"></a>聚合项目的构建</h3><p>在聚合模块上执行的Maven命令，也会自动在所有被聚合模块上执行。反之则不会。</p>
<p>这样，聚合项目就可以只使用一条Maven构建命令，就构建整个聚合项目。例如，只需要在聚合模块中运行如下构建命令，则整个聚合项目都会被构建：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mvn verify</span><br></pre></td></tr></table></figure>

<p>如果在聚合模块中，只希望构建自己，而不希望构建它的被聚合模块，则只需要在运行Maven命令时，加上<code>--non-recursive</code>参数：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mvn verify --non-recursive</span><br></pre></td></tr></table></figure>

<h2 id="继承和聚合的关系"><a href="#继承和聚合的关系" class="headerlink" title="继承和聚合的关系"></a>继承和聚合的关系</h2><p>在多模块Maven项目中，聚合与继承其实是两个不同的概念，其目的完全不同。聚合主要是为了方便快速构建项目，而继承则是为了消除重得配置。</p>
<p>它们的共同特点是，聚合模块和父模块的POM的<code>packaging</code>都必须是<code>pom</code>。</p>
<p><img src="Maven/%E8%81%9A%E5%90%88%E4%B8%8E%E7%BB%A7%E6%89%BF.png" alt="聚合与继承"></p>
<p>聚合和继承是可以同时使用的。</p>
<p>混合的项目结构：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">app</span><br><span class="line">  +- pom.xml</span><br><span class="line">  +- my-app</span><br><span class="line">  | +- pom.xml</span><br><span class="line">  | +- src</span><br><span class="line">  |   +- main</span><br><span class="line">  |     +- java</span><br><span class="line">  +- my-webapp</span><br><span class="line">  | +- pom.xml</span><br><span class="line">  | +- src</span><br><span class="line">  |   +- main</span><br><span class="line">  |     +- webapp</span><br></pre></td></tr></table></figure>

<p>父模块要使用<code>modules</code>元素描述所包含的子模块，并且父模块的<code>packaging</code>必需设置为<code>pom</code>值。<code>app/pom.xml</code>：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">"http://maven.apache.org/POM/4.0.0"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://maven.apache.org/POM/4.0.0</span></span></span><br><span class="line"><span class="tag"><span class="string">                      http://maven.apache.org/xsd/maven-4.0.0.xsd"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line"> </span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.mycompany.app<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>app<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">packaging</span>&gt;</span>pom<span class="tag">&lt;/<span class="name">packaging</span>&gt;</span></span><br><span class="line"> </span><br><span class="line">  <span class="tag">&lt;<span class="name">modules</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">module</span>&gt;</span>my-app<span class="tag">&lt;/<span class="name">module</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">module</span>&gt;</span>my-webapp<span class="tag">&lt;/<span class="name">module</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">modules</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>由于<code>my-webapp</code>模块依赖于<code>my-app</code>模块，因此，要在<code>my-webapp/pom.xml</code>中添加对<code>my-app</code>的依赖：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.mycompany.app<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>my-app<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">  ...</span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>所有的子模块都要使用<code>parent</code>元素来继承它的父模块：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">"http://maven.apache.org/POM/4.0.0"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://maven.apache.org/POM/4.0.0</span></span></span><br><span class="line"><span class="tag"><span class="string">                      http://maven.apache.org/xsd/maven-4.0.0.xsd"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.mycompany.app<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>app<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br><span class="line">  ...</span><br></pre></td></tr></table></figure>

<p>这样，模块<code>my-app</code>和<code>my-module</code>的POM会继承<code>app</code>模块的POM，同时，在<code>app</code>上执行的Maven构建命令，也会自动在模块<code>my-app</code>和<code>my-module</code>中执行。</p>
<blockquote>
<p> 另外，要注意：虽然<code>my-module</code>依赖于<code>my-app</code>，但单独构建<code>my-module</code>，并不会自动构建它的依赖模块<code>my-app</code>。因此，在构建一个模块时，要么与依赖模块一起构建，要么先将依赖模块安装到仓库。</p>
</blockquote>
<h1 id="Archetype"><a href="#Archetype" class="headerlink" title="Archetype"></a>Archetype</h1><p>Archetype可以理解成Maven项目的模板，它是通过<code>maven-archetype-plugin</code>插件来实现的。</p>
<h2 id="开发Archetype"><a href="#开发Archetype" class="headerlink" title="开发Archetype"></a>开发Archetype</h2><h3 id="创建一个Archetype项目"><a href="#创建一个Archetype项目" class="headerlink" title="创建一个Archetype项目"></a>创建一个Archetype项目</h3><p>按照正常的方式创建一个Maven项目，并且在项目POM上定义Archetype的Maven坐标：</p>
<p><code>pom.xml</code>：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">"http://maven.apache.org/POM/4.0.0"</span> <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line"> </span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>my.groupId<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>my-archetype-id<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">packaging</span>&gt;</span>jar<span class="tag">&lt;/<span class="name">packaging</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="创建Archetype描述符"><a href="#创建Archetype描述符" class="headerlink" title="创建Archetype描述符"></a>创建Archetype描述符</h3><p>Archetype描述符列出将被包含在该Archetype生成的原型中的所有文件，以及它使用哪些属性。</p>
<p>在Maven 1.x 中，Archetype描述符是<code>src/main/resources/META-INF/maven/archetype.xml</code>，而在Maven 2.x开始则是<code>src/main/resources/META-INF/maven/archetype-metadata.xml</code>。两种完全不同。</p>
<p><code>archetype.xml</code>：（Maven 1.x）</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">archetype</span> <span class="attr">xmlns</span>=<span class="string">"http://maven.apache.org/plugins/maven-archetype-plugin/archetype/1.0.0"</span> <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://maven.apache.org/plugins/maven-archetype-plugin/archetype/1.0.0 http://maven.apache.org/xsd/archetype-1.0.0.xsd"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">id</span>&gt;</span>my-archetype-id<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">sources</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">source</span>&gt;</span>src/main/java/App.java<span class="tag">&lt;/<span class="name">source</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">sources</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">testSources</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">source</span>&gt;</span>src/test/java/AppTest.java<span class="tag">&lt;/<span class="name">source</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">testSources</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">archetype</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><code>&lt;id&gt;</code>的值应该与<code>pom.xml</code>中的<code>artifactId</code>相同。</p>
<p><code>&lt;allowPartial&gt;true&lt;/allowPartial&gt;</code>允许在已经存在的项目上执行<code>archetype:generate</code>。</p>
<blockquote>
<p><code>&lt;source&gt;</code>和<code>&lt;resource&gt;</code>中只能指定文件，而不能是目录。</p>
</blockquote>
<p><code>archetype-metadata.xml</code>：（Maven 2.x）</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">archetype-descriptor</span> <span class="attr">xmlns</span>=<span class="string">"http://maven.apache.org/plugins/maven-archetype-plugin/archetype-descriptor/1.0.0"</span> </span></span><br><span class="line"><span class="tag">  <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://maven.apache.org/plugins/maven-archetype-plugin/archetype-descriptor/1.0.0 http://maven.apache.org/xsd/archetype-descriptor-1.0.0.xsd"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">name</span>=<span class="string">"my-archetype"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">requiredProperties</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">requiredProperty</span> <span class="attr">key</span>=<span class="string">"port"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">requiredProperty</span> <span class="attr">key</span>=<span class="string">"groupId"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">defaultValue</span>&gt;</span>com.mycompany<span class="tag">&lt;/<span class="name">defaultValue</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">requiredProperty</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">requiredProperties</span>&gt;</span></span><br><span class="line"> </span><br><span class="line">  <span class="tag">&lt;<span class="name">fileSets</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">fileSet</span> <span class="attr">filtered</span>=<span class="string">"true"</span> <span class="attr">packaged</span>=<span class="string">"true"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">directory</span>&gt;</span>src/main/java<span class="tag">&lt;/<span class="name">directory</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">includes</span>&gt;</span></span><br><span class="line">      	<span class="tag">&lt;<span class="name">include</span>&gt;</span>**/*.java<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">includes</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">fileSet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">fileSet</span> <span class="attr">filtered</span>=<span class="string">"true"</span> <span class="attr">packaged</span>=<span class="string">"true"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">directory</span>&gt;</span>src/test/java<span class="tag">&lt;/<span class="name">directory</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">includes</span>&gt;</span></span><br><span class="line">      	<span class="tag">&lt;<span class="name">include</span>&gt;</span>**/*.java<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">includes</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">fileSet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">fileSet</span> <span class="attr">filtered</span>=<span class="string">"true"</span> <span class="attr">packaged</span>=<span class="string">"false"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">directory</span>&gt;</span>src/main/resources<span class="tag">&lt;/<span class="name">directory</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">includes</span>&gt;</span></span><br><span class="line">      	<span class="tag">&lt;<span class="name">include</span>&gt;</span>**/*.properties<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">includes</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">fileSet</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">fileSets</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">archetype-descriptor</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><code>packaged</code>表示是否将该目录下的内容放到生成项目的<code>package</code>参数指定路径下。</p>
<p><code>filtered</code>表示是否允许使用插值。这样在模板类中就可以使用插值了，例如：</p>
<p><code>App.java</code>：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> $&#123;<span class="keyword">package</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">App</span> </span>&#123;</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>**</code>和<code>*</code>都可以匹配0个或任意多个字符，但<code>*</code>不能匹配路径分隔符。</p>
<p><code>requiredProperties</code>定义的属性，可出现在<code>filtered=&quot;true&quot;</code>的文件的插值中（例如：<code>${port}</code>）。还可以为系统属性设置默认值，例如上面的<code>groupId</code>。</p>
<h3 id="创建原型的文件和pom-xml"><a href="#创建原型的文件和pom-xml" class="headerlink" title="创建原型的文件和pom.xml"></a>创建原型的文件和<code>pom.xml</code></h3><p>希望在项目原型上出现的东西，全部放到<code>src/main/resources/archetype-resources/</code>下。</p>
<p>原型项目的<code>pom.xml</code>：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">"http://maven.apache.org/POM/4.0.0"</span> <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line"> </span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>$&#123;groupId&#125;<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>$&#123;artifactId&#125;<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">packaging</span>&gt;</span>jar<span class="tag">&lt;/<span class="name">packaging</span>&gt;</span></span><br><span class="line"> </span><br><span class="line">  <span class="tag">&lt;<span class="name">name</span>&gt;</span>A custom project<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">url</span>&gt;</span>http://www.myorganization.org<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line"> </span><br><span class="line">  <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.8.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>注意： <code>artifactId</code> 、 <code>groupId</code>和<code>version</code>的值不是固定的，而是使用插值。它们来自<code>archetype:generate</code>命令行的参数。</p>
</blockquote>
<h3 id="Archetype的项目结构"><a href="#Archetype的项目结构" class="headerlink" title="Archetype的项目结构"></a>Archetype的项目结构</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">archetype</span><br><span class="line">|-- pom.xml</span><br><span class="line">&#96;-- src</span><br><span class="line">    &#96;-- main</span><br><span class="line">        &#96;-- resources</span><br><span class="line">            |-- META-INF</span><br><span class="line">            |   &#96;-- maven</span><br><span class="line">            |       &#96;--archetype.xml</span><br><span class="line">            &#96;-- archetype-resources</span><br><span class="line">                |-- pom.xml</span><br><span class="line">                &#96;-- src</span><br><span class="line">                    |-- main</span><br><span class="line">                    |   &#96;-- java</span><br><span class="line">                    |       &#96;-- App.java  （不需要创建完整的包路径）</span><br><span class="line">                    &#96;-- test</span><br><span class="line">                        &#96;-- java</span><br><span class="line">                            &#96;-- AppTest.java</span><br></pre></td></tr></table></figure>

<h3 id="构建和部署Archetype"><a href="#构建和部署Archetype" class="headerlink" title="构建和部署Archetype"></a>构建和部署Archetype</h3><p>与普通Maven项目完全一样。</p>
<h3 id="使用Archetype生成项目原型"><a href="#使用Archetype生成项目原型" class="headerlink" title="使用Archetype生成项目原型"></a>使用Archetype生成项目原型</h3><p>使用Archetype生成项目原型：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ mvn archetype:generate -DarchetypeGroupId=my.groupId -DarchetypeArtifactId=my-archetype-id -DarchetypeVersion=1.0-SNAPSHOT -DgroupId=&lt;my-groupid&gt; -Dpackage=&lt;my-toppackage&gt; -Dport=8080</span><br></pre></td></tr></table></figure>

<p>在执行<code>archetype:generate</code>时，如果参数不完整，则会出现交互式提示，以完成未指定参数的设置。例如：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ mvn archetype:generate</span><br></pre></td></tr></table></figure>

<h2 id="Archetype描述符"><a href="#Archetype描述符" class="headerlink" title="Archetype描述符"></a>Archetype描述符</h2><p><code>archetype-metadata.xml</code>：（Maven 2.x）</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">archetype-descriptor</span> <span class="attr">xmlns</span>=<span class="string">"http://maven.apache.org/plugins/maven-archetype-plugin/archetype-descriptor/1.0.0"</span> </span></span><br><span class="line"><span class="tag">  <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://maven.apache.org/plugins/maven-archetype-plugin/archetype-descriptor/1.0.0 http://maven.apache.org/xsd/archetype-descriptor-1.0.0.xsd"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">name</span>=<span class="string">..</span> <span class="attr">partial</span>=<span class="string">..</span> &gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">requiredProperties</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">requiredProperty</span> <span class="attr">key</span>=<span class="string">..</span> &gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">defaultValue</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">validationRegex</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">requiredProperty</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">requiredProperties</span>&gt;</span></span><br><span class="line"> </span><br><span class="line">  <span class="tag">&lt;<span class="name">fileSets</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">fileSet</span> <span class="attr">filtered</span>=<span class="string">..</span> <span class="attr">packaged</span>=<span class="string">..</span> <span class="attr">encoding</span>=<span class="string">..</span> &gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">directory</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">includes</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">excludes</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">fileSet</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">fileSets</span>&gt;</span></span><br><span class="line"> </span><br><span class="line">  <span class="tag">&lt;<span class="name">modules</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">module</span> <span class="attr">id</span>=<span class="string">..</span> <span class="attr">dir</span>=<span class="string">..</span> <span class="attr">name</span>=<span class="string">..</span> &gt;</span></span><br><span class="line"> </span><br><span class="line">      <span class="tag">&lt;<span class="name">fileSets</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">fileSet</span> <span class="attr">filtered</span>=<span class="string">..</span> <span class="attr">packaged</span>=<span class="string">..</span> <span class="attr">encoding</span>=<span class="string">..</span> &gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">directory</span>/&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">includes</span>/&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">excludes</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">fileSet</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">fileSets</span>&gt;</span></span><br><span class="line"> </span><br><span class="line">      <span class="tag">&lt;<span class="name">modules</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">module</span>&gt;</span>...recursion...<span class="tag">&lt;<span class="name">module</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">modules</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">module</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">modules</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">archetype-descriptor</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="Archetype-Catalog"><a href="#Archetype-Catalog" class="headerlink" title="Archetype Catalog"></a>Archetype Catalog</h2><p>当用户以不指定Archetype坐标的方式使用<code>maven-archetype-plugin</code>的时候，会得到一个Archetype列表供选择。这个列表信息来源于<code>archetype-catalog.xml</code>文件。</p>
<p><code>archetype-catalog.xml</code>文件可以通过Maven命令行参数<code>-DarchetypeCatalog</code>来指定，可以指定多个Catalog，使用逗号分隔：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ mvn archetype:generate -DarchetypeCatalog=file:///tmp/archetype-catalog.xml,<span class="built_in">local</span></span><br></pre></td></tr></table></figure>

<p>如果没有指定，则默认为：“remote,local”。</p>
<p><code>-DarchetypeCatalog</code>可以指定为：</p>
<ul>
<li><code>internal</code>：表示<code>maven-archetype-plugin</code>内置的Archetype Catalog，约有58个；</li>
<li><code>local</code>：表示用户本地的Archetype Catalog，其位置为<code>~/.m2/archetype-catalog.xml</code>（默认不存在，要自己创建）；</li>
<li><code>remote</code>：表示 Maven中央仓库的Archetype Catalog，具体地址为<a href="http://repo1.maven.org/maven2/archetype-catalog.xml" target="_blank" rel="noopener">http://repo1.maven.org/maven2/archetype-catalog.xml</a>；</li>
<li><code>file://...</code>：本地指定位置的Archetype Catalog；</li>
<li><code>http://...</code>：可以使用HTTP协议指定的远程Archetype Catalog。</li>
</ul>
<h3 id="从本地仓库生成Archetype-Catalog"><a href="#从本地仓库生成Archetype-Catalog" class="headerlink" title="从本地仓库生成Archetype Catalog"></a>从本地仓库生成Archetype Catalog</h3><p><code>maven-archetype-plugin</code>提供了一个名为<code>crawl</code>的目标，可以用它来遍历本地Maven仓库的内容，并自动生成<code>archetype-catalog.xml</code>文件：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ mvn archetype:crawl</span><br></pre></td></tr></table></figure>

<p>如果不提供任何参数，<code>crawl</code>会遍历用户在<code>settings.xml</code>中定义的<code>localRepository</code>，并且在该仓库的根目录下生成<code>archetype-catalog.xml</code>文件。</p>
<p>用户也可以使用参数指定要遍历的本地Maven仓库和要生成Catalog文件：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ mvn archetype:crawl -Drepository=/maven/repository -Dcatalog=/archetype-catalog.xml</span><br></pre></td></tr></table></figure>

<h3 id="为Nexus私有仓库实时生成Archetype-Catalog"><a href="#为Nexus私有仓库实时生成Archetype-Catalog" class="headerlink" title="为Nexus私有仓库实时生成Archetype Catalog"></a>为Nexus私有仓库实时生成Archetype Catalog</h3><p><code>nexus-archetype-plugin</code>插件能够基于Nexus仓库索引实时地生成<code>archetype-catalog.xml</code>文件，只要用户安装了该插件。</p>
<p>首先，从<a href="https://repository.sonatype.org/content/groups/forge/org/sonatype/nexus/plugins/nexus-archetype-plugin/" target="_blank" rel="noopener">https://repository.sonatype.org/content/groups/forge/org/sonatype/nexus/plugins/nexus-archetype-plugin/</a>下载最新插件。</p>
<p>然后，解压到Nexus工作目录<code>sonatype-work/nexus/plugin-repository/</code>下。</p>
<p>最后，重启Nexus，插件就安装完成了。</p>
<p>当用户浏览Nexus仓库内容时，就能够在仓库的根目录下发现<code>archetype-catalog.xml</code>文件，右击选择下载即可。</p>
<blockquote>
<p>新版本的Nexus似乎不需要手工安装<code>nexus-archetype-plugin</code>插件。</p>
</blockquote>
<h2 id="常用Archetype"><a href="#常用Archetype" class="headerlink" title="常用Archetype"></a>常用Archetype</h2><table>
<thead>
<tr>
<th>Archetype ArtifactIds</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td><a href="http://maven.apache.org/archetypes/maven-archetype-archetype/" target="_blank" rel="noopener">maven-archetype-archetype</a></td>
<td>An archetype to generate a sample archetype.</td>
</tr>
<tr>
<td><a href="http://maven.apache.org/archetypes/maven-archetype-j2ee-simple/" target="_blank" rel="noopener">maven-archetype-j2ee-simple</a></td>
<td>An archetype to generate a simplifed sample J2EE application.</td>
</tr>
<tr>
<td>maven-archetype-mojo (deprecated)</td>
<td>Deprecated in favour of maven-archetype-plugin, which has a better name.</td>
</tr>
<tr>
<td><a href="http://maven.apache.org/archetypes/maven-archetype-plugin/" target="_blank" rel="noopener">maven-archetype-plugin</a></td>
<td>An archetype to generate a sample Maven plugin.</td>
</tr>
<tr>
<td><a href="http://maven.apache.org/archetypes/maven-archetype-plugin-site/" target="_blank" rel="noopener">maven-archetype-plugin-site</a></td>
<td>An archetype to generate a sample Maven plugin site.</td>
</tr>
<tr>
<td><a href="http://maven.apache.org/archetypes/maven-archetype-portlet/" target="_blank" rel="noopener">maven-archetype-portlet</a></td>
<td>An archetype to generate a sample JSR-268 Portlet.</td>
</tr>
<tr>
<td><a href="http://maven.apache.org/archetypes/maven-archetype-quickstart/" target="_blank" rel="noopener">maven-archetype-quickstart</a></td>
<td>An archetype to generate a sample Maven project.</td>
</tr>
<tr>
<td><a href="http://maven.apache.org/archetypes/maven-archetype-simple/" target="_blank" rel="noopener">maven-archetype-simple</a></td>
<td>An archetype to generate a simple Maven project.</td>
</tr>
<tr>
<td><a href="http://maven.apache.org/archetypes/maven-archetype-site/" target="_blank" rel="noopener">maven-archetype-site</a></td>
<td>An archetype to generate a sample Maven site which demonstrates some of the supported document types like APT, XDoc, and FML and demonstrates how to i18n your site.</td>
</tr>
<tr>
<td><a href="http://maven.apache.org/archetypes/maven-archetype-site-simple/" target="_blank" rel="noopener">maven-archetype-site-simple</a></td>
<td>An archetype to generate a sample Maven site.</td>
</tr>
<tr>
<td><a href="http://maven.apache.org/archetypes/maven-archetype-webapp/" target="_blank" rel="noopener">maven-archetype-webapp</a></td>
<td>An archetype to generate a sample Maven Webapp project.</td>
</tr>
</tbody></table>
<h1 id="版本管理"><a href="#版本管理" class="headerlink" title="版本管理"></a>版本管理</h1><p>语义化版本：详见<a href="https://semver.org/lang/zh-CN/" target="_blank" rel="noopener">https://semver.org/lang/zh-CN/</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;主版本号&gt;.&lt;次版本号&gt;.&lt;修订号&gt;-&lt;先行版本号&gt;+&lt;版本编译信息&gt;</span><br></pre></td></tr></table></figure>



<h2 id="什么是SNAPSHOT版本"><a href="#什么是SNAPSHOT版本" class="headerlink" title="什么是SNAPSHOT版本"></a>什么是<code>SNAPSHOT</code>版本</h2><p><code>&lt;version&gt;</code>的值中包含“SNAPSHOT”的，例如：<code>1.0-SNAPSHOT</code>，表示开发版；不包含的是正式版。</p>
<p>在发正式版过程中，版本号是<code>x.y-SNAPSHOT</code>的，将被发布为正式版<code>x.y</code>。同时，将开发版的版本号变为<code>x.(y+1)-SNAPSHOT</code>。</p>
<p>开发版在发布到仓库中时，会自动将<code>SNAPSHOT</code>替换为发布的时间戳加一个序号，例如：<code>2.1-SNAPSHOT</code>发布后，将变成<code>2.1-20091214.221414-13</code>。依赖于开发版的模块，仍使用<code>2.1-SNAPSHOT</code>来引用该依赖的版本号。</p>
<p>依赖于开发版的模块，在构建中会自动检查并下载该开发版的最新工件，而不需要频繁更新依赖的版本号。Maven检查的频率由<code>updatePolicy</code>控制，用户也可以使用命令行参数<code>-U</code>强制让Maven检查更新：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ mvn clean install -U</span><br></pre></td></tr></table></figure>

<h2 id="自动化版本管理"><a href="#自动化版本管理" class="headerlink" title="自动化版本管理"></a>自动化版本管理</h2><p>使用<code>maven-release-plugin</code>可进行自动化版本管理。</p>
<h1 id="项目站点"><a href="#项目站点" class="headerlink" title="项目站点"></a>项目站点</h1><h2 id="自定义站点外观"><a href="#自定义站点外观" class="headerlink" title="自定义站点外观"></a>自定义站点外观</h2><p>用户不仅能使用大量的报告插件生成项目站点，而且还可以自定义站点的布局和外观。</p>
<p>要自定义站点外观，需要在<code>src/site</code>目录下创建一个站点描述符文件——<code>site.xml</code>，以及为每种输出文档类型创建的子目录和一个资源文件夹：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">+- src&#x2F;</span><br><span class="line">   +- site&#x2F;</span><br><span class="line">      +- apt&#x2F;  （Wiki风格）</span><br><span class="line">      |  +- index.apt</span><br><span class="line">      !</span><br><span class="line">      +- markdown&#x2F;</span><br><span class="line">      |  +- index.md</span><br><span class="line">      |</span><br><span class="line">      +- xdoc&#x2F;</span><br><span class="line">      |  +- other.xml</span><br><span class="line">      |</span><br><span class="line">      +- fml&#x2F;  （FAQ风格）</span><br><span class="line">      |  +- general.fml</span><br><span class="line">      |  +- faq.fml</span><br><span class="line">      |</span><br><span class="line">      +- resources&#x2F;</span><br><span class="line">      |  +- css&#x2F;</span><br><span class="line">      |  |  +- site.css</span><br><span class="line">      |  |</span><br><span class="line">      |  +- images&#x2F;</span><br><span class="line">      |     +- pic1.jpg</span><br><span class="line">      +- site.xml</span><br></pre></td></tr></table></figure>

<blockquote>
<p>在站点的任何页面可以使用相对路径（总是相对于<code>images</code>目录，例如：<code>images/pic1.jpg</code>）来访问<code>images</code>中的图片。</p>
</blockquote>
<h2 id="站点描述符"><a href="#站点描述符" class="headerlink" title="站点描述符"></a>站点描述符</h2><p><code>site.xml</code>：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="ISO-8859-1"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">name</span>=<span class="string">"Maven"</span>&gt;</span>  <span class="comment">&lt;!--name属性将作为页面的title元素值--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">skin</span>&gt;</span>  <span class="comment">&lt;!--使用第三方皮肤--&gt;</span></span><br><span class="line">  	<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.googlecode.fluido-skin<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>fluido-skin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.3<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">skin</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">bannerLeft</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>Maven<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">src</span>&gt;</span>http://maven.apache.org/images/apache-maven-project.png<span class="tag">&lt;/<span class="name">src</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">href</span>&gt;</span>http://maven.apache.org/<span class="tag">&lt;/<span class="name">href</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">bannerLeft</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">bannerRight</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">src</span>&gt;</span>http://maven.apache.org/images/maven-small.gif<span class="tag">&lt;/<span class="name">src</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">bannerRight</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">links</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">item</span> <span class="attr">name</span>=<span class="string">"Apache"</span> <span class="attr">href</span>=<span class="string">"http://www.apache.org/"</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">item</span> <span class="attr">name</span>=<span class="string">"Maven 1.x"</span> <span class="attr">href</span>=<span class="string">"http://maven.apache.org/maven-1.x/"</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">item</span> <span class="attr">name</span>=<span class="string">"Maven 2"</span> <span class="attr">href</span>=<span class="string">"http://maven.apache.org/"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">links</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">menu</span> <span class="attr">name</span>=<span class="string">"Maven 2.0"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">item</span> <span class="attr">name</span>=<span class="string">"Introduction"</span> <span class="attr">href</span>=<span class="string">"index.html"</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">item</span> <span class="attr">name</span>=<span class="string">"Download"</span> <span class="attr">href</span>=<span class="string">"download.html"</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">item</span> <span class="attr">name</span>=<span class="string">"Release Notes"</span> <span class="attr">href</span>=<span class="string">"release-notes.html"</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">item</span> <span class="attr">name</span>=<span class="string">"General Information"</span> <span class="attr">href</span>=<span class="string">"about.html"</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">item</span> <span class="attr">name</span>=<span class="string">"For Maven 1.x Users"</span> <span class="attr">href</span>=<span class="string">"maven1.html"</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">item</span> <span class="attr">name</span>=<span class="string">"Road Map"</span> <span class="attr">href</span>=<span class="string">"roadmap.html"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">menu</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">menu</span> <span class="attr">ref</span>=<span class="string">"reports"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    ...</span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="国际化"><a href="#国际化" class="headerlink" title="国际化"></a>国际化</h2><p>首先，为每种支持的语言添加一个站点描述符和相应的各输出文档类型目录，例如法语的站点描述符：<code>site_fr.xml</code>：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">+- src&#x2F;</span><br><span class="line">   +- site&#x2F;</span><br><span class="line">      +- apt&#x2F;</span><br><span class="line">      |  +- index.apt     (Default version)</span><br><span class="line">      |  &#96;- format.apt</span><br><span class="line">      |- fml</span><br><span class="line">      |   &#96;- faq.fml</span><br><span class="line">      |- xdoc</span><br><span class="line">      |   &#96;- xdoc.xml</span><br><span class="line">      +- fr&#x2F;</span><br><span class="line">      |  +- apt&#x2F;</span><br><span class="line">      |  |  +- index.apt  (French version)</span><br><span class="line">      |  |  &#96;- format.apt</span><br><span class="line">      |  |- fml</span><br><span class="line">      |  |  &#96;- faq.fml</span><br><span class="line">      |  |- xdoc</span><br><span class="line">      |  |  &#96;- xdoc.xml</span><br><span class="line">      |</span><br><span class="line">      +- site.xml         (Default site descriptor)</span><br><span class="line">      +- site_fr.xml      (French site descriptor)</span><br></pre></td></tr></table></figure>

<p>然后，在POM中配置<code>maven-site-plugin</code>以启用支持的语言：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">project</span>&gt;</span></span><br><span class="line">  ...</span><br><span class="line">  <span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-site-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.4<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">locales</span>&gt;</span>en,fr<span class="tag">&lt;/<span class="name">locales</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br><span class="line">  ...</span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>另外，最好使用UTF-8编码来读取源码和呈现站点。在<code>pom.xml</code>中配置如下：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">project.build.sourceEncoding</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">project.build.sourceEncoding</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">project.reporting.outputEncoding</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">project.reporting.outputEncoding</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h2 id="部署站点"><a href="#部署站点" class="headerlink" title="部署站点"></a>部署站点</h2><p>使用<code>mvn site</code>生成站点后，可以通过Maven将站点部署到远程服务器。Maven支持多种协议部署站点，包括：FTP、SCP、DAV。</p>
<h3 id="SCP"><a href="#SCP" class="headerlink" title="SCP"></a>SCP</h3><p><code>pom.xml</code>：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">project</span>&gt;</span></span><br><span class="line">  ...</span><br><span class="line">  <span class="tag">&lt;<span class="name">distributionManagement</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">site</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">id</span>&gt;</span>website<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">url</span>&gt;</span>scp://www.mycompany.com/www/docs/project/<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">site</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">distributionManagement</span>&gt;</span></span><br><span class="line">  ...</span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>在<code>settings.xml</code>中配置认证信息：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">settings</span>&gt;</span></span><br><span class="line">	...</span><br><span class="line">  <span class="tag">&lt;<span class="name">servers</span>&gt;</span></span><br><span class="line">  	<span class="tag">&lt;<span class="name">server</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">id</span>&gt;</span>website<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">passphrase</span>&gt;</span>somepassphrase<span class="tag">&lt;/<span class="name">passphrase</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">privateKey</span>&gt;</span>c:/sshkeys/id_rsa<span class="tag">&lt;/<span class="name">privateKey</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">server</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">servers</span>&gt;</span></span><br><span class="line">  ...</span><br><span class="line"><span class="tag">&lt;/<span class="name">settings</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="DAV"><a href="#DAV" class="headerlink" title="DAV"></a>DAV</h3><p><code>pom.xml</code>：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">project</span>&gt;</span></span><br><span class="line">  ...</span><br><span class="line">  <span class="tag">&lt;<span class="name">distributionManagement</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">site</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">id</span>&gt;</span>website<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">url</span>&gt;</span>dav:https://www.mycompany.com/www/docs/project/<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">site</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">distributionManagement</span>&gt;</span></span><br><span class="line">  ...</span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><code>settings.xml</code>：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">settings</span>&gt;</span></span><br><span class="line">	...</span><br><span class="line">  <span class="tag">&lt;<span class="name">servers</span>&gt;</span></span><br><span class="line">  	<span class="tag">&lt;<span class="name">server</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">id</span>&gt;</span>website<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">username</span>&gt;</span>jo<span class="tag">&lt;/<span class="name">username</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">password</span>&gt;</span>123456<span class="tag">&lt;/<span class="name">password</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">server</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">servers</span>&gt;</span></span><br><span class="line">  ...</span><br><span class="line"><span class="tag">&lt;/<span class="name">settings</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="FTP"><a href="#FTP" class="headerlink" title="FTP"></a>FTP</h3><p>使用FTP协议需要额外配置<code>wagon-ftp</code>扩展组件。</p>
<p><code>pom.xml</code>：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">project</span>&gt;</span></span><br><span class="line">  ...</span><br><span class="line">  <span class="tag">&lt;<span class="name">distributionManagement</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">site</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">id</span>&gt;</span>website<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">url</span>&gt;</span>ftp://www.mycompany.com/www/docs/project/<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">site</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">distributionManagement</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">  	...</span><br><span class="line">    <span class="tag">&lt;<span class="name">extensions</span>&gt;</span></span><br><span class="line">    	<span class="tag">&lt;<span class="name">extension</span>&gt;</span></span><br><span class="line">      	<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.maven.wagon<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>wagon-ftp<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">extension</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">extensions</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br><span class="line">  ...</span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><code>settings.xml</code>：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">settings</span>&gt;</span></span><br><span class="line">	...</span><br><span class="line">  <span class="tag">&lt;<span class="name">servers</span>&gt;</span></span><br><span class="line">  	<span class="tag">&lt;<span class="name">server</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">id</span>&gt;</span>website<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">username</span>&gt;</span>jo<span class="tag">&lt;/<span class="name">username</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">password</span>&gt;</span>123456<span class="tag">&lt;/<span class="name">password</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">server</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">servers</span>&gt;</span></span><br><span class="line">  ...</span><br><span class="line"><span class="tag">&lt;/<span class="name">settings</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="运行部署命令"><a href="#运行部署命令" class="headerlink" title="运行部署命令"></a>运行部署命令</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ mvn site-deploy</span><br></pre></td></tr></table></figure>



<h2 id="常用的报告插件"><a href="#常用的报告插件" class="headerlink" title="常用的报告插件"></a>常用的报告插件</h2><p>maven-project-info-reports-plugin：生成项目站点。</p>
<p>maven-javadoc-plugin：生成Javadoc。</p>
<p>maven-jxr-plugin：在浏览器中浏览项目源代码。</p>
<p>maven-checkstyle-plugin：自动检查Java代码是否遵循编码规范。</p>
<p>maven-pmd-plugin：Java源码分析。</p>
<p>maven-changelog-plugin：基于版本控制系统生成变更报告。</p>
<p>cobertura-maven-plugin：生成测试覆盖率报告。</p>
<h1 id="Maven与测试"><a href="#Maven与测试" class="headerlink" title="Maven与测试"></a>Maven与测试</h1><h2 id="使用Maven执行测试"><a href="#使用Maven执行测试" class="headerlink" title="使用Maven执行测试"></a>使用Maven执行测试</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ mvn <span class="built_in">test</span></span><br></pre></td></tr></table></figure>

<p>Maven实际上是通过<code>maven-surefire-plugin</code>插件（默认绑定到<code>test</code>阶段）来执行JUnit或者TestNG的测试用例的。</p>
<h2 id="跳过测试"><a href="#跳过测试" class="headerlink" title="跳过测试"></a>跳过测试</h2><p>只跳过测试运行：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ mvn package -DskipTests</span><br></pre></td></tr></table></figure>

<p>跳过测试运行，并且也跳过测试代码的编译：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ mvn package -Dmaven.test.skip=<span class="literal">true</span></span><br></pre></td></tr></table></figure>



<h1 id="配置代理"><a href="#配置代理" class="headerlink" title="配置代理"></a>配置代理</h1><p>基于安全因素，有时候需要通过安全认证的代理访问因特网。Maven可以通过在配置文件中添加如下配置，来配置代理：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">proxies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">proxy</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">id</span>&gt;</span>optional<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">active</span>&gt;</span>true<span class="tag">&lt;/<span class="name">active</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">protocol</span>&gt;</span>http<span class="tag">&lt;/<span class="name">protocol</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">username</span>&gt;</span>proxyuser<span class="tag">&lt;/<span class="name">username</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">password</span>&gt;</span>proxypass<span class="tag">&lt;/<span class="name">password</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">host</span>&gt;</span>proxy.host.net<span class="tag">&lt;/<span class="name">host</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">port</span>&gt;</span>80<span class="tag">&lt;/<span class="name">port</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">nonProxyHosts</span>&gt;</span>local.net|some.host.com<span class="tag">&lt;/<span class="name">nonProxyHosts</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">proxy</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">proxies</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><code>nonProxyHosts</code>用来指定哪些主机名不需要代理，可以使用“|”来分隔多个主机名，也可以使用通配符，例如：<code>*.google.com</code>表示所有以<code>google.com</code>结尾的域名。</p>
<p><code>proxies</code>下可以有多个<code>proxy</code>，并且默认情况第一个被激活的（即<code>&lt;active&gt;true&lt;/active&gt;</code>）proxy会生效。</p>

    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/3-5-2/" rel="tag"># 3.5.2</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2018/03/22/Java/" rel="prev" title="Java">
      <i class="fa fa-chevron-left"></i> Java
    </a></div>
      <div class="post-nav-item">
    <a href="/2018/04/13/Docker/" rel="next" title="Docker">
      Docker <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  

  </div>


          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let activeClass = CONFIG.comments.activeClass;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#简介"><span class="nav-number">1.</span> <span class="nav-text">简介</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#安装和配置"><span class="nav-number">2.</span> <span class="nav-text">安装和配置</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#安装"><span class="nav-number">2.1.</span> <span class="nav-text">安装</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#配置"><span class="nav-number">2.2.</span> <span class="nav-text">配置</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#全局配置"><span class="nav-number">2.2.1.</span> <span class="nav-text">全局配置</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#用户级的配置"><span class="nav-number">2.2.2.</span> <span class="nav-text">用户级的配置</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#项目级的配置"><span class="nav-number">2.2.3.</span> <span class="nav-text">项目级的配置</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#入门"><span class="nav-number">3.</span> <span class="nav-text">入门</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#生成项目"><span class="nav-number">3.1.</span> <span class="nav-text">生成项目</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Maven标准项目结构"><span class="nav-number">3.1.1.</span> <span class="nav-text">Maven标准项目结构</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#配置POM"><span class="nav-number">3.2.</span> <span class="nav-text">配置POM</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#编写代码"><span class="nav-number">3.3.</span> <span class="nav-text">编写代码</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#构建项目"><span class="nav-number">3.4.</span> <span class="nav-text">构建项目</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#运行应用"><span class="nav-number">3.5.</span> <span class="nav-text">运行应用</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#生成项目站点"><span class="nav-number">3.6.</span> <span class="nav-text">生成项目站点</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#项目对象模型（POM）"><span class="nav-number">4.</span> <span class="nav-text">项目对象模型（POM）</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#POM的结构"><span class="nav-number">4.1.</span> <span class="nav-text">POM的结构</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Super-POM"><span class="nav-number">4.2.</span> <span class="nav-text">Super POM</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#最小的POM"><span class="nav-number">4.3.</span> <span class="nav-text">最小的POM</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Maven坐标"><span class="nav-number">4.4.</span> <span class="nav-text">Maven坐标</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#查看生效的POM"><span class="nav-number">4.5.</span> <span class="nav-text">查看生效的POM</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#项目依赖"><span class="nav-number">5.</span> <span class="nav-text">项目依赖</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#配置依赖"><span class="nav-number">5.1.</span> <span class="nav-text">配置依赖</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#依赖范围"><span class="nav-number">5.2.</span> <span class="nav-text">依赖范围</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#依赖调解"><span class="nav-number">5.3.</span> <span class="nav-text">依赖调解</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#可选依赖"><span class="nav-number">5.4.</span> <span class="nav-text">可选依赖</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#排除依赖"><span class="nav-number">5.5.</span> <span class="nav-text">排除依赖</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#依赖管理"><span class="nav-number">5.6.</span> <span class="nav-text">依赖管理</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#导入依赖"><span class="nav-number">5.7.</span> <span class="nav-text">导入依赖</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#查看当前项目的依赖信息："><span class="nav-number">5.8.</span> <span class="nav-text">查看当前项目的依赖信息：</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#构建项目-1"><span class="nav-number">6.</span> <span class="nav-text">构建项目</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#构建生命周期"><span class="nav-number">6.1.</span> <span class="nav-text">构建生命周期</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Clean生命周期"><span class="nav-number">6.1.1.</span> <span class="nav-text">Clean生命周期</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#默认生命周期"><span class="nav-number">6.1.2.</span> <span class="nav-text">默认生命周期</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Site生命周期"><span class="nav-number">6.1.3.</span> <span class="nav-text">Site生命周期</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#内置的生命周期绑定"><span class="nav-number">6.1.4.</span> <span class="nav-text">内置的生命周期绑定</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Clean生命周期绑定"><span class="nav-number">6.1.4.1.</span> <span class="nav-text">Clean生命周期绑定</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#packaging是ejb、ejb3、jar、par、rar、war的默认生命周期绑定"><span class="nav-number">6.1.4.2.</span> <span class="nav-text">packaging是ejb、ejb3、jar、par、rar、war的默认生命周期绑定</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#packaging是ear的默认生命周期绑定"><span class="nav-number">6.1.4.3.</span> <span class="nav-text">packaging是ear的默认生命周期绑定</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#packaging是maven-plugin的默认生命周期绑定"><span class="nav-number">6.1.4.4.</span> <span class="nav-text">packaging是maven-plugin的默认生命周期绑定</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#packaging是pom的默认生命周期绑定"><span class="nav-number">6.1.4.5.</span> <span class="nav-text">packaging是pom的默认生命周期绑定</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Site生命周期绑定"><span class="nav-number">6.1.4.6.</span> <span class="nav-text">Site生命周期绑定</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#自定义的生命周期绑定"><span class="nav-number">6.1.5.</span> <span class="nav-text">自定义的生命周期绑定</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#打包方式"><span class="nav-number">6.2.</span> <span class="nav-text">打包方式</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#离线构建"><span class="nav-number">6.3.</span> <span class="nav-text">离线构建</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#插件"><span class="nav-number">7.</span> <span class="nav-text">插件</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#插件目标"><span class="nav-number">7.1.</span> <span class="nav-text">插件目标</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#配置插件"><span class="nav-number">7.2.</span> <span class="nav-text">配置插件</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#配置参数"><span class="nav-number">7.2.1.</span> <span class="nav-text">配置参数</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#配置基本类型参数"><span class="nav-number">7.2.1.1.</span> <span class="nav-text">配置基本类型参数</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#配置枚举类型参数"><span class="nav-number">7.2.1.2.</span> <span class="nav-text">配置枚举类型参数</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#配置对象参数"><span class="nav-number">7.2.1.3.</span> <span class="nav-text">配置对象参数</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#配置List参数"><span class="nav-number">7.2.1.4.</span> <span class="nav-text">配置List参数</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#配置映射参数"><span class="nav-number">7.2.1.5.</span> <span class="nav-text">配置映射参数</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#配置Properties参数"><span class="nav-number">7.2.1.6.</span> <span class="nav-text">配置Properties参数</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#构建插件专用配置"><span class="nav-number">7.2.2.</span> <span class="nav-text">构建插件专用配置</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#使用-lt-executions-gt-标签"><span class="nav-number">7.2.2.1.</span> <span class="nav-text">使用&lt;executions&gt;标签</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#直接执行Execution"><span class="nav-number">7.2.2.1.1.</span> <span class="nav-text">直接执行Execution</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#使用-lt-dependencies-gt-标签"><span class="nav-number">7.2.2.2.</span> <span class="nav-text">使用&lt;dependencies&gt;标签</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#使用-lt-inherited-gt-标签"><span class="nav-number">7.2.2.3.</span> <span class="nav-text">使用&lt;inherited&gt;标签</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#报告插件专用配置"><span class="nav-number">7.2.3.</span> <span class="nav-text">报告插件专用配置</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#使用-lt-reportSets-gt-有选择地生成报告内容"><span class="nav-number">7.2.3.0.1.</span> <span class="nav-text">使用&lt;reportSets&gt;有选择地生成报告内容</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#使用-lt-inherited-gt-标签-1"><span class="nav-number">7.2.3.1.</span> <span class="nav-text">使用&lt;inherited&gt;标签</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#插件前缀解析机制"><span class="nav-number">7.3.</span> <span class="nav-text">插件前缀解析机制</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#默认插件前缀"><span class="nav-number">7.3.1.</span> <span class="nav-text">默认插件前缀</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#通过maven-plugin-plugin指定插件前缀"><span class="nav-number">7.3.2.</span> <span class="nav-text">通过maven-plugin-plugin指定插件前缀</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#通过Maven元数据来配置插件前缀"><span class="nav-number">7.3.3.</span> <span class="nav-text">通过Maven元数据来配置插件前缀</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#配置插件查找的位置"><span class="nav-number">7.3.4.</span> <span class="nav-text">配置插件查找的位置</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#获取插件帮助信息"><span class="nav-number">7.4.</span> <span class="nav-text">获取插件帮助信息</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#通过在线文档"><span class="nav-number">7.4.1.</span> <span class="nav-text">通过在线文档</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#通过maven-help-plugin插件"><span class="nav-number">7.4.2.</span> <span class="nav-text">通过maven-help-plugin插件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#通过插件目标help"><span class="nav-number">7.4.3.</span> <span class="nav-text">通过插件目标help</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#插件管理"><span class="nav-number">7.5.</span> <span class="nav-text">插件管理</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#开发插件"><span class="nav-number">7.6.</span> <span class="nav-text">开发插件</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#生成插件项目"><span class="nav-number">7.6.1.</span> <span class="nav-text">生成插件项目</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#插件项目的POM"><span class="nav-number">7.6.2.</span> <span class="nav-text">插件项目的POM</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#构建插件POM"><span class="nav-number">7.6.2.1.</span> <span class="nav-text">构建插件POM</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#报告插件POM"><span class="nav-number">7.6.2.2.</span> <span class="nav-text">报告插件POM</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#编写Mojo"><span class="nav-number">7.6.3.</span> <span class="nav-text">编写Mojo</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#编写构建Mojo"><span class="nav-number">7.6.3.1.</span> <span class="nav-text">编写构建Mojo</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#编写报告Mojo"><span class="nav-number">7.6.3.2.</span> <span class="nav-text">编写报告Mojo</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Mojo-Javadoc注解"><span class="nav-number">7.6.3.3.</span> <span class="nav-text">Mojo Javadoc注解</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Mojo-Java注解"><span class="nav-number">7.6.3.4.</span> <span class="nav-text">Mojo Java注解</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#使用插件"><span class="nav-number">7.6.4.</span> <span class="nav-text">使用插件</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Maven仓库"><span class="nav-number">8.</span> <span class="nav-text">Maven仓库</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#本地仓库"><span class="nav-number">8.1.</span> <span class="nav-text">本地仓库</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#配置本地仓库"><span class="nav-number">8.1.1.</span> <span class="nav-text">配置本地仓库</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#安装JARs到本地仓库"><span class="nav-number">8.1.2.</span> <span class="nav-text">安装JARs到本地仓库</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#远程仓库"><span class="nav-number">8.2.</span> <span class="nav-text">远程仓库</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#中央仓库"><span class="nav-number">8.2.1.</span> <span class="nav-text">中央仓库</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#其他远程仓库"><span class="nav-number">8.2.2.</span> <span class="nav-text">其他远程仓库</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#使用镜像仓库"><span class="nav-number">8.2.3.</span> <span class="nav-text">使用镜像仓库</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#搭建自己的私有仓库"><span class="nav-number">8.2.4.</span> <span class="nav-text">搭建自己的私有仓库</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#安装Nexus"><span class="nav-number">8.2.4.1.</span> <span class="nav-text">安装Nexus</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#配置仓库"><span class="nav-number">8.2.4.2.</span> <span class="nav-text">配置仓库</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#使用私有仓库"><span class="nav-number">8.2.4.3.</span> <span class="nav-text">使用私有仓库</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#部署JARs到远程仓库"><span class="nav-number">8.2.5.</span> <span class="nav-text">部署JARs到远程仓库</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#属性和插值"><span class="nav-number">9.</span> <span class="nav-text">属性和插值</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#资源"><span class="nav-number">10.</span> <span class="nav-text">资源</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#资源过滤"><span class="nav-number">10.1.</span> <span class="nav-text">资源过滤</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#引用pom-xml和settings-xml的单值元素"><span class="nav-number">10.1.1.</span> <span class="nav-text">引用pom.xml和settings.xml的单值元素</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#引用外部属性文件中定义的属性"><span class="nav-number">10.1.2.</span> <span class="nav-text">引用外部属性文件中定义的属性</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#引用pom-xml的properties中定义的属性"><span class="nav-number">10.1.3.</span> <span class="nav-text">引用pom.xml的properties中定义的属性</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#引用系统属性"><span class="nav-number">10.1.4.</span> <span class="nav-text">引用系统属性</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Web资源过滤"><span class="nav-number">10.2.</span> <span class="nav-text">Web资源过滤</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#自定义Web资源的输出路径"><span class="nav-number">10.2.1.</span> <span class="nav-text">自定义Web资源的输出路径</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Profile"><span class="nav-number">11.</span> <span class="nav-text">Profile</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Profile的层次"><span class="nav-number">11.1.</span> <span class="nav-text">Profile的层次</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#启用-禁用Profile"><span class="nav-number">11.2.</span> <span class="nav-text">启用&#x2F;禁用Profile</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#使用命令行启用Profile"><span class="nav-number">11.2.1.</span> <span class="nav-text">使用命令行启用Profile</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#使用Maven配置启用Profile"><span class="nav-number">11.2.2.</span> <span class="nav-text">使用Maven配置启用Profile</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#根据指定的构建环境自动启用"><span class="nav-number">11.2.3.</span> <span class="nav-text">根据指定的构建环境自动启用</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#基于JDK版本号"><span class="nav-number">11.2.3.1.</span> <span class="nav-text">基于JDK版本号</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#基于操作系统配置"><span class="nav-number">11.2.3.2.</span> <span class="nav-text">基于操作系统配置</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#基于系统属性"><span class="nav-number">11.2.3.3.</span> <span class="nav-text">基于系统属性</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#基于已启用的Profiles的-lt-properties-gt-配置的属性"><span class="nav-number">11.2.3.4.</span> <span class="nav-text">基于已启用的Profiles的&lt;properties&gt;配置的属性</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#基于环境变量"><span class="nav-number">11.2.3.5.</span> <span class="nav-text">基于环境变量</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#基于某个文件是否存在"><span class="nav-number">11.2.3.6.</span> <span class="nav-text">基于某个文件是否存在</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#默认启用"><span class="nav-number">11.2.4.</span> <span class="nav-text">默认启用</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#禁用Profile"><span class="nav-number">11.2.5.</span> <span class="nav-text">禁用Profile</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#查看当前已启用的Profile"><span class="nav-number">11.2.6.</span> <span class="nav-text">查看当前已启用的Profile</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#多模块项目"><span class="nav-number">12.</span> <span class="nav-text">多模块项目</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#项目继承"><span class="nav-number">12.1.</span> <span class="nav-text">项目继承</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#嵌套式"><span class="nav-number">12.1.1.</span> <span class="nav-text">嵌套式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#扁平式"><span class="nav-number">12.1.2.</span> <span class="nav-text">扁平式</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#项目聚合"><span class="nav-number">12.2.</span> <span class="nav-text">项目聚合</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#嵌套式-1"><span class="nav-number">12.2.1.</span> <span class="nav-text">嵌套式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#扁平式-1"><span class="nav-number">12.2.2.</span> <span class="nav-text">扁平式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#聚合项目的构建"><span class="nav-number">12.2.3.</span> <span class="nav-text">聚合项目的构建</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#继承和聚合的关系"><span class="nav-number">12.3.</span> <span class="nav-text">继承和聚合的关系</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Archetype"><span class="nav-number">13.</span> <span class="nav-text">Archetype</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#开发Archetype"><span class="nav-number">13.1.</span> <span class="nav-text">开发Archetype</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#创建一个Archetype项目"><span class="nav-number">13.1.1.</span> <span class="nav-text">创建一个Archetype项目</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#创建Archetype描述符"><span class="nav-number">13.1.2.</span> <span class="nav-text">创建Archetype描述符</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#创建原型的文件和pom-xml"><span class="nav-number">13.1.3.</span> <span class="nav-text">创建原型的文件和pom.xml</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Archetype的项目结构"><span class="nav-number">13.1.4.</span> <span class="nav-text">Archetype的项目结构</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#构建和部署Archetype"><span class="nav-number">13.1.5.</span> <span class="nav-text">构建和部署Archetype</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#使用Archetype生成项目原型"><span class="nav-number">13.1.6.</span> <span class="nav-text">使用Archetype生成项目原型</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Archetype描述符"><span class="nav-number">13.2.</span> <span class="nav-text">Archetype描述符</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Archetype-Catalog"><span class="nav-number">13.3.</span> <span class="nav-text">Archetype Catalog</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#从本地仓库生成Archetype-Catalog"><span class="nav-number">13.3.1.</span> <span class="nav-text">从本地仓库生成Archetype Catalog</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#为Nexus私有仓库实时生成Archetype-Catalog"><span class="nav-number">13.3.2.</span> <span class="nav-text">为Nexus私有仓库实时生成Archetype Catalog</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#常用Archetype"><span class="nav-number">13.4.</span> <span class="nav-text">常用Archetype</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#版本管理"><span class="nav-number">14.</span> <span class="nav-text">版本管理</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#什么是SNAPSHOT版本"><span class="nav-number">14.1.</span> <span class="nav-text">什么是SNAPSHOT版本</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#自动化版本管理"><span class="nav-number">14.2.</span> <span class="nav-text">自动化版本管理</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#项目站点"><span class="nav-number">15.</span> <span class="nav-text">项目站点</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#自定义站点外观"><span class="nav-number">15.1.</span> <span class="nav-text">自定义站点外观</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#站点描述符"><span class="nav-number">15.2.</span> <span class="nav-text">站点描述符</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#国际化"><span class="nav-number">15.3.</span> <span class="nav-text">国际化</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#部署站点"><span class="nav-number">15.4.</span> <span class="nav-text">部署站点</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#SCP"><span class="nav-number">15.4.1.</span> <span class="nav-text">SCP</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#DAV"><span class="nav-number">15.4.2.</span> <span class="nav-text">DAV</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#FTP"><span class="nav-number">15.4.3.</span> <span class="nav-text">FTP</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#运行部署命令"><span class="nav-number">15.4.4.</span> <span class="nav-text">运行部署命令</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#常用的报告插件"><span class="nav-number">15.5.</span> <span class="nav-text">常用的报告插件</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Maven与测试"><span class="nav-number">16.</span> <span class="nav-text">Maven与测试</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#使用Maven执行测试"><span class="nav-number">16.1.</span> <span class="nav-text">使用Maven执行测试</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#跳过测试"><span class="nav-number">16.2.</span> <span class="nav-text">跳过测试</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#配置代理"><span class="nav-number">17.</span> <span class="nav-text">配置代理</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">周千涵</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">31</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">16</span>
        <span class="site-state-item-name">tags</span>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="mailto:supremeadministrator@supercalifragilisticexpialidociouser.com" title="E-Mail → mailto:supremeadministrator@supercalifragilisticexpialidociouser.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">周千涵</span>
</div>

        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="Total Visitors">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="Total Views">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
