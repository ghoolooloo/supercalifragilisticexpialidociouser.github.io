<!DOCTYPE html>
<html lang="zh-Hans">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">


<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    hostname: new URL('https://blog.supercalifragilisticexpialidociouser.com').hostname,
    root: '/',
    scheme: 'Mist',
    version: '7.7.0',
    exturl: false,
    sidebar: {"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},
    copycode: {"enable":false,"show_result":false,"style":null},
    back2top: {"enable":true,"sidebar":false,"scrollpercent":false},
    bookmark: {"enable":false,"color":"#222","save":"auto"},
    fancybox: false,
    mediumzoom: false,
    lazyload: false,
    pangu: false,
    comments: {"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},
    algolia: {
      appID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},
    path: '',
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}
  };
</script>

  <meta name="description" content="简介">
<meta property="og:type" content="article">
<meta property="og:title" content="Python">
<meta property="og:url" content="https://blog.supercalifragilisticexpialidociouser.com/2018/09/15/Python/index.html">
<meta property="og:site_name" content="人见人爱，花见花开，车见爆胎">
<meta property="og:description" content="简介">
<meta property="article:published_time" content="2018-09-15T04:15:06.000Z">
<meta property="article:modified_time" content="2020-05-09T15:25:50.006Z">
<meta property="article:author" content="周千涵">
<meta property="article:tag" content="3.7.0">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://blog.supercalifragilisticexpialidociouser.com/2018/09/15/Python/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: false,
    isPost: true
  };
</script>

  <title>Python | 人见人爱，花见花开，车见爆胎</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">人见人爱，花见花开，车见爆胎</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
        <p class="site-subtitle">一个程序猿的笔记</p>
  </div>

  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>Home</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>Archives</a>

  </li>
  </ul>

</nav>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block " lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="https://blog.supercalifragilisticexpialidociouser.com/2018/09/15/Python/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="周千涵">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="人见人爱，花见花开，车见爆胎">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Python
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2018-09-15 12:15:06" itemprop="dateCreated datePublished" datetime="2018-09-15T12:15:06+08:00">2018-09-15</time>
            </span>

          
            <span class="post-meta-item" title="Views" id="busuanzi_container_page_pv" style="display: none;">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">Views: </span>
              <span id="busuanzi_value_page_pv"></span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h1 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h1><a id="more"></a>

<h1 id="开发环境"><a href="#开发环境" class="headerlink" title="开发环境"></a>开发环境</h1><h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><h3 id="IDE"><a href="#IDE" class="headerlink" title="IDE"></a>IDE</h3><p><a href="http://www.jetbrains.com/pycharm/" target="_blank" rel="noopener">PyCharm</a></p>
<h2 id="交互模式"><a href="#交互模式" class="headerlink" title="交互模式"></a>交互模式</h2><p>安装完Python后，执行命令<code>python</code>将进入交互式环境。如果同时安装了版本2和3的Python，则命令<code>python</code>通常是指Python 3，另外还有命令<code>python2</code>和<code>python3</code>。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ python</span><br><span class="line">&gt;&gt;&gt; <span class="built_in">print</span>(<span class="string">"Hello, world!"</span>)</span><br></pre></td></tr></table></figure>

<p>退出交互式环境使用函数<code>quit()</code>或快捷键<code>Ctrl-D</code>。</p>
<p>另外，官网上也提供了一个在线的交互式环境：<a href="https://www.python.org/shell/" target="_blank" rel="noopener">https://www.python.org/shell/</a></p>
<h3 id="获取帮助"><a href="#获取帮助" class="headerlink" title="获取帮助"></a>获取帮助</h3><p>如果你需要有关 Python 中任何函数或语句的快速信息，那么你可以使用内置的 <code>help()</code> 函数。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>help(<span class="string">'return'</span>)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>提示：按下 <code>q</code> 退出帮助。</p>
</blockquote>
<h2 id="解释模式"><a href="#解释模式" class="headerlink" title="解释模式"></a>解释模式</h2><h3 id="直接运行脚本"><a href="#直接运行脚本" class="headerlink" title="直接运行脚本"></a>直接运行脚本</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ python hello.py</span><br></pre></td></tr></table></figure>

<p>还可以给运行的脚本传递参数：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ python foo.py arg1 arg2</span><br></pre></td></tr></table></figure>

<blockquote>
<p>在脚本<code>foo.py</code>中，可以通过<code>sys.argv[N]</code>来获取命令行传递进来的参数。<code>sys.argv</code>的值 是<code>[&#39;foo.py&#39;, &#39;arg1&#39;, &#39;arg2&#39;]</code>。</p>
</blockquote>
<h3 id="shebang方式运行脚本"><a href="#shebang方式运行脚本" class="headerlink" title="shebang方式运行脚本"></a>shebang方式运行脚本</h3><p>首先，要在<code>hello.py</code>的第一行添加<code>#!/usr/bin/env python</code>。</p>
<p>然后，赋予脚本可执行的权限：<code>chmod a+x hello.py</code>。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ./hello.py</span><br></pre></td></tr></table></figure>

<h3 id="直接运行代码"><a href="#直接运行代码" class="headerlink" title="直接运行代码"></a>直接运行代码</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ python -c <span class="string">"import sys; print('hello'); print(sys.argv)"</span> 123</span><br><span class="line">hello</span><br><span class="line">[<span class="string">'-c'</span>, <span class="string">'123'</span>]</span><br></pre></td></tr></table></figure>

<h2 id="编译模式"><a href="#编译模式" class="headerlink" title="编译模式"></a>编译模式</h2><h2 id="调试模式"><a href="#调试模式" class="headerlink" title="调试模式"></a>调试模式</h2><h1 id="程序结构"><a href="#程序结构" class="headerlink" title="程序结构"></a>程序结构</h1><h2 id="第一个程序"><a href="#第一个程序" class="headerlink" title="第一个程序"></a>第一个程序</h2><p>hello.py：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">"Hello world!"</span>)</span><br></pre></td></tr></table></figure>

<h2 id="源文件"><a href="#源文件" class="headerlink" title="源文件"></a>源文件</h2><p>Python程序的源代码保存在扩展名是<code>.py</code>的源文件中。</p>
<h2 id="编码"><a href="#编码" class="headerlink" title="编码"></a>编码</h2><p>Python 2默认采用US-ASCII字符集，Python 3默认采用UTF-8字符集。</p>
<p>如果源文件要使用其他编码，可使用特殊的注释来指定：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding: latin-1 -*-</span></span><br></pre></td></tr></table></figure>

<h3 id="转义序列"><a href="#转义序列" class="headerlink" title="转义序列"></a>转义序列</h3><h2 id="保留字"><a href="#保留字" class="headerlink" title="保留字"></a>保留字</h2><h2 id="注释"><a href="#注释" class="headerlink" title="注释"></a>注释</h2><table>
<thead>
<tr>
<th>注释</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><code># …</code></td>
<td>单行注释。可嵌套。</td>
</tr>
<tr>
<td><code>&#39;&#39;&#39; … &#39;&#39;&#39;</code> 或 <code>&quot;&quot;&quot; … &quot;&quot;&quot;</code></td>
<td>块注释。可跨多行，但不可以嵌套。（块注释实际上是Python中的长字符串）</td>
</tr>
</tbody></table>
<h3 id="文档字符串"><a href="#文档字符串" class="headerlink" title="文档字符串"></a>文档字符串</h3><p>Python实际上是没有块注释的，上面的块注释实际上是文档字符串（Docstring），它可以出现在<code>def</code>语句之后、模块和类的开头。并且任何种类字符串都可以作为文档字符串，而不仅仅是长字符串。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">square</span><span class="params">(x)</span>:</span></span><br><span class="line">  <span class="string">'Calculates the square of the number x.'</span></span><br><span class="line">  <span class="keyword">return</span> x * x</span><br></pre></td></tr></table></figure>

<p>可以象下面这样访问文档字符串：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>square.__doc__</span><br><span class="line"><span class="string">'Calculates the square of the number x.'</span></span><br></pre></td></tr></table></figure>

<p>另外，使用<code>help</code>函数获取帮助时，也包含了函数的文档字符串：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>help(square)</span><br><span class="line">Help on function square <span class="keyword">in</span> module __main__:</span><br><span class="line">  </span><br><span class="line">square(x)</span><br><span class="line">Calculates the square of the number x.</span><br></pre></td></tr></table></figure>

<h2 id="程序入口"><a href="#程序入口" class="headerlink" title="程序入口"></a>程序入口</h2><h2 id="编码规范"><a href="#编码规范" class="headerlink" title="编码规范"></a>编码规范</h2><h1 id="基本类型"><a href="#基本类型" class="headerlink" title="基本类型"></a>基本类型</h1><h2 id="数值类型"><a href="#数值类型" class="headerlink" title="数值类型"></a>数值类型</h2><h3 id="整数类型"><a href="#整数类型" class="headerlink" title="整数类型"></a>整数类型</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">81</span>    <span class="comment">#十进制整数</span></span><br><span class="line"><span class="number">0xAF</span>  <span class="comment">#十六进制整数</span></span><br><span class="line"><span class="number">0o17</span>  <span class="comment">#八进制整数</span></span><br><span class="line"><span class="number">0b1011</span> <span class="comment">#二进制整数</span></span><br></pre></td></tr></table></figure>

<p>Python的整数类型是：<code>int</code>。</p>
<h3 id="浮点类型"><a href="#浮点类型" class="headerlink" title="浮点类型"></a>浮点类型</h3><p>Python的浮点类型是：<code>float</code>。</p>
<h3 id="复数类型"><a href="#复数类型" class="headerlink" title="复数类型"></a>复数类型</h3><p>Python本身提供了对复数的支持，复数类型是<code>complex</code>。</p>
<p>虚数都以<code>j</code>或<code>J</code>结尾。</p>
<p>Python没有专门的虚数类型，虚数可视为实部为0的复数。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>(<span class="number">1</span> + <span class="number">3j</span>) * (<span class="number">9</span> + <span class="number">4j</span>)</span><br><span class="line">(<span class="number">-3</span> + <span class="number">31j</span>)</span><br></pre></td></tr></table></figure>

<p>另外通过<code>cmath</code>标准库专门用于处理复数：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> cmath</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>cmath.sqrt(<span class="number">-1</span>)    <span class="comment">#注意：math.sqrt()不能用于负数</span></span><br><span class="line"><span class="number">1j</span></span><br></pre></td></tr></table></figure>

<h2 id="字符类型"><a href="#字符类型" class="headerlink" title="字符类型"></a>字符类型</h2><p>Python没有专门用于表示字符的类型，一个字符就是只包含一个元素的字符串。</p>
<p>获取字符的码点：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>ord(<span class="string">'π'</span>)</span><br><span class="line"><span class="number">960</span></span><br></pre></td></tr></table></figure>

<p>根据码点得到相应字符：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>chr(<span class="number">960</span>)</span><br><span class="line"><span class="string">'π'</span></span><br></pre></td></tr></table></figure>

<h2 id="布尔类型"><a href="#布尔类型" class="headerlink" title="布尔类型"></a>布尔类型</h2><p>布尔类型<code>bool</code>它有两个值：<code>True</code>和<code>False</code>。</p>
<p>在Python中，下列值将被视为假：</p>
<p><code>False</code>、<code>None</code>、<code>0</code>、<code>&quot;&quot;</code>、<code>()</code>、<code>[]</code>、<code>{}</code></p>
<p>除此之外的值都将被视为真。</p>
<h2 id="空类型"><a href="#空类型" class="headerlink" title="空类型"></a>空类型</h2><p>类<code>NoneType</code>表示空类型，它只有一个值<code>None</code>，表示什么都没有。</p>
<h2 id="获取类型信息"><a href="#获取类型信息" class="headerlink" title="获取类型信息"></a>获取类型信息</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>type(<span class="number">3.14</span>)</span><br><span class="line">&lt;<span class="class"><span class="keyword">class</span> '<span class="title">float</span>'&gt;</span></span><br></pre></td></tr></table></figure>

<h1 id="声明"><a href="#声明" class="headerlink" title="声明"></a>声明</h1><p>通常，Python变量不需要声明，首次给变量赋值，就相当于是声明。</p>
<p>Python变量实际上是没有类型的，而对象是有类型：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = <span class="number">1</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = <span class="string">'ok'</span></span><br></pre></td></tr></table></figure>

<p>在函数内部给变量赋值时，该变量默认为局部变量，除非你明确地（通过<code>global</code>语句）告诉Python它是全局变量：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>x = <span class="number">1</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="function"><span class="keyword">def</span> <span class="title">change_global</span><span class="params">()</span>:</span></span><br><span class="line"><span class="meta">... </span>  <span class="keyword">global</span> x</span><br><span class="line"><span class="meta">... </span>  x = x + <span class="number">1</span></span><br><span class="line">...</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>change_global()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>x</span><br><span class="line"><span class="number">2</span></span><br></pre></td></tr></table></figure>

<p>同样道理，内嵌函数如果要修改外围函数中的变量，也需要使用<code>nonlocal</code>语句来标记它。否则，将当成是内嵌函数作用域中的变量：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">makeinc</span><span class="params">()</span>:</span></span><br><span class="line">  count = <span class="number">1</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">inc</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">nonlocal</span> count</span><br><span class="line">    count += <span class="number">1</span>  <span class="comment">#这个count是在makeinc中声明的count</span></span><br><span class="line">  <span class="keyword">return</span> inc</span><br></pre></td></tr></table></figure>

<h1 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h1><p>字符串也是不可修改的序列（<code>bytearray</code>例外）。</p>
<p>字符串的类型是<code>str</code>。</p>
<h2 id="字符串字面量"><a href="#字符串字面量" class="headerlink" title="字符串字面量"></a>字符串字面量</h2><h3 id="常规字符串"><a href="#常规字符串" class="headerlink" title="常规字符串"></a>常规字符串</h3><p>Python的常规字符串使用单引号或双引号括起来。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"Let's go!"</span></span><br><span class="line"><span class="string">'"Hello world!" she said'</span></span><br></pre></td></tr></table></figure>

<h3 id="长字符串"><a href="#长字符串" class="headerlink" title="长字符串"></a>长字符串</h3><p>长字符串可以跨越多行，并且可以包含单引号和双引号，而无需转义：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">''''Hello world!'</span></span><br><span class="line"><span class="string">she said'''</span></span><br><span class="line">或者</span><br><span class="line"><span class="string">""""Hello world"</span></span><br><span class="line"><span class="string">she said"""</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>其实常规字符串也可以跨多行，只要在行尾加上反斜杠，这样反斜杠和换行符将被转义，即被忽略：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"Hello, \</span></span><br><span class="line"><span class="string">world!"</span></span><br></pre></td></tr></table></figure>
</blockquote>
<h3 id="原始字符串"><a href="#原始字符串" class="headerlink" title="原始字符串"></a>原始字符串</h3><p>原始字符串以<code>r</code>为前缀，它不处理转义序列：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">r'C:\nowhere\foo\bar'</span></span><br><span class="line"><span class="string">r"C:\nowhere\foo\bar"</span></span><br><span class="line"></span><br><span class="line"><span class="string">r'''C:\nowhere</span></span><br><span class="line"><span class="string">\foo\bar'''</span></span><br><span class="line"></span><br><span class="line"><span class="string">r"""C:\nowhere</span></span><br><span class="line"><span class="string">\foo\bar"""</span></span><br></pre></td></tr></table></figure>

<p>一个例外是，原始字符串中的引号需要转义，并且执行转义的反斜杠也将包含在最终的字符串中：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(<span class="string">r'Let\'s go!'</span>)</span><br><span class="line">Let\<span class="string">'s go!</span></span><br></pre></td></tr></table></figure>

<p>另外，原始字符串的最后一个字符不能是反斜杠，除非对其进行转义。如果确实需要以反斜杠结尾，建议将反斜杠单独作为一个字符串：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(<span class="string">r'C:\Program Files\foo\bar'</span> <span class="string">'\\'</span>)</span><br><span class="line">C:\Program Files\foo\bar\</span><br></pre></td></tr></table></figure>

<h3 id="bytes"><a href="#bytes" class="headerlink" title="bytes"></a>bytes</h3><p><code>bytes</code>是一个不可变的字节串：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">b'Hello world!'</span></span><br><span class="line"><span class="string">b"Hello world!"</span></span><br><span class="line"></span><br><span class="line"><span class="string">b'''Hello</span></span><br><span class="line"><span class="string">world!'''</span></span><br><span class="line"></span><br><span class="line"><span class="string">b"""Hello</span></span><br><span class="line"><span class="string">world!"""</span></span><br></pre></td></tr></table></figure>

<p>将字符串编码为<code>bytes</code>：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">"Hello, world!"</span>.encode()     <span class="comment">#默认使用UTF-8编码</span></span><br><span class="line"><span class="string">b'Hello, world!'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">"Hello, world!"</span>.encode(<span class="string">"UTF-32"</span>)</span><br><span class="line"><span class="string">b'xff\xfe\x00\x00H'</span>\x00\x00\x00e\x00\x00\x00l\x00\x00\x00l\x00\x00\x00o\x00\x00\x00,\x00\x00\x00 \x00\x00\x00w\x00\x00\x00o\x00\x00\x00r\x00\x00\x00l\x00\x00\x00d\x00\x00\x00!\x00\x00\x00<span class="string">'</span></span><br></pre></td></tr></table></figure>

<h3 id="bytearray"><a href="#bytearray" class="headerlink" title="bytearray"></a>bytearray</h3><p><code>bytearray</code>是<code>bytes</code>的可变版本。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>x = bytearray(<span class="string">b"Hello!"</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>x[<span class="number">1</span>] = ord(<span class="string">b"u"</span>)    <span class="comment">#必须使用要插入的字符的序数值（0~255）</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>x</span><br><span class="line">bytearray(<span class="string">b'Hullo!'</span>)</span><br></pre></td></tr></table></figure>



<h2 id="构造字符串"><a href="#构造字符串" class="headerlink" title="构造字符串"></a>构造字符串</h2><p>类<code>str</code>和函数<code>repr</code>可以构造常规字符串：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>repr(<span class="string">"Hello, \nworld!"</span>)</span><br><span class="line"><span class="string">"'Hello, \\nworld'"</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>str(<span class="string">"Hello, \nworld"</span>)</span><br><span class="line"><span class="string">'Hello, \nworld'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>str(<span class="string">b"Hello world!"</span>, encoding=<span class="string">"utf-8"</span>)</span><br><span class="line"><span class="string">'Hello world!'</span></span><br></pre></td></tr></table></figure>

<p>构造<code>bytes</code>：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>bytes(<span class="string">"Hello world!"</span>, encoding=<span class="string">"utf-8"</span>)</span><br><span class="line"><span class="string">b'Hello world!'</span></span><br></pre></td></tr></table></figure>

<h2 id="使用字符串"><a href="#使用字符串" class="headerlink" title="使用字符串"></a>使用字符串</h2><h3 id="拼接"><a href="#拼接" class="headerlink" title="拼接"></a>拼接</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">s1 = <span class="string">"Hello "</span> + <span class="string">"world!"</span></span><br><span class="line">s2 = <span class="string">"Hello "</span> <span class="string">'world!'</span>  <span class="comment">#连接输入两个字符串字面量，将会自动拼接成一个字符串</span></span><br></pre></td></tr></table></figure>

<h3 id="格式化"><a href="#格式化" class="headerlink" title="格式化"></a>格式化</h3><p>Python字符串格式设置方法主要有：格式字符串、模板字符串、format方法。</p>
<h4 id="格式字符串"><a href="#格式字符串" class="headerlink" title="格式字符串"></a>格式字符串</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>format = <span class="string">'Hello, %s. %s enough for ya?'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>values = (<span class="string">'world'</span>, <span class="string">'Hot'</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>format % values</span><br><span class="line"><span class="string">'Hello, world. Hot enough for ya?'</span></span><br></pre></td></tr></table></figure>

<p>格式字符串中的<code>%s</code>称为转换说明符，类似C语言的<code>printf</code>函数。</p>
<p><code>%</code>运算符是字符串格式设置运算符，它的左操作数是格式字符串，右操作数是要设置格式的值。</p>
<h4 id="模板字符串"><a href="#模板字符串" class="headerlink" title="模板字符串"></a>模板字符串</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> string <span class="keyword">import</span> Template</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>tmpl = Template(<span class="string">"Hello, $who! $what enough for ya?"</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>tmpl.substitute(who=<span class="string">"Mars"</span>, what=<span class="string">"Dusty"</span>)</span><br><span class="line"><span class="string">'Hello, Mars! Dusty enough for ya?'</span></span><br></pre></td></tr></table></figure>

<h4 id="format方法"><a href="#format方法" class="headerlink" title="format方法"></a>format方法</h4><p><code>format</code>方法可以将字符串中的插值（Interpolation）替换成方法的参数。</p>
<p>插值用花括号括起来。如果要在最终结果中包含花括号字符，则使用两个花括号进行转义（即<code></code>）。</p>
<p>插值由三部分组成，其中每个部分都是可选的：</p>
<ul>
<li><p>字段名：索引或标识符。</p>
</li>
<li><p>转换标志：以<code>!</code>开头，后跟<code>r</code>（表示repr）、<code>s</code>（表示str）或<code>a</code>（表示ascii）。例如：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(<span class="string">"&#123;pi!s&#125; &#123;pi!r&#125; &#123;pi!a&#125;"</span>.format(pi=<span class="string">'π'</span>))</span><br><span class="line">π <span class="string">'π'</span> <span class="string">'\u03c0'</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>格式说明符：以<code>:</code>开头的表达式，用于详细设置最终的格式。</p>
<p>格式说明符的一般形式：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">格式说明符：</span><br><span class="line">	填充字符? 对齐说明符? (符号说明符 | &#39;0&#39;)? &#39;#&#39;? 宽度? &#39;,&#39;? 精度? 类型说明符?</span><br></pre></td></tr></table></figure>

<p>这里的0表示前导0，即用0填充数值的左侧。</p>
<table>
<thead>
<tr>
<th>类型说明符</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td>b</td>
<td>将整数表示为二进制数。</td>
</tr>
<tr>
<td>c</td>
<td>将整数解读为Unicode码点。</td>
</tr>
<tr>
<td>d</td>
<td>将整数表示为十进制数。（整数默认格式说明符）</td>
</tr>
<tr>
<td>o</td>
<td>将整数表示为八进制数。</td>
</tr>
<tr>
<td>x</td>
<td>将整数表示为十六进制数，并使用小写字母。</td>
</tr>
<tr>
<td>X</td>
<td>与x相同，但使用大写字母。</td>
</tr>
<tr>
<td>e</td>
<td>使用科学表示法来表示小数（用<code>e</code>来表示指数）。</td>
</tr>
<tr>
<td>E</td>
<td>与e相同，但使用<code>E</code>来表示指数。</td>
</tr>
<tr>
<td>f</td>
<td>将小数表示为定点数。</td>
</tr>
<tr>
<td>F</td>
<td>与f相同，但对于特殊值（<code>nan</code>和<code>inf</code>），使用大写表示。</td>
</tr>
<tr>
<td>g</td>
<td>自动在科学表示法和定点表示法之间做出选择，且默认至少有1位小数。（小数默认格式说明符）</td>
</tr>
<tr>
<td>G</td>
<td>与g相同，但使用大写来表示指数和特殊值。</td>
</tr>
<tr>
<td>n</td>
<td>与g相同，但插入随区域而异的数字分隔符。</td>
</tr>
<tr>
<td>%</td>
<td>将数表示为百分比值。</td>
</tr>
<tr>
<td>s</td>
<td>保持字符串的格式不变。（字符串默认格式说明符）</td>
</tr>
</tbody></table>
</li>
</ul>
<p>按顺序配对：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'&#123;&#125;, &#123;&#125; and &#123;&#125;'</span>.format(<span class="string">'first'</span>, <span class="string">'second'</span>, <span class="string">'third'</span>)</span><br><span class="line"><span class="string">'first, second and third'</span></span><br></pre></td></tr></table></figure>

<p>按索引配对：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'&#123;2&#125;, &#123;0&#125; and &#123;1&#125;'</span>.format(<span class="string">'first'</span>, <span class="string">'second'</span>, <span class="string">'third'</span>)</span><br><span class="line"><span class="string">'third, first and second'</span></span><br></pre></td></tr></table></figure>

<p>按名字配对：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> math <span class="keyword">import</span> pi</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'&#123;name&#125; is approximately &#123;value:.2f&#125;.'</span>.format(value=pi, name=<span class="string">'π'</span>)</span><br><span class="line"><span class="string">'π is approximately 3.14'</span></span><br></pre></td></tr></table></figure>

<p>f字符串：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> math <span class="keyword">import</span> e</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">"Euler's constant is roughly &#123;e&#125;."</span>.format(e=e)</span><br><span class="line"><span class="comment">#上面变量名与字段名相同时，可以使用f字符串进行简写：</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">f"Euler's constant is roughly <span class="subst">&#123;e&#125;</span>."</span></span><br><span class="line"><span class="string">'Euler'</span>s constant <span class="keyword">is</span> roughly <span class="number">2.718281828459045</span>.<span class="string">'</span></span><br></pre></td></tr></table></figure>

<p>可以混合使用按顺序配对和按名字配对，也可以混合使用按索引配对和按名字配对，但不能混合使用按顺序配对和按索引配对：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">"&#123;foo&#125; &#123;&#125; &#123;bar&#125; &#123;&#125;"</span>.format(<span class="number">1</span>, <span class="number">2</span>, bar=<span class="number">4</span>, foo=<span class="number">3</span>)</span><br><span class="line"><span class="string">'3 1 4 2'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">"&#123;foo&#125; &#123;1&#125; &#123;bar&#125; &#123;0&#125;"</span>.format(<span class="number">1</span>, <span class="number">2</span>, bar=<span class="number">4</span>, foo=<span class="number">3</span>)</span><br><span class="line"><span class="string">'3 2 4 1'</span></span><br></pre></td></tr></table></figure>

<p>复合类型字段：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>fullname = [<span class="string">'Alfred'</span>, <span class="string">'Smoketoomuch'</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'Mr &#123;name[1]&#125;'</span>.format(name=fullname)</span><br><span class="line"><span class="string">'Mr Smoketoomuch'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> math</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>tmpl = <span class="string">"The &#123;mod.__name__&#125; module defines the value &#123;mod.pi&#125; for π"</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>tmpl.format(mod=math)</span><br><span class="line"><span class="string">'The math module defines the value 3.141592653589793 for π'</span></span><br></pre></td></tr></table></figure>

<p>类型：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'&#123;:b&#125;'</span>.format(<span class="number">89</span>)</span><br><span class="line"><span class="string">'1011001'</span></span><br></pre></td></tr></table></figure>

<p>宽度：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'&#123;num:10&#125;'</span>.format(num=<span class="number">3</span>)</span><br><span class="line"><span class="string">'         3'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'&#123;name:10&#125;'</span>.format(name=<span class="string">'Bob'</span>)</span><br><span class="line"><span class="string">'Bob       '</span></span><br></pre></td></tr></table></figure>

<p>缺省宽度时，则宽度默认为值的实际宽度。</p>
<p>当宽度大于值实际宽度的时，多出的部分使用设定的字符（默认是空格）填充；当宽度小于值实际宽度时，宽度自动取值实际宽度。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'&#123;:3&#125;'</span>.format(<span class="number">12345</span>)</span><br><span class="line"><span class="string">'12345'</span></span><br></pre></td></tr></table></figure>

<p>宽度包含了符号、小数点和小数位数等。</p>
<p>对齐方式：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(<span class="string">'&#123;0:&lt;10.2f&#125;\n&#123;0:^10.2f&#125;\n&#123;0:&gt;10.2f&#125;'</span>.format(<span class="number">3.14159</span>))</span><br><span class="line"><span class="number">3.14</span>      </span><br><span class="line">   <span class="number">3.14</span>   </span><br><span class="line">      <span class="number">3.14</span></span><br></pre></td></tr></table></figure>

<p><code>&lt;</code>：左对齐，<code>&gt;</code>：右对齐，<code>^</code>：居中。</p>
<p>数值默认是右对齐，字符串默认是左对齐。</p>
<p>精度：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'&#123;pi:.2f&#125;'</span>.format(pi=<span class="number">3.14159</span>)</span><br><span class="line"><span class="string">'3.14'</span></span><br></pre></td></tr></table></figure>

<p>精度指定保留的小数位数，它是以<code>.</code>开头，后接表示小数位数的整数。</p>
<p>精度默认值是6。</p>
<p>实际上，非数值也可以指定精度：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'&#123;:.5&#125;'</span>.format(<span class="string">'Guido van Rossum'</span>)</span><br><span class="line"><span class="string">'Guido'</span></span><br></pre></td></tr></table></figure>

<p>填充：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'&#123;:010.2f&#125;'</span>.format(<span class="number">3.1415926</span>)   <span class="comment">#前导0，只适用于数值。</span></span><br><span class="line"><span class="string">'0000003.14'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'&#123;:0&gt;10&#125;'</span>.format(<span class="string">'abc'</span>)    <span class="comment">#用0填充，适用于任何值（0后紧跟对齐说明符）</span></span><br><span class="line"><span class="string">'0000000abc'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'&#123;:$&lt;10.2f&#125;'</span>.format(<span class="number">3.1415926</span>)  <span class="comment">#用任意字符填充</span></span><br><span class="line"><span class="string">'3.14$$$$$$'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'&#123;:$=10.2f&#125;'</span>.format(<span class="number">-3.1415926</span>) <span class="comment">#等号表示在符号与数值之间填充字符</span></span><br><span class="line"><span class="string">'-$$$$$3.14'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'&#123;:=10.2f&#125;'</span>.format(<span class="number">-3.1415926</span>)</span><br><span class="line"><span class="string">'-     3.14'</span></span><br></pre></td></tr></table></figure>

<p>缺省填充说明符，则默认以空格填充。</p>
<p>符号：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'&#123;:+.2f&#125;'</span>.format(<span class="number">-3.1415926</span>)</span><br><span class="line"><span class="string">'-3.14'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'&#123;:+.2f&#125;'</span>.format(<span class="number">3.1415926</span>)  <span class="comment">#给正数加上符号</span></span><br><span class="line"><span class="string">'+3.14'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'&#123;:-.2f&#125;'</span>.format(<span class="number">3.1415926</span>)</span><br><span class="line"><span class="string">'3.14'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'&#123;:-.2f&#125;'</span>.format(<span class="number">-3.1415926</span>)</span><br><span class="line"><span class="string">'-3.14'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'&#123;: .2f&#125;'</span>.format(<span class="number">3.1415926</span>)  <span class="comment">#将正号用空格代替</span></span><br><span class="line"><span class="string">' 3.14'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'&#123;: .2f&#125;'</span>.format(<span class="number">-3.1415926</span>)</span><br><span class="line"><span class="string">'-3.14'</span></span><br></pre></td></tr></table></figure>

<p>符号说明符可以是：<code>-</code>、<code>+</code>和空格。缺省符号说明符是<code>-</code>。</p>
<p>千位分隔符：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'&#123;:,.5f&#125;'</span>.format(<span class="number">3.14</span>**<span class="number">20</span>)  <span class="comment">#使用逗号作为千位分隔符</span></span><br><span class="line"><span class="string">'8,681,463,855.99366'</span></span><br></pre></td></tr></table></figure>

<p>如果要使用随区域而异的千位分隔符，应使用类型说明符<code>n</code>。</p>
<p><code>#</code>：</p>
<p>对于二进制、八进制和十六进制数，将在它们前面加上进行前缀：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'&#123;:b&#125;'</span>.format(<span class="number">42</span>)</span><br><span class="line"><span class="string">'101010'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'&#123;:#b&#125;'</span>.format(<span class="number">42</span>)</span><br><span class="line"><span class="string">'0b101010'</span></span><br></pre></td></tr></table></figure>

<p>对于十进制数，以小数形式显示时，会保留小数点后的0：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'&#123;:g&#125;'</span>.format(<span class="number">42</span>)</span><br><span class="line"><span class="string">'42'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'&#123;:#g&#125;'</span>.format(<span class="number">42</span>)</span><br><span class="line"><span class="string">'42.0000'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'&#123;:#f&#125;'</span>.format(<span class="number">42</span>)</span><br><span class="line"><span class="string">'42.000000'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'&#123;:#d&#125;'</span>.format(<span class="number">42</span>)</span><br><span class="line"><span class="string">'42'</span></span><br></pre></td></tr></table></figure>

<h4 id="format-map方法"><a href="#format-map方法" class="headerlink" title="format_map方法"></a>format_map方法</h4><p><code>format_map</code>方法与<code>format</code>方法类似，除了<code>format_map</code>方法的参数是一个字典对象。</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>template = <span class="string">'''&lt;html&gt;</span></span><br><span class="line"><span class="string">&lt;head&gt;&lt;title&gt;&#123;title&#125;&lt;/title&gt;&lt;/head&gt;</span></span><br><span class="line"><span class="string">&lt;body&gt;</span></span><br><span class="line"><span class="string">&lt;h1&gt;&#123;title&#125;&lt;/h1&gt;</span></span><br><span class="line"><span class="string">&lt;p&gt;&#123;text&#125;&lt;/p&gt;</span></span><br><span class="line"><span class="string">&lt;/body&gt;'''</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>data = &#123;<span class="string">'title'</span>: <span class="string">'My Home Page'</span>, <span class="string">'text'</span>: <span class="string">'Welcome to my home page!'</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(template.format_map(data))</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;&lt;title&gt;My Home Page&lt;/title&gt;&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;h1&gt;My Home Page&lt;/h1&gt;</span><br><span class="line">&lt;p&gt;Welcome to my home page!&lt;/p&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure>

<h3 id="查找"><a href="#查找" class="headerlink" title="查找"></a>查找</h3><p>方法<code>find</code>在字符串中查找子串，如果找到，就返回首次找到的子串的第一个字符的索引，否则返回-1：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>subject = <span class="string">'$$$ Get rich now!!! $$$'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>subject.find(<span class="string">'$$$'</span>)</span><br><span class="line"><span class="number">0</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>subject.find(<span class="string">'$$$'</span>, <span class="number">1</span>)  <span class="comment">#指定搜索的起点</span></span><br><span class="line"><span class="number">20</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>subject.find(<span class="string">'!!!'</span>, <span class="number">0</span>, <span class="number">16</span>)  <span class="comment">#同时指定搜索的起点（包含）和终点（不包含）</span></span><br><span class="line"><span class="number">-1</span></span><br></pre></td></tr></table></figure>

<h3 id="连结"><a href="#连结" class="headerlink" title="连结"></a>连结</h3><p>方法<code>join</code>用当前字符串将作为参数的<strong>字符串序列</strong>中的每个元素连结起来，形成一个新的字符串：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>dirs = <span class="string">''</span>, <span class="string">'usr'</span>, <span class="string">'bin'</span>, <span class="string">'env'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'/'</span>.join(dirs)</span><br><span class="line"><span class="string">'/usr/bin/env'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>seq = [<span class="string">'1'</span>, <span class="string">'2'</span>, <span class="string">'3'</span>, <span class="string">'4'</span>, <span class="string">'5'</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'+'</span>.join(seq)</span><br><span class="line"><span class="string">'1+2+3+4+5'</span></span><br></pre></td></tr></table></figure>

<h3 id="拆分"><a href="#拆分" class="headerlink" title="拆分"></a>拆分</h3><p>方法<code>split</code>将当前字符串，根据参数指定的分隔符，拆分成字符串列表：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'/usr/bin/env'</span>.split(<span class="string">'/'</span>)</span><br><span class="line">[<span class="string">''</span>, <span class="string">'usr'</span>, <span class="string">'bin'</span>, <span class="string">'env'</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'Using the default'</span>.split()</span><br><span class="line">[<span class="string">'Using'</span>, <span class="string">'the'</span>, <span class="string">'default'</span>]</span><br></pre></td></tr></table></figure>

<p>如果没有指定分隔符，则默认为一个或多个连续的空白字符（空格、制表符、换行符等）。</p>
<h3 id="替换"><a href="#替换" class="headerlink" title="替换"></a>替换</h3><p>方法<code>replace</code>将指定子串全部替换为另一个字符串，并返回替换后的结果：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'This is a test'</span>.replace(<span class="string">'is'</span>, <span class="string">'eez'</span>)</span><br><span class="line"><span class="string">'Theez eez a test'</span></span><br></pre></td></tr></table></figure>

<h3 id="转换"><a href="#转换" class="headerlink" title="转换"></a>转换</h3><p>方法<code>translate</code>通过一个转换表，将字符串中的指定字符转换为另一些字符，并返回转换后的结果：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>table = str.maketrans(<span class="string">'cs'</span>, <span class="string">'kz'</span>)  <span class="comment">#字符c将转换为字符k，s将转换为z</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>table</span><br><span class="line">&#123;<span class="number">115</span>: <span class="number">122</span>, <span class="number">99</span>: <span class="number">107</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'this is an incredible test'</span>.translate(table)</span><br><span class="line"><span class="string">'thiz iz an inkredible tezt'</span></span><br></pre></td></tr></table></figure>

<p>调用方法<code>maketrans</code>时，还可提供可选的第三个参数，指定要将哪些字符删除：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>table = str.maketrans(<span class="string">'cs'</span>, <span class="string">'kz'</span>, <span class="string">' '</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'this is an incredible test'</span>.translate(table)</span><br><span class="line"><span class="string">'thizizaninkredibletezt'</span></span><br></pre></td></tr></table></figure>

<h3 id="裁剪"><a href="#裁剪" class="headerlink" title="裁剪"></a>裁剪</h3><p>方法<code>strip</code>将字符串开头和末尾的指定字符（默认是空白）删除，并返回删除后的结果：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'    internal whitespace is kept  '</span>.strip()</span><br><span class="line"><span class="string">'internal whitespace is kept'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'*** SPAM * for * everyone!!! ***'</span>.strip(<span class="string">' *!'</span>)</span><br><span class="line"><span class="string">'SPAM * for * everyone'</span></span><br></pre></td></tr></table></figure>

<p>类似的方法还有：<code>lstrip</code>、<code>rstrip</code>。</p>
<h3 id="repr函数"><a href="#repr函数" class="headerlink" title="repr函数"></a>repr函数</h3><p><code>repr</code>函数用于返回对象的字符串表示。</p>
<h1 id="枚举类型"><a href="#枚举类型" class="headerlink" title="枚举类型"></a>枚举类型</h1><h1 id="表达式"><a href="#表达式" class="headerlink" title="表达式"></a>表达式</h1><h2 id="算术表达式"><a href="#算术表达式" class="headerlink" title="算术表达式"></a>算术表达式</h2><p>乘方的优先级高于正负号：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">-3</span> ** <span class="number">2</span>  <span class="comment">#-9</span></span><br><span class="line">(<span class="number">-3</span>) ** <span class="number">2</span>  <span class="comment">#9</span></span><br></pre></td></tr></table></figure>

<h3 id="除法"><a href="#除法" class="headerlink" title="除法"></a>除法</h3><p>浮点除<code>/</code>：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span> / <span class="number">2</span>  <span class="comment">#0.5</span></span><br></pre></td></tr></table></figure>

<p>整除<code>//</code>：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10</span> // <span class="number">3</span>  <span class="comment">#3</span></span><br><span class="line"><span class="number">10</span> // <span class="number">-3</span>  <span class="comment">#-4</span></span><br><span class="line"><span class="number">-10</span> // <span class="number">3</span>  <span class="comment">#-4</span></span><br><span class="line"><span class="number">-10</span> // <span class="number">-3</span> <span class="comment">#3</span></span><br><span class="line"><span class="number">5.0</span> // <span class="number">2.4</span>  <span class="comment">#2.0</span></span><br></pre></td></tr></table></figure>

<p>Python中整除采取向下取整的策略。</p>
<blockquote>
<p>Python 2中，浮点除的效果与整除是一样的，要获取Python 3中的浮点除功能，只要在程序开头添加如下语句：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> __future__ <span class="keyword">import</span> division</span><br></pre></td></tr></table></figure>
</blockquote>
<p><code>math.ceil(数值)</code>：以浮点数的方式返回向上取整的结果。</p>
<p><code>math.floor(数值)</code>：以浮点数的方式返回向下取整的结果。</p>
<p><code>round(数值[, 保留小数位数])</code>：四舍五入为指定的精度，正好为5时舍入到偶数。（实际上是对二进制数进行舍入）</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> math</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>math.floor(<span class="number">32.9</span>)</span><br><span class="line"><span class="number">32</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>math.floor(<span class="number">-32.3</span>)</span><br><span class="line"><span class="number">-33</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>math.ceil(<span class="number">32.3</span>)</span><br><span class="line"><span class="number">33</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>math.ceil(<span class="number">-32.9</span>)</span><br><span class="line"><span class="number">-32</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>round(<span class="number">3.14</span>)</span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>round(<span class="number">3.14159</span>, <span class="number">2</span>)</span><br><span class="line"><span class="number">3.14</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>round(<span class="number">3.15</span>, <span class="number">1</span>)</span><br><span class="line"><span class="number">3.1</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>round(<span class="number">3.225</span>, <span class="number">2</span>)</span><br><span class="line"><span class="number">3.23</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>round(<span class="number">3.5</span>)</span><br><span class="line"><span class="number">4</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>round(<span class="number">4.5</span>)</span><br><span class="line"><span class="number">4</span></span><br></pre></td></tr></table></figure>



<h3 id="求模"><a href="#求模" class="headerlink" title="求模"></a>求模</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10</span> % <span class="number">3</span>  <span class="comment">#1</span></span><br><span class="line"><span class="number">10</span> % <span class="number">-3</span> <span class="comment">#-2</span></span><br><span class="line"><span class="number">-10</span> % <span class="number">3</span> <span class="comment">#2</span></span><br><span class="line"><span class="number">-10</span> % <span class="number">-3</span> <span class="comment">#-1</span></span><br></pre></td></tr></table></figure>

<p><code>x % y</code>等价于<code>x - ((x // y) * y)</code>。</p>
<h2 id="关系表达式"><a href="#关系表达式" class="headerlink" title="关系表达式"></a>关系表达式</h2><table>
<thead>
<tr>
<th>表达式</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>x == y</td>
<td>x等于y</td>
</tr>
<tr>
<td>x &lt; y</td>
<td>x小于y</td>
</tr>
<tr>
<td>x &gt; y</td>
<td>x大于y</td>
</tr>
<tr>
<td>x &lt;= y</td>
<td>x小于或等于y</td>
</tr>
<tr>
<td>x &gt;= y</td>
<td>x大于或等于y</td>
</tr>
<tr>
<td>x != y</td>
<td>x不等于y</td>
</tr>
<tr>
<td>x is y</td>
<td>x和y是同一个对象</td>
</tr>
<tr>
<td>x is not y</td>
<td>x和y是不同的对象</td>
</tr>
<tr>
<td>x in y</td>
<td>x是集合y的成员</td>
</tr>
<tr>
<td>x not in y</td>
<td>x不是集合y的成员</td>
</tr>
</tbody></table>
<h3 id="字符串的比较"><a href="#字符串的比较" class="headerlink" title="字符串的比较"></a>字符串的比较</h3><p>字符串是根据字符的码点顺序进行比较的：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'alpha'</span> &lt; <span class="string">'beta'</span></span><br><span class="line"><span class="literal">True</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'user'</span> &gt; <span class="string">'use'</span></span><br><span class="line"><span class="literal">True</span></span><br></pre></td></tr></table></figure>

<h3 id="序列的比较"><a href="#序列的比较" class="headerlink" title="序列的比较"></a>序列的比较</h3><p>序列是根据每个元素的值来进行比较的：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>[<span class="number">1</span>, <span class="number">2</span>] &gt; [<span class="number">2</span>, <span class="number">1</span>]</span><br><span class="line"><span class="literal">False</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>[<span class="number">2</span>, [<span class="number">1</span>, <span class="number">4</span>]] &lt; [<span class="number">2</span>, [<span class="number">1</span>, <span class="number">5</span>]]</span><br><span class="line"><span class="literal">True</span></span><br></pre></td></tr></table></figure>

<h3 id="链式比较"><a href="#链式比较" class="headerlink" title="链式比较"></a>链式比较</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span> &lt;= number &lt;= <span class="number">10</span></span><br><span class="line">等价于：</span><br><span class="line"><span class="number">1</span> &lt;= number <span class="keyword">and</span> number &lt;= <span class="number">10</span></span><br></pre></td></tr></table></figure>

<h2 id="逻辑表达式"><a href="#逻辑表达式" class="headerlink" title="逻辑表达式"></a>逻辑表达式</h2><p><code>and</code>、<code>or</code>和<code>not</code>。</p>
<h3 id="“短路”行为"><a href="#“短路”行为" class="headerlink" title="“短路”行为"></a>“短路”行为</h3><p>逻辑运算符<code>and</code>和<code>or</code>都有“短路”行为：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>name = input(<span class="string">'Please enter your name: '</span>) <span class="keyword">or</span> <span class="string">'&lt;unknown&gt;'</span></span><br><span class="line">Please enter your name: </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>name</span><br><span class="line"><span class="string">'&lt;unknown&gt;'</span></span><br></pre></td></tr></table></figure>

<h2 id="条件表达式"><a href="#条件表达式" class="headerlink" title="条件表达式"></a>条件表达式</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">status = <span class="string">'friend'</span> <span class="keyword">if</span> name.endswith(<span class="string">'Gumby'</span>) <span class="keyword">else</span> <span class="string">'stranger'</span></span><br></pre></td></tr></table></figure>

<h1 id="语句"><a href="#语句" class="headerlink" title="语句"></a>语句</h1><h2 id="语句分隔符"><a href="#语句分隔符" class="headerlink" title="语句分隔符"></a>语句分隔符</h2><p><code>;</code>在Python中只是语句分隔符，除了要将多条语句放在一行外，通常不需要语句分隔符。</p>
<p>换行符也可以作为Python的语句分隔符。</p>
<h2 id="赋值语句"><a href="#赋值语句" class="headerlink" title="赋值语句"></a>赋值语句</h2><p>虽然Python的变量不需要声明，但它没有默认值，在使用之前必须先给它赋值。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">x = <span class="number">3</span></span><br></pre></td></tr></table></figure>

<h3 id="序列解包"><a href="#序列解包" class="headerlink" title="序列解包"></a>序列解包</h3><p>序列解包（或可迭代对象解包）是将一个序列（或任何可迭代对象）解包，并将得到的值存储到一系列变量中。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>values = <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>x, y, z = values</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>x</span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>x, y = y, x  <span class="comment">#交换值</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(x, y, z)</span><br><span class="line"><span class="number">2</span> <span class="number">1</span> <span class="number">3</span></span><br></pre></td></tr></table></figure>

<p>要解包的序列包含的元素个数必须与等号左边列出的变量个数相同，否则会报错。</p>
<p>可以使用<code>*</code>运算符来收集多余的值：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a, b, *rest = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>rest</span><br><span class="line">[<span class="number">3</span>, <span class="number">4</span>]</span><br></pre></td></tr></table></figure>

<p>还可将带星号的变量放在其他位置：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>names = <span class="string">'Albus Percival Wulfric Brian Dumbledore'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>first, *middle, last = names.split()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>middle</span><br><span class="line">[<span class="string">'Percival'</span>, <span class="string">'Wulfric'</span>, <span class="string">'Brian'</span>]</span><br></pre></td></tr></table></figure>

<p>这种赋值语句的右边可以是任何类型的序列，但带星号的变量总是一个列表，即使只包含一个值：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a, *b, c = <span class="string">'abc'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a, b, c</span><br><span class="line">(<span class="string">'a'</span>, [<span class="string">'b'</span>], <span class="string">'c'</span>)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>这种收集方式也可用于函数参数列表中。</p>
</blockquote>
<h3 id="链式赋值"><a href="#链式赋值" class="headerlink" title="链式赋值"></a>链式赋值</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">x = y = somefunction()</span><br><span class="line"><span class="comment">#等价于：</span></span><br><span class="line">y = somefunction()</span><br><span class="line">x = y</span><br><span class="line"><span class="comment">#不等价于：</span></span><br><span class="line">x = somefunction()</span><br><span class="line">y = somefunction()</span><br></pre></td></tr></table></figure>

<h3 id="复合赋值（增强赋值）"><a href="#复合赋值（增强赋值）" class="headerlink" title="复合赋值（增强赋值）"></a>复合赋值（增强赋值）</h3><p><code>+=</code>、<code>-=</code>、<code>*=</code>、<code>/=</code>、<code>//=</code>、<code>%=</code>、<code>**=</code>、<code>&lt;&lt;=</code>、<code>&gt;&gt;=</code>、<code>&amp;=</code>、<code>|=</code>、<code>^=</code>。</p>
<h2 id="代码块"><a href="#代码块" class="headerlink" title="代码块"></a>代码块</h2><p>代码块是一组语句。</p>
<p>Python的代码块是通过缩进的代码来创建的。可以使用空格或制表符缩进。</p>
<p>在同一个代码块中，各行代码的缩进量必须相同。</p>
<h2 id="条件语句"><a href="#条件语句" class="headerlink" title="条件语句"></a>条件语句</h2><p>条件语句的一般形式：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">if 条件: 语句  #当语句只有一条时，可以放在同一行</span><br><span class="line"></span><br><span class="line">if 条件:</span><br><span class="line">	语句</span><br><span class="line">	</span><br><span class="line">if 条件:</span><br><span class="line">	语句1</span><br><span class="line">else:</span><br><span class="line">	语句2</span><br><span class="line">	</span><br><span class="line">if 条件1:</span><br><span class="line">	语句1</span><br><span class="line">elif 条件2</span><br><span class="line">	语句2</span><br><span class="line">…</span><br><span class="line">else:</span><br><span class="line">	语句</span><br></pre></td></tr></table></figure>

<h2 id="循环语句"><a href="#循环语句" class="headerlink" title="循环语句"></a>循环语句</h2><h3 id="while循环"><a href="#while循环" class="headerlink" title="while循环"></a>while循环</h3><p>while循环的一般形式：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">while 条件:</span><br><span class="line">  语句</span><br></pre></td></tr></table></figure>

<h3 id="for-in循环"><a href="#for-in循环" class="headerlink" title="for-in循环"></a>for-in循环</h3><p>for-in循环的一般形式：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> 变量 <span class="keyword">in</span> 可迭代对象:</span><br><span class="line">  语句</span><br></pre></td></tr></table></figure>

<p>例如：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">words = [<span class="string">'this'</span>, <span class="string">'is'</span>, <span class="string">'an'</span>, <span class="string">'ex'</span>, <span class="string">'parrot'</span>]</span><br><span class="line"><span class="keyword">for</span> word <span class="keyword">in</span> words:</span><br><span class="line">  print(word)</span><br></pre></td></tr></table></figure>

<h4 id="范围"><a href="#范围" class="headerlink" title="范围"></a>范围</h4><p>Python提供了一个创建范围的内置函数<code>range</code>：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>r = range(<span class="number">0</span>, <span class="number">10</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>r</span><br><span class="line">range(<span class="number">0</span>, <span class="number">10</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>list(r)</span><br><span class="line">[<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]</span><br></pre></td></tr></table></figure>

<p>范围类似切片，包含起始位置（这里是0），但不包含结束位置（这里是10）。起始位置可以省略，默认为0：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>range(<span class="number">10</span>)</span><br><span class="line">range(<span class="number">0</span>, <span class="number">10</span>)</span><br></pre></td></tr></table></figure>

<p><code>range</code>函数还可以用第三个参数来指定步长，默认步长是1。（参见“else子句”的例子）</p>
<h4 id="迭代字典"><a href="#迭代字典" class="headerlink" title="迭代字典"></a>迭代字典</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>d = &#123;<span class="string">'x'</span>: <span class="number">1</span>, <span class="string">'y'</span>: <span class="number">2</span>, <span class="string">'z'</span>: <span class="number">3</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">for</span> key <span class="keyword">in</span> d:</span><br><span class="line"><span class="meta">... </span>  print(key, <span class="string">'corresponds to'</span>, d[key])    <span class="comment">#这里要注意缩进</span></span><br><span class="line"><span class="meta">... </span></span><br><span class="line">x corresponds to <span class="number">1</span></span><br><span class="line">y corresponds to <span class="number">2</span></span><br><span class="line">z corresponds to <span class="number">3</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">for</span> key, value <span class="keyword">in</span> d.items():</span><br><span class="line"><span class="meta">... </span>  print(key, <span class="string">'corresponds to'</span>, value)</span><br><span class="line"><span class="meta">... </span></span><br><span class="line">x corresponds to <span class="number">1</span></span><br><span class="line">y corresponds to <span class="number">2</span></span><br><span class="line">z corresponds to <span class="number">3</span></span><br></pre></td></tr></table></figure>

<h4 id="并行迭代"><a href="#并行迭代" class="headerlink" title="并行迭代"></a>并行迭代</h4><p>内置函数<code>zip</code>将两个序列“缝合”起来，返回一个由元组组成的可迭代对象。这样，就可以在for-in循环同时迭代两个序列：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>names = [<span class="string">'anne'</span>, <span class="string">'beth'</span>, <span class="string">'george'</span>, <span class="string">'damon'</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>ages = [<span class="number">12</span>, <span class="number">45</span>, <span class="number">32</span>, <span class="number">102</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>list(zip(names, ages))</span><br><span class="line">[(<span class="string">'anne'</span>, <span class="number">12</span>), (<span class="string">'beth'</span>, <span class="number">45</span>), (<span class="string">'george'</span>, <span class="number">32</span>), (<span class="string">'damon'</span>, <span class="number">102</span>)]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">for</span> name, age <span class="keyword">in</span> zip(names, ages):</span><br><span class="line"><span class="meta">... </span>  print(name, <span class="string">'is'</span>, age, <span class="string">'years old'</span></span><br></pre></td></tr></table></figure>

<h4 id="迭代时获取索引"><a href="#迭代时获取索引" class="headerlink" title="迭代时获取索引"></a>迭代时获取索引</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> index, string <span class="keyword">in</span> enumerate(strings):</span><br><span class="line">  <span class="keyword">if</span> <span class="string">'xxx'</span> <span class="keyword">in</span> string:</span><br><span class="line">    strings[index] = <span class="string">'[censored]'</span></span><br></pre></td></tr></table></figure>

<p>函数<code>enumerate</code>能让你在迭代时，自动获取当前对象的索引。</p>
<h3 id="else子句"><a href="#else子句" class="headerlink" title="else子句"></a>else子句</h3><p>else子句紧跟在for-in循环或while循环之后，它仅当前面的循环没有调用<code>break</code>时才会执行（即循环没有提前结束）。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> math <span class="keyword">import</span> sqrt</span><br><span class="line"><span class="keyword">for</span> n <span class="keyword">in</span> range(<span class="number">99</span>, <span class="number">81</span>, <span class="number">-1</span>):</span><br><span class="line">  root = sqrt(n)</span><br><span class="line">  <span class="keyword">if</span> root == int(root):</span><br><span class="line">    print(n)</span><br><span class="line">    <span class="keyword">break</span></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">  print(<span class="string">"Didn't find it!')</span></span><br></pre></td></tr></table></figure>

<h3 id="迭代器"><a href="#迭代器" class="headerlink" title="迭代器"></a>迭代器</h3><p>可迭代对象是实现了<code>__iter__</code>方法的对象，它可以使用for-in循环来迭代。</p>
<p><code>__iter__</code>方法返回一个迭代器，迭代器是一个包含<code>__next__</code>方法的对象。当调用<code>__next__</code>方法时，迭代器应返回其下一个值。如果迭代器没有可供返回的值，应引发<code>StopIteration</code>异常。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Fibs</span>:</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">    self.a = <span class="number">0</span></span><br><span class="line">    self.b = <span class="number">1</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">__next__</span><span class="params">(self)</span>:</span></span><br><span class="line">    self.a, self.b = self.b, self.a + self.b</span><br><span class="line">    <span class="keyword">return</span> self.a</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">__iter__</span><span class="params">(self)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> self</span><br><span class="line">------------------------------------------------------</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fibs = Fibs()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">for</span> f <span class="keyword">in</span> fibs:</span><br><span class="line"><span class="meta">... </span>  <span class="keyword">if</span> f &gt; <span class="number">1000</span>:</span><br><span class="line"><span class="meta">... </span>    print(f)</span><br><span class="line"><span class="meta">... </span>    <span class="keyword">break</span></span><br><span class="line">...</span><br><span class="line"><span class="number">1597</span></span><br></pre></td></tr></table></figure>

<p>另外，通过对可迭代对象调用内置函数<code>iter</code>，可获得一个迭代器。内置函数<code>next(iter)</code>与<code>iter.__next__()</code>等效。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>it = iter([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>next(it)</span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>next(it)</span><br><span class="line"><span class="number">2</span></span><br></pre></td></tr></table></figure>

<p>迭代器可以通过构造函数<code>list</code>转化为序列：<code>list(it)</code>。</p>
<h2 id="跳转语句"><a href="#跳转语句" class="headerlink" title="跳转语句"></a>跳转语句</h2><h3 id="break语句"><a href="#break语句" class="headerlink" title="break语句"></a>break语句</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">  word = input(<span class="string">'Please enter a word: '</span>)</span><br><span class="line">  <span class="keyword">if</span> <span class="keyword">not</span> word: <span class="keyword">break</span></span><br><span class="line">  print(<span class="string">'The word was '</span>, word)</span><br></pre></td></tr></table></figure>

<h3 id="continue语句"><a href="#continue语句" class="headerlink" title="continue语句"></a>continue语句</h3><h2 id="pass语句"><a href="#pass语句" class="headerlink" title="pass语句"></a>pass语句</h2><p>pass语句什么都不做，通常用作占位符。</p>
<h2 id="del语句"><a href="#del语句" class="headerlink" title="del语句"></a>del语句</h2><p>del语句用于删除对象的引用或变量。在Python中，对象只能由垃圾回收器自动回收。</p>
<h1 id="子程序"><a href="#子程序" class="headerlink" title="子程序"></a>子程序</h1><h2 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h2><h3 id="定义函数"><a href="#定义函数" class="headerlink" title="定义函数"></a>定义函数</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fibs</span><span class="params">(num)</span>:</span></span><br><span class="line">  result = [<span class="number">0</span>, <span class="number">1</span>]</span><br><span class="line">  <span class="keyword">for</span> i <span class="keyword">in</span> range(num - <span class="number">2</span>):</span><br><span class="line">    result.append(result[<span class="number">-2</span>] + result[<span class="number">-1</span>])</span><br><span class="line">  <span class="keyword">return</span> result</span><br></pre></td></tr></table></figure>

<h3 id="返回值"><a href="#返回值" class="headerlink" title="返回值"></a>返回值</h3><p>在Python中，即使没有显式使用<code>return</code>语句返回的函数也有返回值——<code>None</code>。因此，Python的函数均有返回值。</p>
<h3 id="参数"><a href="#参数" class="headerlink" title="参数"></a>参数</h3><h4 id="关键字参数"><a href="#关键字参数" class="headerlink" title="关键字参数"></a>关键字参数</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="function"><span class="keyword">def</span> <span class="title">hello</span><span class="params">(greeting, name)</span>:</span></span><br><span class="line"><span class="meta">... </span>  print(<span class="string">'&#123;&#125;, &#123;&#125;!'</span>.format(greeting, name))</span><br><span class="line"><span class="meta">... </span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>hello(greeting=<span class="string">'Hello'</span>, name=<span class="string">'world'</span>)  <span class="comment">#关键字参数</span></span><br><span class="line">Hello, world!</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>hello(<span class="string">'Hello'</span>, <span class="string">'world'</span>)  <span class="comment">#位置参数</span></span><br><span class="line">Hello, world!</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>hello(<span class="string">'Hello'</span>, name=<span class="string">'Jo'</span>)  <span class="comment">#混合使用，位置参数必须位于关键字参数之前</span></span><br><span class="line">Hello, Jo!</span><br></pre></td></tr></table></figure>

<h4 id="参数默认值"><a href="#参数默认值" class="headerlink" title="参数默认值"></a>参数默认值</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="function"><span class="keyword">def</span> <span class="title">hello</span><span class="params">(greeting=<span class="string">'Hello'</span>, name=<span class="string">'world'</span>)</span>:</span></span><br><span class="line"><span class="meta">... </span>  print(<span class="string">'&#123;&#125;, &#123;&#125;!'</span>.format(greeting, name))</span><br><span class="line"><span class="meta">... </span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>hello()</span><br><span class="line">Hello, world!</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>hello(<span class="string">'Hi'</span>)</span><br><span class="line">Hi, world!</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>hello(<span class="string">'Hi'</span>, <span class="string">'Jo'</span>)</span><br><span class="line">Hi, Jo!</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>hello(name=<span class="string">'Jo'</span>)</span><br><span class="line">Hello, Jo!</span><br></pre></td></tr></table></figure>

<h4 id="可变数量参数"><a href="#可变数量参数" class="headerlink" title="可变数量参数"></a>可变数量参数</h4><p>可变数量参数可以接收任意多个（包括0个）参数，以星号开头的形参是可变数量参数。Python的可变数量参数实际上是一个元组。</p>
<blockquote>
<p>注意：在“序列解包”中，赋值时带星号的变量也会收集多余的值，只不过列表而不是元组。</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="function"><span class="keyword">def</span> <span class="title">print_params</span><span class="params">(title, *params)</span>:</span></span><br><span class="line"><span class="meta">... </span>  print(title)</span><br><span class="line"><span class="meta">... </span>  print(params)</span><br><span class="line">...</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print_params(<span class="string">'Params:'</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line">Params:</span><br><span class="line">(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print_params(<span class="string">'Nothing:'</span>)</span><br><span class="line">Nothing:</span><br><span class="line">()</span><br></pre></td></tr></table></figure>

<p>可变数量参数不能接收关键字参数，除非关键字形参前面使用两个星号。这样得到的可变数量参数是一个字典，而不是一个元组：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>print_params(<span class="string">'Params:'</span>, foo=<span class="number">4</span>)</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">"&lt;stdin&gt;"</span>, line <span class="number">1</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">TypeError: print_params() got an unexpected keyword argument <span class="string">'foo'</span></span><br><span class="line">  </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="function"><span class="keyword">def</span> <span class="title">print_params2</span><span class="params">(**params)</span>:</span></span><br><span class="line"><span class="meta">... </span>  print(params)</span><br><span class="line">...</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print_params2(x=<span class="number">1</span>, y=<span class="number">2</span>, z=<span class="number">3</span>)</span><br><span class="line">&#123;<span class="string">'z'</span>: <span class="number">3</span>, <span class="string">'x'</span>: <span class="number">1</span>, <span class="string">'y'</span>: <span class="number">2</span>&#125;</span><br></pre></td></tr></table></figure>

<p>当可变数量参数不放在最末尾时，在它之后的参数只能接收关键字参数。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="function"><span class="keyword">def</span> <span class="title">in_the_middle</span><span class="params">(x, *y, z)</span>:</span></span><br><span class="line"><span class="meta">... </span>  print(x, y, z)</span><br><span class="line"><span class="meta">... </span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>in_the_middle(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">7</span>)</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">"&lt;stdin&gt;"</span>, line <span class="number">1</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">TypeError: in_the_middle() missing <span class="number">1</span> required keyword-only argument: <span class="string">'z'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>in_the_middle(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, z=<span class="number">7</span>)</span><br><span class="line"><span class="number">1</span> (<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>) <span class="number">7</span></span><br></pre></td></tr></table></figure>

<h4 id="分配参数"><a href="#分配参数" class="headerlink" title="分配参数"></a>分配参数</h4><p>分配参数是通过在调用函数（而不是定义函数）时使用运算符<code>*</code>和<code>**</code>实现的。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="function"><span class="keyword">def</span> <span class="title">add</span><span class="params">(x, y)</span>:</span></span><br><span class="line"><span class="meta">... </span>  <span class="keyword">return</span> x + y</span><br><span class="line">...</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>params = (<span class="number">1</span>, <span class="number">2</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>add(*params)</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="function"><span class="keyword">def</span> <span class="title">hello</span><span class="params">(greeting=<span class="string">'Hello'</span>, name=<span class="string">'world'</span>)</span>:</span></span><br><span class="line"><span class="meta">... </span>  print(<span class="string">'&#123;&#125;, &#123;&#125;!'</span>.format(greeting, name))</span><br><span class="line"><span class="meta">... </span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>params2 = &#123;<span class="string">'name'</span>: <span class="string">'Sir Robin'</span>, <span class="string">'greeting'</span>: <span class="string">'Well met'</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>hello(**params2)</span><br><span class="line">Well met, Sir Robin</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="function"><span class="keyword">def</span> <span class="title">foo</span><span class="params">(x, y, z, m=<span class="number">0</span>, n=<span class="number">0</span>)</span>:</span></span><br><span class="line"><span class="meta">... </span>  print(x, y, z, m, n)</span><br><span class="line">...</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="function"><span class="keyword">def</span> <span class="title">call_foo</span><span class="params">(*args, **kwds)</span>:</span></span><br><span class="line"><span class="meta">... </span>  print(<span class="string">'Calling foo!'</span>)</span><br><span class="line"><span class="meta">... </span>  foo(*args, **kwds)</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<p>分配参数作用于参数列表的一部分，但是分配参数只能位于参数列表的末尾。</p>
<p>可以将分配参数传递给可变数量参数，效果与将元组或字典传递给普通参数一样。</p>
<h3 id="函数嵌套"><a href="#函数嵌套" class="headerlink" title="函数嵌套"></a>函数嵌套</h3><p>Python函数可以嵌套：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="function"><span class="keyword">def</span> <span class="title">multiplier</span><span class="params">(factor)</span>:</span></span><br><span class="line"><span class="meta">... </span> <span class="function"><span class="keyword">def</span> <span class="title">multiplyByFactor</span><span class="params">(number)</span>:</span></span><br><span class="line"><span class="meta">... </span>   <span class="keyword">return</span> number * factor</span><br><span class="line"><span class="meta">... </span> <span class="keyword">return</span> multiplyByFactor</span><br><span class="line">...</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>double = multiplier(<span class="number">2</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>double(<span class="number">5</span>)</span><br><span class="line"><span class="number">10</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>multiplier(<span class="number">5</span>)(<span class="number">4</span>)</span><br><span class="line"><span class="number">20</span></span><br></pre></td></tr></table></figure>

<p>像<code>multiplyByFactor</code>这样存储其所在作用域的函数称为<strong>闭包</strong>。</p>
<h3 id="递归"><a href="#递归" class="headerlink" title="递归"></a>递归</h3><p>二分查找：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">search</span><span class="params">(seq, number, lower, upper)</span>:</span></span><br><span class="line">  <span class="keyword">if</span> lower == upper:</span><br><span class="line">    <span class="keyword">assert</span> number == seq[upper]</span><br><span class="line">    <span class="keyword">return</span> upper</span><br><span class="line">  <span class="keyword">else</span>:</span><br><span class="line">    middle = (lower + upper) // <span class="number">2</span></span><br><span class="line">    <span class="keyword">if</span> number &gt; seq[middle]:</span><br><span class="line">      <span class="keyword">return</span> search(seq, number, middle + <span class="number">1</span>, upper)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">      <span class="keyword">return</span> search(seq, number, lower, middle)</span><br></pre></td></tr></table></figure>



<h3 id="内置函数"><a href="#内置函数" class="headerlink" title="内置函数"></a>内置函数</h3><h4 id="exec函数"><a href="#exec函数" class="headerlink" title="exec函数"></a>exec函数</h4><p><code>exec</code>函数将字符串作为代码执行，并且不返回任何东西。</p>
<p>直接在当前命名空间下执行：（很容易污染当前命名空间）</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> math <span class="keyword">import</span> sqrt</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>exec(<span class="string">'sqrt = 1'</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>sqrt(<span class="number">4</span>)</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">"&lt;stdin&gt;"</span>, line <span class="number">1</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">TypeError: <span class="string">'int'</span> object <span class="keyword">is</span> <span class="keyword">not</span> callable</span><br></pre></td></tr></table></figure>

<p>在显式指定的全局空间下执行：（全局命名空间必须是字典）</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> math <span class="keyword">import</span> sqrt</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>scope = &#123;&#125;  <span class="comment">#在全局环境定义一个命名空间</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>exec(<span class="string">'sqrt = 1'</span>, scope)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>sqrt(<span class="number">4</span>)</span><br><span class="line"><span class="number">2.0</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>scope[<span class="string">'sqrt'</span>]</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>

<p>在显式指定的局部空间下执行：（局部命名空间可以是任何映射）</p>
<h4 id="eval函数"><a href="#eval函数" class="headerlink" title="eval函数"></a>eval函数</h4><p><code>eval</code>函数计算用字符串表示的Python表达式的值，并返回结果。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>eval(input(<span class="string">"Enter an arithmetic expression: "</span>))</span><br><span class="line">Enter an arithmetic expression: <span class="number">6</span> + <span class="number">18</span> * <span class="number">2</span></span><br><span class="line"><span class="number">42</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>scope = &#123;&#125;  <span class="comment">#在全局环境定义一个命名空间</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>scope[<span class="string">'x'</span>] = <span class="number">2</span>  <span class="comment">#给全局命名空间添加一些值</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>exec(<span class="string">'y = 3'</span>, scope)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>eval(<span class="string">'x * y'</span>, scope)</span><br><span class="line"><span class="number">6</span></span><br></pre></td></tr></table></figure>

<p>与<code>exec</code>一样，也可向<code>eval</code>显式提供两个可选的命名空间（全局和局部）。</p>
<h2 id="生成器"><a href="#生成器" class="headerlink" title="生成器"></a>生成器</h2><p>生成器是包含<code>yield</code>语句的函数，但它被调用时<strong>不会执行函数体内的代码</strong>，而是返回一个迭代器。每次请求值时（例如调用<code>next</code>函数），都将执行生成器的代码，直到遇到<code>yield</code>或<code>return</code>。<code>yield</code>将生成一个值（即<code>yield</code>的参数）后，生成器都将被挂起，下次再调用时，从上次挂起处开始继续执行。而<code>return</code>语句停止执行生成器（即不再生成值）。</p>
<p>由于生成器返回迭代器，因此可以像使用其他迭代器一样使用它。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">flatten</span><span class="params">(nested)</span>:</span></span><br><span class="line">  <span class="keyword">try</span>:</span><br><span class="line">    <span class="comment">#不迭代类似于字符串的对象，因为字符串的第一个元素是一个长度为1的字符串，而长度为1的字符串的第一个元素仍是字符串。这会导致无穷递归。</span></span><br><span class="line">    <span class="keyword">try</span>: nested + <span class="string">''</span></span><br><span class="line">    <span class="keyword">except</span> TypeError: <span class="keyword">pass</span>  <span class="comment">#nested不是字符串</span></span><br><span class="line">    <span class="keyword">else</span>: <span class="keyword">raise</span> TypeError   <span class="comment">#nested是字符串</span></span><br><span class="line">    <span class="keyword">for</span> sublist <span class="keyword">in</span> nested:</span><br><span class="line">      <span class="keyword">for</span> element <span class="keyword">in</span> flatten(sublist):</span><br><span class="line">        <span class="keyword">yield</span> element</span><br><span class="line">  <span class="keyword">except</span> TypeError:</span><br><span class="line">    <span class="keyword">yield</span> nested  <span class="comment">#原样生成字符串</span></span><br><span class="line">-----------------------------------------------</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>nested = [<span class="string">'foo'</span>, [<span class="string">'bar'</span>, [<span class="string">'baz'</span>]]]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">for</span> s <span class="keyword">in</span> flatten(nested):</span><br><span class="line"><span class="meta">... </span>  print(s)</span><br><span class="line">...</span><br><span class="line">foo</span><br><span class="line">bar</span><br><span class="line">baz</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>list(flatten(nested))</span><br><span class="line">[<span class="string">'foo'</span>, <span class="string">'bar'</span>, <span class="string">'baz'</span>]</span><br></pre></td></tr></table></figure>

<p><code>yield</code>生成的值将通过<code>next</code>函数或它的迭代器的<code>__next__</code>方法来开始执行生成器代码，并在遇到<code>yield</code>时返回该生成的值。而<code>yield</code>表达式本身也有值，默认是<code>None</code>，可通过迭代器的<code>send</code>方法显式设置它的值。因此，只有当生成器挂起后（即<code>yield</code>生成一个值后），才能使用<code>send</code>方法（除非使用<code>send(None)</code>）。<code>send</code>方法在设置完成上一个<code>yield</code>表达式的值后，从挂起处继续执行生成器代码，直到遇到下一个<code>yield</code>，才返回该<code>yield</code>生成的值，并挂起生成器。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="function"><span class="keyword">def</span> <span class="title">repeater</span><span class="params">(value)</span>:</span></span><br><span class="line"><span class="meta">... </span>  <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line"><span class="meta">... </span>    new = (<span class="keyword">yield</span> value)</span><br><span class="line"><span class="meta">... </span>    print(<span class="string">'new is '</span>, new)</span><br><span class="line"><span class="meta">... </span>    <span class="keyword">if</span> new <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>: value = new</span><br><span class="line"><span class="meta">... </span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>r = repeater(<span class="number">42</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>next(r)</span><br><span class="line"><span class="number">42</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>next(r)</span><br><span class="line">new <span class="keyword">is</span> <span class="literal">None</span></span><br><span class="line"><span class="number">42</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>r.send(<span class="string">'Hello'</span>)</span><br><span class="line">new <span class="keyword">is</span> Hello</span><br><span class="line"><span class="string">'Hello'</span></span><br></pre></td></tr></table></figure>

<p><code>send</code>方法通常用作外部与生成器之间的通信渠道。</p>
<p>生成器还有另外两个方法：</p>
<ul>
<li><p><code>throw</code>方法：该方法被调用时，将在生成器上次挂起处引发异常。之后会继续执行生成器对象中后面的语句，直至遇到下一个<code>yield</code>。如果在生成器对象方法执行完毕后，依然没有遇到<code>yield</code>，抛出<code>StopIteration</code>异常。</p>
</li>
<li><p><code>close</code>方法：用于停止生成器。它将在生成器上次挂起处引发<code>GeneratorExit</code>异常。<br>如果要在生成器中提供一些清理代码，可将<code>yield</code>放在try-finally语句中。<br>对生成器调用<code>close</code>后，再试图从它那里获取值将导致<code>RuntimeError</code>异常。</p>
<p>如果愿意，也可捕获<code>GeneratorExit</code>异常，但随后必须：</p>
<ul>
<li>重新抛出它（可能在清理后）；</li>
<li>或者引发其他异常；</li>
<li>或者直接返回。</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="function"><span class="keyword">def</span> <span class="title">echo</span><span class="params">(value=None)</span>:</span></span><br><span class="line"><span class="meta">... </span>    print(<span class="string">"Execution starts when 'next()' is called for the first time."</span>)</span><br><span class="line"><span class="meta">... </span>    <span class="keyword">try</span>:</span><br><span class="line"><span class="meta">... </span>        <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line"><span class="meta">... </span>            <span class="keyword">try</span>:</span><br><span class="line"><span class="meta">... </span>                value = (<span class="keyword">yield</span> value)</span><br><span class="line"><span class="meta">... </span>            <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line"><span class="meta">... </span>                value = e</span><br><span class="line"><span class="meta">... </span>    <span class="keyword">finally</span>:</span><br><span class="line"><span class="meta">... </span>        print(<span class="string">"Don't forget to clean up when 'close()' is called."</span>)</span><br><span class="line">...</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>generator = echo(<span class="number">1</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(next(generator))</span><br><span class="line">Execution starts when <span class="string">'next()'</span> <span class="keyword">is</span> called <span class="keyword">for</span> the first time.</span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(next(generator))</span><br><span class="line"><span class="literal">None</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(generator.send(<span class="number">2</span>))</span><br><span class="line"><span class="number">2</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>generator.throw(TypeError, <span class="string">"spam"</span>)</span><br><span class="line">TypeError(<span class="string">'spam'</span>,)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>generator.close()</span><br><span class="line">Don<span class="string">'t forget to clean up when '</span>close()<span class="string">' is called.</span></span><br></pre></td></tr></table></figure>

<h3 id="生成器推导"><a href="#生成器推导" class="headerlink" title="生成器推导"></a>生成器推导</h3><p>生成器推导与列表推导类似，但不是立即创建一个列表，而是返回一个生成器。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>g = ((i + <span class="number">2</span>) ** <span class="number">2</span> <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">2</span>, <span class="number">27</span>))</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>next(g)</span><br><span class="line"><span class="number">16</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>sum(i ** <span class="number">2</span> <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">10</span>))</span><br><span class="line"><span class="number">285</span></span><br></pre></td></tr></table></figure>



<h1 id="面向对象编程"><a href="#面向对象编程" class="headerlink" title="面向对象编程"></a>面向对象编程</h1><p>类和对象是面向对象编程的两个主要概念。一个类创造了一种新的类型 ，而对象就是类的实例。</p>
<p>属于对象或者类的变量被称作字段，属于对象或者类的函数被称作方法。</p>
<p>字段有两种类型：他们可以属于每一个类的实例（也就是对象），也可以属于类本身。他们被分别称作实例变量和类的变量。</p>
<blockquote>
<p>Python 3开始不区分类和类型。</p>
</blockquote>
<h2 id="定义类"><a href="#定义类" class="headerlink" title="定义类"></a>定义类</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="class"><span class="keyword">class</span> <span class="title">Person</span>:</span></span><br><span class="line"><span class="meta">... </span>  <span class="function"><span class="keyword">def</span> <span class="title">set_name</span><span class="params">(self, name)</span>:</span></span><br><span class="line"><span class="meta">... </span>    self.name = name</span><br><span class="line"><span class="meta">... </span>  <span class="function"><span class="keyword">def</span> <span class="title">get_name</span><span class="params">(self)</span>:</span></span><br><span class="line"><span class="meta">... </span>    <span class="keyword">return</span> self.name</span><br><span class="line"><span class="meta">... </span>  <span class="function"><span class="keyword">def</span> <span class="title">greet</span><span class="params">(self)</span>:</span></span><br><span class="line"><span class="meta">... </span>    print(<span class="string">"Hello, world! I'm &#123;&#125;."</span>.format(self.name))</span><br><span class="line"><span class="meta">... </span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>foo = Person()  <span class="comment">#类实例化</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>foo.set_name(<span class="string">'Joy'</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>foo.greet()</span><br><span class="line">Hello, world! Im Joy.</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>foo.name</span><br><span class="line"><span class="string">'Joy'</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>Python 3之前创建的是旧式类，要创建新式类，要在脚本或模块开头放置赋值语句<code>__metaclass__ = type</code>，或者显式地直接或间接地继承内置类<code>object</code>。</p>
</blockquote>
<p>Python的类体实际上是一个代码块，在类体中可以包含各种语句。定义类其实就是在执行这个代码块：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="class"><span class="keyword">class</span> <span class="title">C</span>:</span></span><br><span class="line"><span class="meta">... </span>  print(<span class="string">'Class C being defined ...'</span>)</span><br><span class="line">...</span><br><span class="line">Class C being defined ...</span><br></pre></td></tr></table></figure>

<p>Python中一切皆对象，类定义完成后，会创建一个<strong>类对象</strong>，并在当前作用域中定义一个怀类同名的名字指向该类对象。</p>
<p>相应地，类实例化而得到的对象称为<strong>实例对象</strong>。</p>
<p>Python作为动态语言，类或实例的成员绑定可发生在两个地方：</p>
<ul>
<li>类定义时；</li>
<li>运行时任意阶段。</li>
</ul>
<p>类对象和实例对象都可以在运行时任意添加或删除成员。例如：<code>objname.attr = value</code>，若属性<code>attr</code>已经存在，则给它赋新值<code>value</code>；否则 ，为该对象添加新的属性。</p>
<h2 id="self"><a href="#self" class="headerlink" title="self"></a>self</h2><p>方法与函数相比只有一个区别——方法在入口参数表的开头必须有一个额外的形式参数，但是当你调用这个方法的时候，你不会为这个参数赋予任何一个值，Python 会提供给它。这个特别的参数指向对象本身，通常约定它的名字叫做 <code>self</code> ，尽管你可以给这个参数起任何一个名字，但是这里 <em>强烈推荐</em> 使用 <code>self</code>。</p>
<h2 id="成员"><a href="#成员" class="headerlink" title="成员"></a>成员</h2><h3 id="字段"><a href="#字段" class="headerlink" title="字段"></a>字段</h3><p>字段分为类字段和实例字段：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="class"><span class="keyword">class</span> <span class="title">MemberCounter</span>:</span></span><br><span class="line"><span class="meta">... </span>  members = <span class="number">0</span>  <span class="comment">#类字段</span></span><br><span class="line"><span class="meta">... </span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>m1 = MemberCounter()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>m1.members  <span class="comment">#引用类字段</span></span><br><span class="line"><span class="number">0</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>MemberCounter.members  <span class="comment">#引用类字段</span></span><br><span class="line"><span class="number">0</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>m2 = MemberCounter()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>m2.members  <span class="comment">#引用类字段</span></span><br><span class="line"><span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>MemberCounter.members = <span class="number">1</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>m1.members</span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>m2.members</span><br><span class="line"><span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>m2.members = <span class="number">2</span>  <span class="comment">#m2.members的重新赋值，将创建了一个实例字段members</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>m1.members  <span class="comment">#引用类字段</span></span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>MemberCounter.members</span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>m2.members  <span class="comment">#引用自己的实例字段</span></span><br><span class="line"><span class="number">2</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>MemberCounter.members = <span class="number">3</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>m1.members</span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>m2.members</span><br><span class="line"><span class="number">2</span></span><br></pre></td></tr></table></figure>

<h3 id="方法"><a href="#方法" class="headerlink" title="方法"></a>方法</h3><p>假设你有一个类叫做 <code>MyClass</code> 以及这个类的一个对象叫做 <code>myobject</code> 。当你需要这样调用这个对象的方法的时候：<code>myobject.method(arg1, arg2)</code> ，这个语句会被 Python 自动的转换成 <code>MyClass.method(myobject, arg1, arg2)</code> 这样的形式。但后者的多态性更低。</p>
<p>可以将字段或方法重新关联到一个普通函数，这时就没有特殊的<code>self</code>参数了，也就不可能访问当前对象了：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="class"><span class="keyword">class</span> <span class="title">Bird</span>:</span></span><br><span class="line"><span class="meta">... </span>  song = <span class="string">'Squaawk!'</span></span><br><span class="line"><span class="meta">... </span>  <span class="function"><span class="keyword">def</span> <span class="title">sing</span><span class="params">(self)</span>:</span></span><br><span class="line"><span class="meta">... </span>    print(self.song)</span><br><span class="line"><span class="meta">... </span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="function"><span class="keyword">def</span> <span class="title">function</span><span class="params">()</span>:</span></span><br><span class="line"><span class="meta">... </span>  print(<span class="string">"我没办法访问当前对象"</span>)</span><br><span class="line"><span class="meta">... </span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>bird = Bird()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>bird.sing()</span><br><span class="line">Squaawk!</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>birdsong = bird.sing</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>birdsong()</span><br><span class="line">Squaawk!</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>bird.sing = function</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>bird.sing()</span><br><span class="line">我没办法访问当前对</span><br></pre></td></tr></table></figure>

<h3 id="构造函数"><a href="#构造函数" class="headerlink" title="构造函数"></a>构造函数</h3><p>Python的构造函数是<code>__init__</code>，它将在创建对象自动被调用。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="class"><span class="keyword">class</span> <span class="title">FooBar</span>:</span></span><br><span class="line"><span class="meta">... </span>  <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line"><span class="meta">... </span>    self.somevar = <span class="number">42</span></span><br><span class="line">...</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>f = FooBar()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>f.somevar</span><br><span class="line"><span class="number">42</span></span><br></pre></td></tr></table></figure>

<p>构造函数还可以带除了<code>self</code>外的其他参数：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="class"><span class="keyword">class</span> <span class="title">FooBar</span>:</span></span><br><span class="line"><span class="meta">... </span>  <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, value = <span class="number">42</span>)</span>:</span></span><br><span class="line"><span class="meta">... </span>    self.somevar = value</span><br><span class="line">...</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>f = FooBar(<span class="string">'This is a constructor argument'</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>f.somevar</span><br><span class="line"><span class="string">'This is a constructor argument'</span></span><br></pre></td></tr></table></figure>

<h3 id="析构函数"><a href="#析构函数" class="headerlink" title="析构函数"></a>析构函数</h3><p>Python的析构函数是<code>__del__</code>，它将在对象被销毁（作为垃圾被回收）前被自动调用。</p>
<h3 id="property"><a href="#property" class="headerlink" title="property"></a>property</h3><p><code>property</code>类允许为字段提供获取方法（getter）和设置方法（setter），而且使用起来仍像个字段。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Rectangle</span>:</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">    self.width = <span class="number">0</span></span><br><span class="line">    self.height = <span class="number">0</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">set_size</span><span class="params">(self, size)</span>:</span></span><br><span class="line">    self.width, self.height = size</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">get_size</span><span class="params">(self)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> self.width, self.height</span><br><span class="line">  size = property(get_size, set_size)</span><br><span class="line">-------------------------------------------</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>r = Rectangle()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>r.width = <span class="number">10</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>r.height = <span class="number">5</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>r.size</span><br><span class="line">(<span class="number">10</span>, <span class="number">5</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>r.size = <span class="number">150</span>, <span class="number">100</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>r.width</span><br><span class="line"><span class="number">150</span></span><br></pre></td></tr></table></figure>

<p><code>property</code>构造函数可带0到4个参数。</p>
<ul>
<li>不带参数则这个property既不可读也不可写。</li>
<li>带一个参数则这个property只可读。</li>
<li>第一个参数是getter，第二个参数是setter，第三个参数是用于删除property的方法，第四个参数指定一个文档字符串。</li>
</ul>
<p>在旧式类中，可通过下面四个魔法方法中的后三个方法来实现property功能：</p>
<ul>
<li><code>__getattribute__(self, name)</code>：在property被访问时自动调用（只适用于新式类）；</li>
<li><code>__getattr__(self, name)</code>：在property被访问而对象没有这样的property时自动调用；</li>
<li><code>__setattr__(self, name, value)</code>：试图给property赋值时自动调用；</li>
<li><code>__delattr__(self, name)</code>：试图删除property时自动调用。</li>
</ul>
<h3 id="静态方法和类方法"><a href="#静态方法和类方法" class="headerlink" title="静态方法和类方法"></a>静态方法和类方法</h3><p>静态方法没有参数<code>self</code>，可直接通过类来调用。类方法有<code>cls</code>参数，它指向类对象本身，类方法可通过类或实例来调用。</p>
<p>有两种方式来定义静态方法和类方法：</p>
<ol>
<li><p>通过类<code>staticmethod</code>和<code>classmethod</code>来包装；</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyClass</span>:</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">smeth</span><span class="params">()</span>:</span></span><br><span class="line">    print(<span class="string">'This is a static method'</span>)</span><br><span class="line">  smeth = staticmethod(smeth)</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">cmeth</span><span class="params">(cls)</span>:</span></span><br><span class="line">    print(<span class="string">'This is a class method of '</span>, cls)</span><br><span class="line">  cmeth = classmethod(cmeth)</span><br></pre></td></tr></table></figure>
</li>
<li><p>通过装饰器<code>@staticmethod</code>和<code>@classmethod</code>为标记。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyClass</span>:</span></span><br><span class="line"><span class="meta">  @staticmethod</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">smeth</span><span class="params">()</span>:</span></span><br><span class="line">    print(<span class="string">'This is a static method'</span>)</span><br><span class="line"><span class="meta">  @classmethod</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">cmeth</span><span class="params">(cls)</span>:</span></span><br><span class="line">    print(<span class="string">'This is a class method of '</span>, cls)</span><br></pre></td></tr></table></figure>

</li>
</ol>
<p>定义这些方法后，无需实例化类就可以使用它们：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>MyClass.smeth()</span><br><span class="line">This <span class="keyword">is</span> a static method</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>MyClass.cmeth()</span><br><span class="line">This <span class="keyword">is</span> a <span class="class"><span class="keyword">class</span> <span class="title">method</span> <span class="title">of</span> &lt;<span class="title">class</span> '<span class="title">__main__</span>.<span class="title">MyClass</span>'&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="封装"><a href="#封装" class="headerlink" title="封装"></a>封装</h2><p>Python没有为可访问性提供直接支持，然而，通过玩点小花招，可以获得类似于私有成员的效果。</p>
<p>要让方法和字段成为私有的，只需要让其名称以两个下划线开头即可。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Secretive</span>:</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">__inaccessible</span><span class="params">(self)</span>:</span></span><br><span class="line">    print(<span class="string">"Bet you can't see me ..."</span>)</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">accessible</span><span class="params">(self)</span>:</span></span><br><span class="line">    print(<span class="string">"The secret message is:"</span>)</span><br><span class="line">    self.__inaccessible()</span><br></pre></td></tr></table></figure>

<p>现在从外部不能访问<code>__inaccessible</code>方法，但在类中依然可以使用它，这样的方法类似于其他语言中的私有方法。之所以有效是因为，Python对所有以两个下划线开头的名称都进行转换，即在开头加上一个下划线和类名作为前缀：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>s = Secretive()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s.__inaccessible()</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">"&lt;stdin&gt;"</span>, line <span class="number">1</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">AttributeError: Secretive instance has no attribute <span class="string">'__inaccessible'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>Secretive._Secretive__inaccessible()</span><br><span class="line">Bet you can<span class="string">'t see me ...</span></span><br></pre></td></tr></table></figure>

<p>只知道这种幕后处理手法，就能从类外部访问私有方法，然而不应该这样做。</p>
<p>另外，<code>from ... import *</code>语句不会导入以一个下划线开头的名称，而且Python也不会对以一个下划线开头的名称进行转换。也就是说，以一个下划线开头的名称可以在类外部访问，但不能通过<code>from ... import *</code>语句导入到其他模块。从某种程序上说，以一个或两个下划线开头相当于两种不同的私有程度。</p>
<h2 id="继承"><a href="#继承" class="headerlink" title="继承"></a>继承</h2><p>Python 3中所有类都隐式地继承<code>object</code>类。</p>
<h3 id="多重继承"><a href="#多重继承" class="headerlink" title="多重继承"></a>多重继承</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Calculator</span>:</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">calculate</span><span class="params">(self, expression)</span>:</span></span><br><span class="line">    self.value = eval(expression)</span><br><span class="line">    </span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Talker</span>:</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">talk</span><span class="params">(self)</span>:</span></span><br><span class="line">    print(<span class="string">'Hi, my value is '</span>, self.value)</span><br><span class="line">    </span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TalkingCalculator</span><span class="params">(Calculator, Talker)</span>:</span></span><br><span class="line">  <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<p>如果多个超类以不同方式实现了同一个方法，必须在<code>class</code>语句中小心排列这些超类。因为位于前面的类的方法将覆盖位于后面的类的方法。</p>
<h2 id="重写"><a href="#重写" class="headerlink" title="重写"></a>重写</h2><h3 id="重写普通方法"><a href="#重写普通方法" class="headerlink" title="重写普通方法"></a>重写普通方法</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="class"><span class="keyword">class</span> <span class="title">Filter</span>:</span></span><br><span class="line"><span class="meta">... </span>  <span class="function"><span class="keyword">def</span> <span class="title">init</span><span class="params">(self)</span>:</span></span><br><span class="line"><span class="meta">... </span>    self.blocked = []</span><br><span class="line"><span class="meta">... </span>  <span class="function"><span class="keyword">def</span> <span class="title">filter</span><span class="params">(self, seq)</span>:</span></span><br><span class="line"><span class="meta">... </span>    <span class="keyword">return</span> [x <span class="keyword">for</span> x <span class="keyword">in</span> seq <span class="keyword">if</span> x <span class="keyword">not</span> <span class="keyword">in</span> self.blocked]</span><br><span class="line">...</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="class"><span class="keyword">class</span> <span class="title">SPAMFilter</span><span class="params">(Filter)</span>:</span></span><br><span class="line"><span class="meta">... </span>  <span class="function"><span class="keyword">def</span> <span class="title">init</span><span class="params">(self)</span>:</span>  <span class="comment">#重写超类Filter的方法init</span></span><br><span class="line"><span class="meta">... </span>    self.blocked = [<span class="string">'SPAM'</span>]</span><br><span class="line">...</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>f = Filter()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>f.init()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>f.filter([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])</span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s = SPAMFilter()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s.init()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s.filter([<span class="string">'SPAM'</span>, <span class="string">'SPAM'</span>, <span class="string">'SPAM'</span>, <span class="string">'SPAM'</span>, <span class="string">'eggs'</span>, <span class="string">'bacon'</span>, <span class="string">'SPAM'</span>])</span><br><span class="line">[<span class="string">'eggs'</span>, <span class="string">'bacon'</span>]</span><br></pre></td></tr></table></figure>

<h3 id="重写构造函数"><a href="#重写构造函数" class="headerlink" title="重写构造函数"></a>重写构造函数</h3><p>在Python中，构造函数也是可以重写的。</p>
<p>在重写构造函数时，必须调用超类的构造函数，否则可能无法正确地初始化对象。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Bird</span>:</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">    self.hungry = <span class="literal">True</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">eat</span><span class="params">(self)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> self.hungry:</span><br><span class="line">      print(<span class="string">'Aaaah ...'</span>)</span><br><span class="line">      self.hungry = <span class="literal">False</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">      print(<span class="string">'No, thanks!'</span>)</span><br><span class="line">      </span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SongBird</span>:</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">    super().__init__()  <span class="comment">#也可以写成：super(SongBird, self).__init__()</span></span><br><span class="line">    self.sound = <span class="string">'Squawk!'</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">sing</span><span class="params">(self)</span>:</span></span><br><span class="line">    print(self.sound)</span><br></pre></td></tr></table></figure>

<p><code>super</code>函数是Python 3才有的，在这之前，通常使用下列代码来调用超类构造函数：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Bird.__init__(self)</span><br></pre></td></tr></table></figure>

<p>尽量使用<code>super</code>函数来调用超类构造函数，因为即便有多个超类，也只需要调用函数<code>super</code>一次（条件是所有超类的构造函数也使用<code>super</code>函数）。另外，<code>super</code>函数还会自动处理两个超类从同一个类派生而来的问题。</p>
<h2 id="多态"><a href="#多态" class="headerlink" title="多态"></a>多态</h2><h2 id="抽象类"><a href="#抽象类" class="headerlink" title="抽象类"></a>抽象类</h2><p>Python通过引入<code>abc</code>模块，对抽象类提供了支持。</p>
<p>抽象类的最重要特性是不能实例化。</p>
<h3 id="定义抽象类"><a href="#定义抽象类" class="headerlink" title="定义抽象类"></a>定义抽象类</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> abc <span class="keyword">import</span> ABC, abstractmethod</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Talker</span><span class="params">(ABC)</span>:</span></span><br><span class="line"><span class="meta">  @abstractmethod</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">talk</span><span class="params">(self)</span>:</span></span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<p>装饰器<code>@abstractmethod</code>用于将方法标记为抽象的——在子类中必须实现的方法。</p>
<p>继承抽象类的类，如果没有重写所有抽象方法，则该类仍然是抽象类。</p>
<h2 id="类注册"><a href="#类注册" class="headerlink" title="类注册"></a>类注册</h2><p>Python允许将没有继承关系的两个类，注册为好像有继承关系：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="class"><span class="keyword">class</span> <span class="title">Herring</span>:</span></span><br><span class="line"><span class="meta">... </span>  <span class="function"><span class="keyword">def</span> <span class="title">talk</span><span class="params">(self)</span>:</span></span><br><span class="line"><span class="meta">... </span>    print(<span class="string">'Blub.'</span>)</span><br><span class="line">...</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>h = Herring()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>isinstance(h, Talker)</span><br><span class="line"><span class="literal">False</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>Talker.register(Herring)</span><br><span class="line">&lt;<span class="class"><span class="keyword">class</span> '<span class="title">__main__</span>.<span class="title">Herring</span>'&gt;</span></span><br><span class="line"><span class="class">&gt;&gt;&gt; <span class="title">isinstance</span><span class="params">(h, Talker)</span></span></span><br><span class="line"><span class="class"><span class="title">True</span></span></span><br><span class="line"><span class="class">&gt;&gt;&gt; <span class="title">issubclass</span><span class="params">(Herring, Talker)</span></span></span><br><span class="line"><span class="class"><span class="title">True</span></span></span><br></pre></td></tr></table></figure>

<p>注意：上例的<code>Herring</code>类即使没有提供<code>talk</code>方法，仍然能注册成为<code>Talker</code>，只不过在调用<code>talk</code>方法将出错。</p>
<h1 id="数据结构"><a href="#数据结构" class="headerlink" title="数据结构"></a>数据结构</h1><h2 id="序列"><a href="#序列" class="headerlink" title="序列"></a>序列</h2><p>序列（Sequence）中的每个元素都有编号（或索引），其中第一个元素的索引为0。</p>
<p>Python中的序列有：列表、元组和字符串。</p>
<h3 id="通用操作"><a href="#通用操作" class="headerlink" title="通用操作"></a>通用操作</h3><h4 id="索引"><a href="#索引" class="headerlink" title="索引"></a>索引</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'Hello'</span>[<span class="number">0</span>]</span><br><span class="line"><span class="string">'H'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'Hello'</span>[<span class="number">-1</span>]</span><br><span class="line"><span class="string">'o'</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fourth = input(<span class="string">'Year: '</span>)[<span class="number">3</span>]</span><br><span class="line">Year: <span class="number">2005</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>fourth</span><br><span class="line"><span class="string">'5'</span></span><br></pre></td></tr></table></figure>

<p>负数索引表示从最后一个元素开始往左数。</p>
<h4 id="切片"><a href="#切片" class="headerlink" title="切片"></a>切片</h4><p>切片（Slicing）可用来访问序列中特定范围内的元素。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>numbers = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>numbers[<span class="number">3</span>:<span class="number">6</span>]</span><br><span class="line">[<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]</span><br></pre></td></tr></table></figure>

<p>冒号左边索引指定的元素包含在切片内，但冒号右边索引指定的元素不包含在切片内。</p>
<p>冒号右边索引可以超出序列索引的范围，例如：取出从第八个元素开始到序列结尾的所有元素：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>numbers[<span class="number">7</span>:<span class="number">12</span>]</span><br><span class="line">[<span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>]</span><br></pre></td></tr></table></figure>

<p>取出最后三个元素：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>numbers[<span class="number">-3</span>:]</span><br><span class="line">[<span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>numbers[<span class="number">-3</span>:<span class="number">-1</span>]</span><br><span class="line">[<span class="number">8</span>, <span class="number">9</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>numbers[<span class="number">-3</span>:<span class="number">0</span>]</span><br><span class="line">[]</span><br></pre></td></tr></table></figure>

<p>取出前三个元素：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>numbers[:<span class="number">3</span>]</span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br></pre></td></tr></table></figure>

<p>复制整个序列：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>numbers[:]</span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>]</span><br></pre></td></tr></table></figure>

<p>取出从第三个元素到倒数第三个元素的切片：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>numbers[<span class="number">2</span>:<span class="number">-2</span>]</span><br><span class="line">[<span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>]</span><br></pre></td></tr></table></figure>

<p>指定步长：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>numbers[:<span class="number">10</span>:<span class="number">2</span>]</span><br><span class="line">[<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">9</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>numbers[::<span class="number">-2</span>]    <span class="comment">#步长不能为0，但可以为负数，即从右向左提取元素</span></span><br><span class="line">[<span class="number">10</span>, <span class="number">8</span>, <span class="number">6</span>, <span class="number">4</span>, <span class="number">2</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>numbers[<span class="number">8</span>:<span class="number">3</span>:<span class="number">-1</span>]</span><br><span class="line">[<span class="number">9</span>, <span class="number">8</span>, <span class="number">7</span>, <span class="number">6</span>, <span class="number">5</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>numbers[<span class="number">5</span>::<span class="number">-2</span>]</span><br><span class="line">[<span class="number">6</span>, <span class="number">4</span>, <span class="number">2</span>]</span><br></pre></td></tr></table></figure>

<h4 id="拼接-1"><a href="#拼接-1" class="headerlink" title="拼接"></a>拼接</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>] + [<span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br></pre></td></tr></table></figure>

<h4 id="重复"><a href="#重复" class="headerlink" title="重复"></a>重复</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'#'</span> * <span class="number">5</span></span><br><span class="line"><span class="string">'#####'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">3</span> * [<span class="number">0</span>]</span><br><span class="line">[<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>]</span><br></pre></td></tr></table></figure>

<h4 id="in"><a href="#in" class="headerlink" title="in"></a>in</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>users = [<span class="string">'mlh'</span>, <span class="string">'foo'</span>, <span class="string">'bar'</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>input(<span class="string">"Enter your user name: "</span>) <span class="keyword">in</span> users</span><br><span class="line">Enter your user name: mlh</span><br><span class="line"><span class="literal">True</span></span><br></pre></td></tr></table></figure>

<p>通常<code>in</code>运算符只能检查指定一个元素（本身也可以是另一个序列）是否属于某个序列。但对于字符串，还可以检查字符串是否包含指定子串：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'P'</span> <span class="keyword">in</span> <span class="string">'Python'</span></span><br><span class="line"><span class="literal">True</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'foo'</span> <span class="keyword">in</span> <span class="string">'abcfoobar'</span></span><br><span class="line"><span class="literal">True</span></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">db = [[<span class="string">'tom'</span>, <span class="string">'123'</span>], [<span class="string">'kate'</span>, <span class="string">'2323'</span>]]</span><br><span class="line">username = input(<span class="string">'User name: '</span>)</span><br><span class="line">pin = input(<span class="string">"PIN code: "</span>)</span><br><span class="line"><span class="keyword">if</span> [username, pin] <span class="keyword">in</span> db: print(<span class="string">'Access granted'</span>)</span><br></pre></td></tr></table></figure>

<h4 id="元素个数"><a href="#元素个数" class="headerlink" title="元素个数"></a>元素个数</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>len(numbers)</span><br><span class="line"><span class="number">10</span></span><br></pre></td></tr></table></figure>

<h4 id="最大元素和最小元素"><a href="#最大元素和最小元素" class="headerlink" title="最大元素和最小元素"></a>最大元素和最小元素</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>max(numbers)</span><br><span class="line"><span class="number">10</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>min(numbers)</span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>min(<span class="number">9</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">5</span>)</span><br><span class="line"><span class="number">2</span></span><br></pre></td></tr></table></figure>



<h3 id="列表"><a href="#列表" class="headerlink" title="列表"></a>列表</h3><p>列表是可以修改的序列。</p>
<p>列表类型是<code>list</code>。</p>
<h4 id="列表字面量"><a href="#列表字面量" class="headerlink" title="列表字面量"></a>列表字面量</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="string">'ok'</span>]</span><br></pre></td></tr></table></figure>

<h4 id="构造列表"><a href="#构造列表" class="headerlink" title="构造列表"></a>构造列表</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>list(<span class="string">'Hello'</span>)</span><br><span class="line">[<span class="string">'H'</span>, <span class="string">'e'</span>, <span class="string">'l'</span>, <span class="string">'l'</span>, <span class="string">'o'</span>]</span><br></pre></td></tr></table></figure>

<blockquote>
<p>要将字符序列转换为字符串，可使用<code>.join()</code>方法。</p>
</blockquote>
<h4 id="使用列表"><a href="#使用列表" class="headerlink" title="使用列表"></a>使用列表</h4><h5 id="给元素赋值"><a href="#给元素赋值" class="headerlink" title="给元素赋值"></a>给元素赋值</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>names = [<span class="string">'Alice'</span>, <span class="string">'Beth'</span>, <span class="string">'Tom'</span>, <span class="string">'Mary'</span>, <span class="string">'Rose'</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>names[<span class="number">1</span>] = <span class="string">'Kate'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>names</span><br><span class="line">[<span class="string">'Alice'</span>, <span class="string">'Kate'</span>, <span class="string">'Tom'</span>, <span class="string">'Mary'</span>, <span class="string">'Rose'</span>]</span><br></pre></td></tr></table></figure>

<blockquote>
<p>注意：不能给不存在的元素赋值，例如，<code>names[100]=&#39;Eric&#39;</code></p>
</blockquote>
<h5 id="移除元素"><a href="#移除元素" class="headerlink" title="移除元素"></a>移除元素</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>names = [<span class="string">'Alice'</span>, <span class="string">'Kate'</span>, <span class="string">'Tom'</span>, <span class="string">'Mary'</span>, <span class="string">'Rose'</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">#删除指定索引处的元素</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">del</span> names[<span class="number">2</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>names</span><br><span class="line">[<span class="string">'Alice'</span>, <span class="string">'Kate'</span>, <span class="string">'Mary'</span>, <span class="string">'Rose'</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">#弹出元素并返回这个非None元素</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a.pop()  <span class="comment">#弹出末尾元素</span></span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a</span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a.pop(<span class="number">0</span>) <span class="comment">#弹出指定索引处的元素</span></span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a</span><br><span class="line">[<span class="number">2</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">#删除列表中第一个为指定值的元素,如果列表中不存在指定值则引发异常</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>x = [<span class="string">'to'</span>, <span class="string">'be'</span>, <span class="string">'or'</span>, <span class="string">'not'</span>, <span class="string">'to'</span>, <span class="string">'be'</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>x.remove(<span class="string">'be'</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>x</span><br><span class="line">[<span class="string">'to'</span>, <span class="string">'or'</span>, <span class="string">'not'</span>, <span class="string">'to'</span>, <span class="string">'be'</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">#清空列表</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>lst = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>lst.clear()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>lst</span><br><span class="line">[]</span><br></pre></td></tr></table></figure>

<h5 id="切片操作"><a href="#切片操作" class="headerlink" title="切片操作"></a>切片操作</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#给切片赋值</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>name = list(<span class="string">'Perl'</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>name</span><br><span class="line">[<span class="string">'P'</span>, <span class="string">'e'</span>, <span class="string">'r'</span>, <span class="string">'l'</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>name[<span class="number">1</span>:] = list(<span class="string">'ython'</span>)  <span class="comment">#可将切片替换为长度与其不同的序列。</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>name</span><br><span class="line">[<span class="string">'P'</span>, <span class="string">'y'</span>, <span class="string">'t'</span>, <span class="string">'h'</span>, <span class="string">'o'</span>, <span class="string">'n'</span>]</span><br><span class="line"><span class="comment"># 使用切片赋值还可在不替换原有元素的情况下插入新元素：</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>numbers = [<span class="number">1</span>, <span class="number">5</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>numbers[<span class="number">1</span>:<span class="number">1</span>] = [<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>] <span class="comment">#替换了一个空切片，相当于插入</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>numbers</span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>numbers[<span class="number">1</span>:<span class="number">4</span>] = []  <span class="comment">#给切片赋空序列，相当于删除切片，即：del numbers[1:4]</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>numbers</span><br><span class="line">[<span class="number">1</span>, <span class="number">5</span>]</span><br></pre></td></tr></table></figure>

<h5 id="添加元素"><a href="#添加元素" class="headerlink" title="添加元素"></a>添加元素</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#将一个对象附加到列表末尾</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>lst = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>lst.append(<span class="number">4</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>lst</span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">#扩展列表</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b = [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a.extend(b)   <span class="comment">#也可以是：a[len(a):] = b</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a  <span class="comment">#扩展会直接修改被扩展的列表，而拼接则是返回一个全新列表</span></span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">#在指定索引前插入元素</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a.insert(<span class="number">2</span>, <span class="string">'four'</span>)  <span class="comment">#相当于：a[2:2] = ['four']</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a</span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="string">'four'</span>, <span class="number">3</span>]</span><br></pre></td></tr></table></figure>

<h5 id="复制列表"><a href="#复制列表" class="headerlink" title="复制列表"></a>复制列表</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#复制列表</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b = a.copy()  <span class="comment">#也可以使用：b = a[:] 或 b = list(a)</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b[<span class="number">1</span>] =<span class="number">4</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a</span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"><span class="comment">#只是将a赋值给b，并不是复制，这时a和b指向同一个列表：</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b = a</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b[<span class="number">1</span>] =<span class="number">4</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a</span><br><span class="line">[<span class="number">1</span>, <span class="number">4</span>, <span class="number">3</span>]</span><br></pre></td></tr></table></figure>

<h5 id="查找统计"><a href="#查找统计" class="headerlink" title="查找统计"></a>查找统计</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#统计元素在列表中出现的次数</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>[<span class="string">'to'</span>, <span class="string">'be'</span>, <span class="string">'or'</span>, <span class="string">'not'</span>, <span class="string">'to'</span>, <span class="string">'be'</span>].count(<span class="string">'to'</span>)</span><br><span class="line"><span class="number">2</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>x = [[<span class="number">1</span>, <span class="number">2</span>], <span class="number">1</span>, <span class="number">1</span>, [<span class="number">2</span>, <span class="number">1</span>, [<span class="number">1</span>, <span class="number">2</span>]]]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>x.count(<span class="number">1</span>)</span><br><span class="line"><span class="number">2</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>x.count([<span class="number">1</span>, <span class="number">2</span>])</span><br><span class="line"><span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#查找指定值在列表中第一次出现的索引</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>knights = [<span class="string">'We'</span>, <span class="string">'are'</span>, <span class="string">'the'</span>, <span class="string">'knights'</span>, <span class="string">'who'</span>, <span class="string">'say'</span>, <span class="string">'ni'</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>knights.index(<span class="string">'who'</span>)</span><br><span class="line"><span class="number">4</span></span><br><span class="line"><span class="comment">#如果在列表中没有找到指定值，将引发异常</span></span><br></pre></td></tr></table></figure>

<h5 id="反转列表"><a href="#反转列表" class="headerlink" title="反转列表"></a>反转列表</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = [<span class="number">1</span>, <span class="number">7</span>, <span class="number">3</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a.reverse()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a</span><br><span class="line">[<span class="number">3</span>, <span class="number">7</span>, <span class="number">1</span>]</span><br><span class="line"><span class="comment">#如果希望按相反顺序迭代列表，则使用reversed函数。它返回一个迭代器，因此，不会修改原列表。</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>list(reversed(b))  <span class="comment">#list可以将迭代器转换成列表</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b</span><br><span class="line">[<span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>]</span><br></pre></td></tr></table></figure>

<p>另外，方法<code>reverse</code>只能用于列表，而函数<code>reversed</code>可用于任何可迭代对象。</p>
<h5 id="排序"><a href="#排序" class="headerlink" title="排序"></a>排序</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>x = [<span class="number">4</span>, <span class="number">6</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">7</span>, <span class="number">9</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>x.sort()  <span class="comment">#按升序排序</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>x</span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">9</span>]</span><br><span class="line"><span class="comment">#不修改原列表，而是返回一个新的已排序列表，使用sorted函数</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>x = [<span class="number">4</span>, <span class="number">6</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">7</span>, <span class="number">9</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>y = sorted(x)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>x</span><br><span class="line">[<span class="number">4</span>, <span class="number">6</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">7</span>, <span class="number">9</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>y</span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">9</span>]</span><br><span class="line"><span class="comment">#sort方法和sorted函数都可以接受两个可选参数：key和reverse。</span></span><br><span class="line"><span class="comment">#key参数是一个函数，用它来为每个元素生成一个键，再根据这些键对元素进行排序：</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s = [<span class="string">'aardvade'</span>, <span class="string">'abdlef'</span>, <span class="string">'acme'</span>, <span class="string">'add'</span>, <span class="string">'aegie'</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s.sort(key=len)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s</span><br><span class="line">[<span class="string">'add'</span>, <span class="string">'acme'</span>, <span class="string">'aegie'</span>, <span class="string">'abdlef'</span>, <span class="string">'aardvade'</span>]</span><br><span class="line"><span class="comment">#reverse是一个布尔值，指示是否对列表进行倒序排列：</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>x = [<span class="number">4</span>, <span class="number">6</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">7</span>, <span class="number">9</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>x.sort(reverse=<span class="literal">True</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>x</span><br><span class="line">[<span class="number">9</span>, <span class="number">7</span>, <span class="number">6</span>, <span class="number">4</span>, <span class="number">2</span>, <span class="number">1</span>]</span><br></pre></td></tr></table></figure>

<p>另外，方法<code>sort</code>只能用于列表，而函数<code>sorted</code>可用于任何可迭代对象。</p>
<blockquote>
<p>注意：<code>sorted</code>返回的是一个列表，而<code>reversed</code>返回一个可迭代对象。</p>
</blockquote>
<h5 id="列表推导"><a href="#列表推导" class="headerlink" title="列表推导"></a>列表推导</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>[x * x <span class="keyword">for</span> x <span class="keyword">in</span> range(<span class="number">10</span>)]</span><br><span class="line">[<span class="number">0</span>, <span class="number">1</span>, <span class="number">4</span>, <span class="number">9</span>, <span class="number">16</span>, <span class="number">25</span>, <span class="number">36</span>, <span class="number">49</span>, <span class="number">64</span>, <span class="number">81</span>]</span><br></pre></td></tr></table></figure>

<p>可以给列表推导加一个“Guard”，使得只有满足条件的元素才会出现在生成的列表中：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>[x * x <span class="keyword">for</span> x <span class="keyword">in</span> range(<span class="number">10</span>) <span class="keyword">if</span> x % <span class="number">3</span> == <span class="number">0</span>]</span><br><span class="line">[<span class="number">0</span>, <span class="number">9</span>, <span class="number">36</span>, <span class="number">81</span>]</span><br></pre></td></tr></table></figure>

<p>列表推导中可以出现多个for部分：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>[(x, y) <span class="keyword">for</span> x <span class="keyword">in</span> range(<span class="number">3</span>) <span class="keyword">for</span> y <span class="keyword">in</span> range(<span class="number">3</span>) <span class="keyword">if</span> x == y]</span><br><span class="line">[(<span class="number">0</span>, <span class="number">0</span>), (<span class="number">1</span>, <span class="number">1</span>), (<span class="number">2</span>, <span class="number">2</span>)]</span><br></pre></td></tr></table></figure>

<h3 id="元组"><a href="#元组" class="headerlink" title="元组"></a>元组</h3><p>元组是不可以修改的序列。</p>
<p>元组类型是<code>tuple</code>。</p>
<h4 id="元组字面量"><a href="#元组字面量" class="headerlink" title="元组字面量"></a>元组字面量</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>  <span class="comment">#圆括号是可选的</span></span><br><span class="line">(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>()  <span class="comment">#空元组</span></span><br><span class="line">()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">42</span>,  <span class="comment">#单个元素的元组，逗号不能省略</span></span><br><span class="line">(<span class="number">42</span>,)</span><br></pre></td></tr></table></figure>

<h4 id="构造元组"><a href="#构造元组" class="headerlink" title="构造元组"></a>构造元组</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>tuple([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])</span><br><span class="line">(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>tuple(<span class="string">'abc'</span>)</span><br><span class="line">(<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>)</span><br></pre></td></tr></table></figure>

<h4 id="使用元组"><a href="#使用元组" class="headerlink" title="使用元组"></a>使用元组</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>x = <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>x[<span class="number">0</span>:<span class="number">2</span>]</span><br><span class="line">(<span class="number">1</span>, <span class="number">2</span>)</span><br></pre></td></tr></table></figure>

<p>元组的切片也是元组，就像列表的切片也是列表一样。</p>
<p>元组可以作为映射中的键，而列表不行。因为，映射的键必须是不可修改的。</p>
<h2 id="映射"><a href="#映射" class="headerlink" title="映射"></a>映射</h2><h3 id="字典"><a href="#字典" class="headerlink" title="字典"></a>字典</h3><p>字典是Python中唯一的内置映射类型。</p>
<p>字典类型是<code>dict</code>。</p>
<h4 id="字典字面量"><a href="#字典字面量" class="headerlink" title="字典字面量"></a>字典字面量</h4><p>字典由若干个键-值对组成，这种键-值对称为项（Item）。</p>
<p>每个键与其值之间都用冒号分隔，项之间用逗号分隔，而整个字典放在花括号内。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="string">'age'</span>: <span class="number">42</span>, <span class="string">'name'</span>: <span class="string">'Gumby'</span>&#125;</span><br></pre></td></tr></table></figure>

<p>字典的键可以是数、字符串或元组，即任何不可变的类型。在字典中，键必须是独一无二的，而字典中的值无此限制。</p>
<p><code>{}</code>表示 空字典。</p>
<h4 id="构造字典"><a href="#构造字典" class="headerlink" title="构造字典"></a>构造字典</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>items = [(<span class="string">'name'</span>, <span class="string">'Gumby'</span>), (<span class="string">'age'</span>, <span class="number">42</span>)]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>d = dict(items)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>d</span><br><span class="line">&#123;<span class="string">'age'</span>: <span class="number">42</span>, <span class="string">'name'</span>: <span class="string">'Gumby'</span>&#125;</span><br></pre></td></tr></table></figure>

<p>通过<code>fromkeys</code>方法，可以从一个键列表中构造字典，且每个键对应的值默认是<code>None</code>：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>&#123;&#125;.fromkeys([<span class="string">'name'</span>, <span class="string">'age'</span>])</span><br><span class="line">&#123;<span class="string">'age'</span>: <span class="literal">None</span>, <span class="string">'name'</span>: <span class="literal">None</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>dict.fromkeys([<span class="string">'name'</span>, <span class="string">'age'</span>])  <span class="comment">#也可以直接在类dict上调用fromkey方法</span></span><br><span class="line">&#123;<span class="string">'age'</span>: <span class="literal">None</span>, <span class="string">'name'</span>: <span class="literal">None</span>&#125;</span><br></pre></td></tr></table></figure>

<p>如果不想使用默认值<code>None</code> ，可提供特定的值：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>dict.fromkeys([<span class="string">'name'</span>, <span class="string">'age'</span>], <span class="string">'(unknown)'</span>)</span><br><span class="line">&#123;<span class="string">'age'</span>: <span class="string">'(unknown)'</span>, <span class="string">'name'</span>: <span class="string">'(unknown)'</span>&#125;</span><br></pre></td></tr></table></figure>

<h4 id="使用字典"><a href="#使用字典" class="headerlink" title="使用字典"></a>使用字典</h4><h5 id="基本操作"><a href="#基本操作" class="headerlink" title="基本操作"></a>基本操作</h5><ul>
<li><code>len(d)</code>返回字典d包含的项的数目。</li>
<li><code>d[k]</code>返回与键k相关联的值。用这种方式试图访问字典中没有的项，将引发异常。</li>
<li><code>d[k] = v</code>将值v关联到键k。如果给字典中没有的键赋值，则会创建一个新项。</li>
<li><code>del d[k]</code>删除键为k的项。</li>
<li><code>k in d</code>检查字典d中是否包含键k的项。</li>
</ul>
<h5 id="清空字典"><a href="#清空字典" class="headerlink" title="清空字典"></a>清空字典</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>d = &#123;&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>d[<span class="string">'name'</span>] = <span class="string">'Gumby'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>d[<span class="string">'age'</span>] = <span class="number">42</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>d</span><br><span class="line">&#123;<span class="string">'age'</span>: <span class="number">42</span>, <span class="string">'name'</span>: <span class="string">'Gumby'</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>returned_value = d.clear()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>d</span><br><span class="line">&#123;&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(returned_value)  <span class="comment">#在交互式环境中，直接执行None，将不会输出任何东西，所以需要一个print函数来输出None</span></span><br><span class="line"><span class="literal">None</span></span><br></pre></td></tr></table></figure>

<h5 id="复制字典"><a href="#复制字典" class="headerlink" title="复制字典"></a>复制字典</h5><p>浅复制：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>x = &#123;<span class="string">'username'</span>: <span class="string">'admin'</span>, <span class="string">'machines'</span>: [<span class="string">'foo'</span>, <span class="string">'bar'</span>, <span class="string">'baz'</span>]&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>y = x.copy()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>y[<span class="string">'username'</span>] = <span class="string">'mlh'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>y[<span class="string">'machines'</span>].remove(<span class="string">'bar'</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>y</span><br><span class="line">&#123;<span class="string">'username'</span>: <span class="string">'mlh'</span>, <span class="string">'machines'</span>: [<span class="string">'foo'</span>, <span class="string">'baz'</span>]&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>x</span><br><span class="line">&#123;<span class="string">'username'</span>: <span class="string">'admin'</span>, <span class="string">'machines'</span>: [<span class="string">'foo'</span>, <span class="string">'baz'</span>]&#125;</span><br></pre></td></tr></table></figure>

<p>浅复制时，当替换副本中的值时，原件不受影响；而当修改副本中的值时，原件也将发生变化。</p>
<p>深复制：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> copy <span class="keyword">import</span> deepcopy</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>d = &#123;&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>d[<span class="string">'names'</span>] = [<span class="string">'Alfred'</span>, <span class="string">'Bretrand'</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>c = d.copy()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>dc = deepcopy(d)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>d[<span class="string">'names'</span>].append(<span class="string">'Clive'</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>c</span><br><span class="line">&#123;<span class="string">'names'</span>: [<span class="string">'Alfred'</span>, <span class="string">'Bretrand'</span>, <span class="string">'Clive'</span>]&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>dc</span><br><span class="line">&#123;<span class="string">'names'</span>: [<span class="string">'Alfred'</span>, <span class="string">'Bretrand'</span>]&#125;</span><br></pre></td></tr></table></figure>

<h5 id="get方法"><a href="#get方法" class="headerlink" title="get方法"></a>get方法</h5><p><code>get</code>方法与<code>d[k]</code>类似，但<code>get</code>方法访问字典中没有的项时，不会引发异常，默认将返回<code>None</code>。</p>
<p>可以通过<code>get</code>方法的第二个参数来显式指定当访问字典中没有的项时的返回值：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>d = &#123;&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(d.get(<span class="string">'name'</span>))</span><br><span class="line"><span class="literal">None</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>d.get(<span class="string">'name'</span>, <span class="string">'N/A'</span>)</span><br><span class="line"><span class="string">'N/A'</span></span><br></pre></td></tr></table></figure>

<h5 id="setdefault方法"><a href="#setdefault方法" class="headerlink" title="setdefault方法"></a>setdefault方法</h5><p><code>setdefault</code>方法类似于<code>get</code>方法，但<code>setdefault</code>方法会在指定键不存在时，会创建该键，关联的值默认为<code>None</code>，也可自己指定。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>d = &#123;&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(d.setdefault(<span class="string">'name'</span>))  <span class="comment">#没有显式指定默认值时，则值为None</span></span><br><span class="line"><span class="literal">None</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>d</span><br><span class="line">&#123;<span class="string">'name'</span>: <span class="literal">None</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>d.setdefault(<span class="string">'age'</span>, <span class="number">18</span>)</span><br><span class="line"><span class="number">18</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>d</span><br><span class="line">&#123;<span class="string">'name'</span>: <span class="literal">None</span>, <span class="string">'age'</span>: <span class="number">18</span>&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>如果希望有用于整个字典的全局默认值，请参阅模块<code>collections</code>中的<code>defaultdict</code>类。</p>
</blockquote>
<h5 id="pop方法"><a href="#pop方法" class="headerlink" title="pop方法"></a>pop方法</h5><p><code>pop</code>方法用于获取与指定键相关联的值，并将该字典项从字典中删除：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>d = &#123;<span class="string">'x'</span>: <span class="number">1</span>, <span class="string">'y'</span>: <span class="number">2</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>d.pop(<span class="string">'x'</span>)</span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>d</span><br><span class="line">&#123;<span class="string">'y'</span>: <span class="number">2</span>&#125;</span><br></pre></td></tr></table></figure>

<h5 id="popitem方法"><a href="#popitem方法" class="headerlink" title="popitem方法"></a>popitem方法</h5><p>方法<code>popitem</code>随机地（因为字典是无序的）获取一个字典项，并将该字典项从字典中删除：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>d = &#123;<span class="string">'title'</span>: <span class="string">'Python Web Site'</span>, <span class="string">'url'</span>: <span class="string">'http://www.python.org'</span>, <span class="string">'spam'</span>: <span class="number">0</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>d.popitem()</span><br><span class="line">(<span class="string">'url'</span>, <span class="string">'http://www.python.org'</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>d</span><br><span class="line">&#123;<span class="string">'spam'</span>: <span class="number">0</span>, <span class="string">'title'</span>: <span class="string">'Python Web Site'</span>&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>如果希望方法<code>popitem</code>以可预测的顺序弹出字典项，请参阅模块<code>collections</code>中的<code>OrderedDict</code>类。</p>
</blockquote>
<h5 id="将字典转化为项的列表"><a href="#将字典转化为项的列表" class="headerlink" title="将字典转化为项的列表"></a>将字典转化为项的列表</h5><p>方法<code>items</code>返回一个包含字典所有项的<strong>字典视图</strong>，它的每个元素都为<code>(key, value)</code>的形式，对字典的修改将直接反映到视图上。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>d = &#123;<span class="string">'title'</span>: <span class="string">'Python Web Site'</span>, <span class="string">'url'</span>: <span class="string">'http://www.python.org'</span>, <span class="string">'spam'</span>: <span class="number">0</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>it = d.items()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>it</span><br><span class="line">dict_items([(<span class="string">'url'</span>, <span class="string">'http://www.python.org'</span>), (<span class="string">'spam'</span>, <span class="number">0</span>), (<span class="string">'title'</span>, <span class="string">'Python Web Site'</span>)])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>d[<span class="string">'spam'</span>] = <span class="number">1</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>(<span class="string">'spam'</span>, <span class="number">0</span>) <span class="keyword">in</span> it</span><br><span class="line"><span class="literal">False</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>(<span class="string">'spam'</span>, <span class="number">1</span>) <span class="keyword">in</span> it</span><br><span class="line"><span class="literal">True</span></span><br></pre></td></tr></table></figure>

<p>如果要将字典项复制到列表，则可以：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>list(d.items())</span><br><span class="line">[(<span class="string">'spam'</span>, <span class="number">0</span>), (<span class="string">'title'</span>, <span class="string">'Python Web Site'</span>), (<span class="string">'url'</span>, <span class="string">'http://www.python.org'</span>)]</span><br></pre></td></tr></table></figure>

<h5 id="keys方法"><a href="#keys方法" class="headerlink" title="keys方法"></a>keys方法</h5><p><code>keys</code>方法返回一个字典中的键组成的字典视图。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>d = &#123;<span class="string">'title'</span>: <span class="string">'Python Web Site'</span>, <span class="string">'url'</span>: <span class="string">'http://www.python.org'</span>, <span class="string">'spam'</span>: <span class="number">0</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>d.keys()</span><br><span class="line">dict_keys([<span class="string">'title'</span>, <span class="string">'url'</span>, <span class="string">'spam'</span>])</span><br></pre></td></tr></table></figure>

<h5 id="values方法"><a href="#values方法" class="headerlink" title="values方法"></a>values方法</h5><p><code>values</code>方法返回一个字典中的值组成的字典视图。返回的字典视图可能包含重复的值。</p>
<h5 id="update方法"><a href="#update方法" class="headerlink" title="update方法"></a>update方法</h5><p><code>update</code>方法使用一个字典中的项来更新另一个字典：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>d = &#123;</span><br><span class="line">  <span class="string">'title'</span>: <span class="string">'Python Web Site'</span>, </span><br><span class="line">  <span class="string">'url'</span>: <span class="string">'http://www.python.org'</span>,</span><br><span class="line">  <span class="string">'changed'</span>: <span class="string">'Mar 14 22:09:15 MET 2016'</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>x = &#123;<span class="string">'title'</span>: <span class="string">'Python Language Website'</span>, <span class="string">'spam'</span>: <span class="number">0</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>d.update(x)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>d</span><br><span class="line">&#123;<span class="string">'title'</span>: <span class="string">'Python Language Website'</span>, <span class="string">'url'</span>: <span class="string">'http://www.python.org'</span>, <span class="string">'changed'</span>: <span class="string">'Mar 14 22:09:15 MET 2016'</span>, <span class="string">'spam'</span>: <span class="number">0</span>&#125;</span><br></pre></td></tr></table></figure>

<p>字典x中的所有项都将添加到字典d中，如果两个字典存在相同的键，则用字典x中的项替换字典d中的项。</p>
<h5 id="字典推导"><a href="#字典推导" class="headerlink" title="字典推导"></a>字典推导</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>squares = &#123;i: <span class="string">'&#123;&#125; squared is &#123;&#125;'</span>.format(i, i**<span class="number">2</span>) <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">10</span>)&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>squares[<span class="number">8</span>]</span><br><span class="line"><span class="string">'8 squared is 64'</span></span><br></pre></td></tr></table></figure>

<p>在列表推导中，for前面只有一个表达式，而在字典推导中，for前面有两个用冒号分隔的表达式，这两个表达式分别为键及其对应的值。</p>
<h2 id="集合"><a href="#集合" class="headerlink" title="集合"></a>集合</h2><p>早期Python的集合是由模块<code>sets</code>中的<code>Set</code>类实现的，现在集合是由内置类<code>set</code>实现的。</p>
<p>集合是可变的，因此不能用作字典的键。另外，集合中只能包含不可变的值，因此集合中不能包含其他集合。</p>
<p>如果要使用可变的集合，要使用<code>frozenset</code>类型。</p>
<h3 id="集合字面量"><a href="#集合字面量" class="headerlink" title="集合字面量"></a>集合字面量</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>&#125;</span><br></pre></td></tr></table></figure>

<p>注意：<code>{}</code>是空字典，而不是空集。空集表示为<code>set()</code>。</p>
<p>集合将忽略重复的元素：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>&#123;<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;</span><br><span class="line">&#123;<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;</span><br></pre></td></tr></table></figure>

<p>与字典一样，集合中元素的排列顺序是不确定的。 </p>
<h3 id="构造集"><a href="#构造集" class="headerlink" title="构造集"></a>构造集</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>set(range(<span class="number">10</span>))</span><br><span class="line">&#123;<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>&#125;</span><br></pre></td></tr></table></figure>

<h3 id="使用集合"><a href="#使用集合" class="headerlink" title="使用集合"></a>使用集合</h3><p>并集：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b = &#123;<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a.union(b)</span><br><span class="line">&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a | b</span><br><span class="line">&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>&#125;</span><br></pre></td></tr></table></figure>

<p>其他操作：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>c = a &amp; b</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>c</span><br><span class="line">&#123;<span class="number">2</span>, <span class="number">3</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>c.issubset(a)</span><br><span class="line"><span class="literal">True</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>c &lt;= a</span><br><span class="line"><span class="literal">True</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>c.issuperset(a)</span><br><span class="line"><span class="literal">False</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a.intersection(b)</span><br><span class="line">&#123;<span class="number">2</span>, <span class="number">3</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a.difference(b)</span><br><span class="line">&#123;<span class="number">1</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a - b</span><br><span class="line">&#123;<span class="number">1</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a.symmetric_difference(b)</span><br><span class="line">&#123;<span class="number">1</span>, <span class="number">4</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a ^ b</span><br><span class="line">&#123;<span class="number">1</span>, <span class="number">4</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a.copy()</span><br><span class="line">&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a.copy() <span class="keyword">is</span> a</span><br><span class="line"><span class="literal">False</span></span><br></pre></td></tr></table></figure>

<h2 id="堆"><a href="#堆" class="headerlink" title="堆"></a>堆</h2><p>Python中实际上没有堆类型，而只有一个包含一些堆操作函数的模块<code>heapq</code>，堆对象使用列表来表示。</p>
<h2 id="实现自己的集合类型"><a href="#实现自己的集合类型" class="headerlink" title="实现自己的集合类型"></a>实现自己的集合类型</h2><p>要实现自己的自己的集合类型，最简单的作法是继承<code>list</code>、<code>dict</code>、<code>str</code>等类，或者继承<code>collections</code>模块提供的类。</p>
<p>另外，由于鸭子类型的缘故，也可以不继承任何集合类型，而是在自己的集合类中定义如下4个魔法方法：</p>
<ul>
<li><code>__len__(self)</code>：这个方法应返回集合包含的项数，对序列来说为元素个数 ，对映射来说为键-值对个数。如果<code>__len__</code>返回0，且没有重写<code>__nonzero__</code>方法，则对象在布尔上下文中将被视为假（就像空的列表、元组、字符串和字典一样）。另外，如果没有实现<code>__len__</code>方法，则集合的长度是无穷的。</li>
<li><code>__getitem__(self, key)</code>：这个方法应返回与指定键相关联的值，它在使用语法<code>集合对象[key]</code>访问集合元素时被调用。对序列来说，键应该是<code>-n</code>到<code>n-1</code>之间的整数，其中<code>n</code>为序列的长度。对映射来说，键可以是任何类型。</li>
<li><code>__setitem__(self, key, value)</code>：这个方法应以与键相关联的方式存储值。仅当对象可变时才需要实现这个方法。</li>
<li><code>__delitem__(self, key)</code>：这个方法在对对象的组成部分使用<code>del</code>语句时被调用。仅当对象可变时才需要实现这个方法。</li>
</ul>
<p>对于这些方法，还有一些额外的要求：</p>
<ul>
<li>对于序列，如果键为负整数，应从末尾往前数。</li>
<li>如果键的类型不合适，可能引发<code>TypeError</code>异常。</li>
<li>对于序列，如果索引的类型是正确的，但不在允许的范围内，应引发<code>IndexError</code>异常。</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">check_index</span><span class="params">(key)</span>:</span></span><br><span class="line">  <span class="keyword">if</span> <span class="keyword">not</span> isinstance(key, int): <span class="keyword">raise</span> TypeError</span><br><span class="line">  <span class="keyword">if</span> key &lt; <span class="number">0</span>: <span class="keyword">raise</span> IndexError</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ArithmeticSequence</span>:</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, start=<span class="number">0</span>, step=<span class="number">1</span>)</span>:</span></span><br><span class="line">    self.start = start</span><br><span class="line">    self.step = step</span><br><span class="line">    <span class="comment">#未被修改的元素使用公式self.start+key*self.step来计算，已被修改的元素则保存在字典changed中</span></span><br><span class="line">    self.changed = &#123;&#125;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">__getitem__</span><span class="params">(self, key)</span>:</span></span><br><span class="line">    check_index(key)</span><br><span class="line">    <span class="keyword">try</span>: <span class="keyword">return</span> self.changed[key]</span><br><span class="line">    <span class="keyword">except</span> KeyError:</span><br><span class="line">      <span class="keyword">return</span> self.start + key * self.step</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">__setitem</span><span class="params">(self, key, value)</span>:</span></span><br><span class="line">    check_index(key)</span><br><span class="line">    self.changed[key] = value</span><br></pre></td></tr></table></figure>

<p>下面示例演示了如何使用这个类：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>s = ArithmeticSequence(<span class="number">1</span>, <span class="number">2</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s[<span class="number">4</span>]</span><br><span class="line"><span class="number">9</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s[<span class="number">4</span>] = <span class="number">2</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s[<span class="number">4</span>]</span><br><span class="line"><span class="number">2</span></span><br></pre></td></tr></table></figure>

<h1 id="作用域"><a href="#作用域" class="headerlink" title="作用域"></a>作用域</h1><h2 id="作用域函数"><a href="#作用域函数" class="headerlink" title="作用域函数"></a>作用域函数</h2><h3 id="globals函数"><a href="#globals函数" class="headerlink" title="globals函数"></a>globals函数</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="function"><span class="keyword">def</span> <span class="title">combine</span><span class="params">(parameter)</span>:</span></span><br><span class="line"><span class="meta">... </span>  print(parameter + globals()[<span class="string">'parameter'</span>])</span><br><span class="line">...</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>parameter = <span class="string">'berry'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>combine(<span class="string">'Shrub'</span>)</span><br><span class="line">Shrubberry</span><br></pre></td></tr></table></figure>

<h3 id="locals函数"><a href="#locals函数" class="headerlink" title="locals函数"></a>locals函数</h3><h3 id="vars函数"><a href="#vars函数" class="headerlink" title="vars函数"></a>vars函数</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>x = <span class="number">1</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>scope = vars()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>scope[<span class="string">'x'</span>]</span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>scope[<span class="string">'x'</span>] += <span class="number">1</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>x</span><br><span class="line"><span class="number">2</span></span><br></pre></td></tr></table></figure>

<h1 id="输入和输出"><a href="#输入和输出" class="headerlink" title="输入和输出"></a>输入和输出</h1><h2 id="标准输出"><a href="#标准输出" class="headerlink" title="标准输出"></a>标准输出</h2><p>Python 2使用<code>print</code>语句进行标准输出：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">print</span> <span class="string">"Hello"</span></span><br></pre></td></tr></table></figure>

<p>Python 3使用<code>print()</code>函数进行标准输出：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="number">2</span> * <span class="number">2</span>)</span><br></pre></td></tr></table></figure>

<p><code>print()</code>函数输出时，会自动在结尾跟上一个换行符<code>\n</code>。如果希望去掉这个换行符，或者以其他字符结尾，则需要使用<code>end</code>参数：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(<span class="string">'a'</span>, end=<span class="string">''</span>); print(<span class="string">'b'</span>)</span><br><span class="line">ab</span><br></pre></td></tr></table></figure>

<p><code>print</code>函数可以将任意多个参数打印成一个空格分隔的字符串：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(<span class="string">'Age:'</span>, <span class="number">42</span>)</span><br><span class="line">Age: <span class="number">42</span></span><br></pre></td></tr></table></figure>

<p>还可以使用参数<code>sep</code>自定义分隔符：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(<span class="string">'I'</span>, <span class="string">'wish'</span>, <span class="string">'to'</span>, <span class="string">'register'</span>, <span class="string">'a'</span>, <span class="string">'complaint'</span>, sep=<span class="string">'_'</span>)</span><br><span class="line">I_wish_to_register_a_complaint</span><br></pre></td></tr></table></figure>

<h2 id="标准输入"><a href="#标准输入" class="headerlink" title="标准输入"></a>标准输入</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">x = input(<span class="string">"x: "</span>)  <span class="comment">#input函数的返回值是一个字符串</span></span><br></pre></td></tr></table></figure>

<h1 id="系统环境"><a href="#系统环境" class="headerlink" title="系统环境"></a>系统环境</h1><h2 id="命令行参数"><a href="#命令行参数" class="headerlink" title="命令行参数"></a>命令行参数</h2><p>Python中，可以通过<code>sys</code>模块的<code>argv</code>变量来获取命令行参数。</p>
<p>示例参见：“直接运行脚本”、“直接运行代码”和“把模块当作脚本执行”章节。</p>
<h2 id="退出当前程序"><a href="#退出当前程序" class="headerlink" title="退出当前程序"></a>退出当前程序</h2><p>执行<code>sys</code>模块的<code>exit</code>函数将退出当前程序，并将参数返回给操作系统。可以向<code>exit</code>函数提供一个整数参数，指出程序是否成功。参数缺省时，将向操作系统返回0。它也可以接收一个字符串参数，这时，当程序退出时将显示指定的错误消息以及一个表示失败的编码。</p>
<blockquote>
<p>在try-finally中调用<code>exit</code>函数时，finally子句依然会执行。</p>
</blockquote>
<h2 id="平台标识符"><a href="#平台标识符" class="headerlink" title="平台标识符"></a>平台标识符</h2><p><code>sys</code>模块的<code>platform</code>变量是一个字符串，它是运行解释器的平台名称，可能是操作系统名称，也可能是其他平台类型（如Java虚拟机）名称。</p>
<h2 id="环境变量"><a href="#环境变量" class="headerlink" title="环境变量"></a>环境变量</h2><p>模块<code>os</code>的<code>environ</code>变量是一个包含环境变量的映射。例如，要访问环境变量<code>PYTHONPATH</code>，可使用表达式<code>os.environ[&#39;PYTHONPATH&#39;]</code>。这个映射也可用于修改环境变量，但并非所有的平台都支持这样做。</p>
<h2 id="运行操作系统命令"><a href="#运行操作系统命令" class="headerlink" title="运行操作系统命令"></a>运行操作系统命令</h2><p>模块<code>os</code>的<code>system</code>函数用于运行外部程序。</p>
<p>例如，打开firefox：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line">os.system(<span class="string">'/usr/bin/firefox'</span>)</span><br></pre></td></tr></table></figure>

<p>要Windows中，使用<code>os.system</code>启动外部程序后，当前Python程序将继续运行；而在UNIX中，当前Python程序将等待<code>os.system</code>命令结束。</p>
<blockquote>
<p>打开网页的更好解决方案是使用模块<code>webbrowser</code>中的函数<code>open</code>：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> webbrowser</span><br><span class="line">webbrowser.open(<span class="string">'http://www.python.org'</span>)</span><br></pre></td></tr></table></figure>
</blockquote>
<h1 id="异常处理"><a href="#异常处理" class="headerlink" title="异常处理"></a>异常处理</h1><h2 id="异常类型"><a href="#异常类型" class="headerlink" title="异常类型"></a>异常类型</h2><p>异常类必须是<code>Exception</code>的子类。</p>
<h3 id="内置异常类"><a href="#内置异常类" class="headerlink" title="内置异常类"></a>内置异常类</h3><table>
<thead>
<tr>
<th>类名</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>Exception</td>
<td>异常类的基类。</td>
</tr>
<tr>
<td>AttributeError</td>
<td>引用属性或给它赋值失败时引发。</td>
</tr>
<tr>
<td>OSError</td>
<td>操作系统不能执行指定任务时引发。</td>
</tr>
<tr>
<td>IndexError</td>
<td>使用序列中不存在的索引时引发。</td>
</tr>
<tr>
<td>KeyError</td>
<td>使用映射中不存在的键时引发。</td>
</tr>
<tr>
<td>NameError</td>
<td>找不到名称（变量）时引发。</td>
</tr>
<tr>
<td>SyntaxError</td>
<td>代码不正确时引发。</td>
</tr>
<tr>
<td>TypeError</td>
<td>将内置操作或函数用于类型不正确的对象时引发。</td>
</tr>
<tr>
<td>ValueError</td>
<td>将内置操作或函数用于类型正确但包含的值不合适的对象时引发。</td>
</tr>
<tr>
<td>ZeroDivisionError</td>
<td>在除法或求模运算的第二个参数为零时引发。</td>
</tr>
</tbody></table>
<h3 id="自定义异常"><a href="#自定义异常" class="headerlink" title="自定义异常"></a>自定义异常</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SomeCustomException</span><span class="params">(Exception)</span>:</span> <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<h2 id="引发异常"><a href="#引发异常" class="headerlink" title="引发异常"></a>引发异常</h2><p>要引发异常，可使用<code>raise</code>语句，并将一个异常类或实例作为参数。将异常类作为参数时，将自动创建一个实例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">raise</span> Exception(<span class="string">'hyperdrive overload'</span>)</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File "&lt;stdin&gt;", line 1, in ?</span><br><span class="line">Exception: hyperdrive overload</span><br></pre></td></tr></table></figure>

<h2 id="捕获异常"><a href="#捕获异常" class="headerlink" title="捕获异常"></a>捕获异常</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>:</span><br><span class="line">  x = int(input(<span class="string">'Enter the first number: '</span>))</span><br><span class="line">  y = int(input(<span class="string">'Enter the second number: '</span>))</span><br><span class="line">  print(x / y)</span><br><span class="line"><span class="keyword">except</span> ZeroDivisionError:</span><br><span class="line">  print(<span class="string">"The second number can't be zero!"</span>)</span><br><span class="line"><span class="keyword">except</span> TypeError:</span><br><span class="line">  print(<span class="string">"That wasn't a number, was it?"</span>)</span><br></pre></td></tr></table></figure>

<p><code>except</code>子句可以是一个或任意多个。</p>
<p>也可以使用一条<code>except</code>子句处理多个异常：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>:</span><br><span class="line">  x = int(input(<span class="string">'Enter the first number: '</span>))</span><br><span class="line">  y = int(input(<span class="string">'Enter the second number: '</span>))</span><br><span class="line">  print(x / y)</span><br><span class="line"><span class="keyword">except</span> (ZeroDivisionError, TypeError, NameError):</span><br><span class="line">  print(<span class="string">'Your numbers were bogus ...'</span>)</span><br></pre></td></tr></table></figure>

<p>还可以使用一条<code>except</code>子句捕获所有异常，只需在<code>except</code>子句中不指定任何异常类。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>:</span><br><span class="line">  x = int(input(<span class="string">'Enter the first number: '</span>))</span><br><span class="line">  y = int(input(<span class="string">'Enter the second number: '</span>))</span><br><span class="line">  print(x / y)</span><br><span class="line"><span class="keyword">except</span>:</span><br><span class="line">  print(<span class="string">'Something wrong happened ...'</span>)</span><br></pre></td></tr></table></figure>

<h3 id="访问异常对象"><a href="#访问异常对象" class="headerlink" title="访问异常对象"></a>访问异常对象</h3><p>要访问捕获到的异常对象，需要使用<code>except ... as ...</code>语句：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>:</span><br><span class="line">  x = int(input(<span class="string">'Enter the first number: '</span>))</span><br><span class="line">  y = int(input(<span class="string">'Enter the second number: '</span>))</span><br><span class="line">  print(x / y)</span><br><span class="line"><span class="keyword">except</span> (ZeroDivisionError, TypeError, NameError) <span class="keyword">as</span> e:</span><br><span class="line">  print(e)</span><br></pre></td></tr></table></figure>

<h2 id="重新抛出异常"><a href="#重新抛出异常" class="headerlink" title="重新抛出异常"></a>重新抛出异常</h2><p>捕获到异常后，可以重新抛出原异常，也可以抛出新的异常。如果是重新抛出原异常，<code>raise</code>子句可以不提供任何参数：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MuffledCalculator</span>:</span></span><br><span class="line">  muffled = <span class="literal">False</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">calc</span><span class="params">(self, expr)</span>:</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">      <span class="keyword">return</span> eval(expr)</span><br><span class="line">    <span class="keyword">except</span> ZeroDivisionError:</span><br><span class="line">      <span class="keyword">if</span> self.muffled:</span><br><span class="line">        print(<span class="string">'Division by zero is illegal'</span>)</span><br><span class="line">      <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">raise</span></span><br></pre></td></tr></table></figure>

<p>如果是抛出新异常，则默认情况下原异常将作为<strong>异常上下文</strong>存储起来，并且最终出现的错误消息中，将包含这两个异常信息：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">try</span>:</span><br><span class="line"><span class="meta">... </span>  <span class="number">1</span>/<span class="number">0</span></span><br><span class="line"><span class="meta">... </span><span class="keyword">except</span> ZeroDivisionError:</span><br><span class="line"><span class="meta">... </span>  <span class="keyword">raise</span> ValueError</span><br><span class="line"><span class="meta">... </span></span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">"&lt;stdin&gt;"</span>, line <span class="number">2</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">ZeroDivisionError: division by zero</span><br><span class="line"></span><br><span class="line">During handling of the above exception, another exception occurred:</span><br><span class="line"></span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">"&lt;stdin&gt;"</span>, line <span class="number">4</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">ValueError</span><br></pre></td></tr></table></figure>

<p>可以使用<code>raise ... from ...</code>语句来提供自己的异常上下文，也可以使用<code>None</code>来禁用异常上下文：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">try</span>:</span><br><span class="line"><span class="meta">... </span>  <span class="number">1</span>/<span class="number">0</span></span><br><span class="line"><span class="meta">... </span><span class="keyword">except</span> ZeroDivisionError:</span><br><span class="line"><span class="meta">... </span>  <span class="keyword">raise</span> ValueError <span class="keyword">from</span> <span class="literal">None</span></span><br><span class="line"><span class="meta">... </span></span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">"&lt;stdin&gt;"</span>, line <span class="number">4</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">ValueError</span><br></pre></td></tr></table></figure>

<h2 id="异常传播"><a href="#异常传播" class="headerlink" title="异常传播"></a>异常传播</h2><p>如果不处理（或捕获）函数中引发的异常，它将向上传播到调用函数的地方。如果在那里也未得到处理，异常将继续传播，直至到达主程序（全局作用域）。如果在主程序中仍没有处理，则程序将终止并显示栈跟踪消息（Traceback）。</p>
<h2 id="else子句-1"><a href="#else子句-1" class="headerlink" title="else子句"></a>else子句</h2><p>else子句可在没有出现异常时执行，而出现异常时将不会被执行：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">  <span class="keyword">try</span>:</span><br><span class="line">    x = int(input(<span class="string">'Enter the first number: '</span>))</span><br><span class="line">    y = int(input(<span class="string">'Enter the second number: '</span>))</span><br><span class="line">    value = x / y</span><br><span class="line">    print(<span class="string">'x / y is'</span>, value)</span><br><span class="line">  <span class="keyword">except</span>:</span><br><span class="line">    print(<span class="string">'Invalid input. Please try again.'</span>)</span><br><span class="line">  <span class="keyword">else</span>:</span><br><span class="line">    <span class="keyword">break</span></span><br></pre></td></tr></table></figure>

<p>else子句是可选的。</p>
<h2 id="finally子句"><a href="#finally子句" class="headerlink" title="finally子句"></a>finally子句</h2><p>不管<code>try</code>子句是否发生什么异常，都将执行<code>finally</code>子句。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">x = <span class="literal">None</span></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">  x = <span class="number">1</span> / <span class="number">0</span></span><br><span class="line"><span class="keyword">finally</span>:</span><br><span class="line">  print(<span class="string">'Cleaning up ...'</span>)</span><br><span class="line">  <span class="keyword">del</span> x</span><br></pre></td></tr></table></figure>

<p>finally子句是可选的。</p>
<h1 id="断言"><a href="#断言" class="headerlink" title="断言"></a>断言</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>age = <span class="number">10</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">assert</span> <span class="number">0</span> &lt; age &lt; <span class="number">100</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>age = <span class="number">-1</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">assert</span> <span class="number">0</span> &lt; age &lt; <span class="number">100</span>, <span class="string">'The age must be realistic!'</span></span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File "&lt;stdin&gt;", line 1, in ?</span><br><span class="line">AssertionError: The age must be realistic!</span><br></pre></td></tr></table></figure>

<h1 id="正则表达式"><a href="#正则表达式" class="headerlink" title="正则表达式"></a>正则表达式</h1><h1 id="图形用户界面"><a href="#图形用户界面" class="headerlink" title="图形用户界面"></a>图形用户界面</h1><h1 id="数据库支持"><a href="#数据库支持" class="headerlink" title="数据库支持"></a>数据库支持</h1><h1 id="网络编程"><a href="#网络编程" class="headerlink" title="网络编程"></a>网络编程</h1><h1 id="日期和时间"><a href="#日期和时间" class="headerlink" title="日期和时间"></a>日期和时间</h1><h1 id="元编程"><a href="#元编程" class="headerlink" title="元编程"></a>元编程</h1><h2 id="反射"><a href="#反射" class="headerlink" title="反射"></a>反射</h2><p>要确定一个类是否是另一个类的子类，可使用内置函数<code>issubclass</code>：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>issubclass(TalkingCalculator, Calculator)</span><br><span class="line"><span class="literal">True</span></span><br></pre></td></tr></table></figure>

<p>访问类的特殊属性<code>__bases__</code>可以获得它的基类对象：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>TalkingCalculator.__bases__</span><br><span class="line">(&lt;<span class="class"><span class="keyword">class</span> '<span class="title">__main__</span>.<span class="title">Calculator</span>')</span></span><br></pre></td></tr></table></figure>

<p>要确定对象是否是特定类的实例，可使用<code>isinstance</code>函数：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>tc = TalkingCalculator()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>isinstance(tc, TalkingCalculator)</span><br><span class="line"><span class="literal">True</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>isinstance(tc, Calculator)</span><br><span class="line"><span class="literal">True</span></span><br></pre></td></tr></table></figure>

<p><code>isinstance</code>函数也可用于类型：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>isinstance(tc, str)</span><br><span class="line"><span class="literal">False</span></span><br></pre></td></tr></table></figure>

<p>通过特殊属性<code>__class__</code>或函数<code>type</code>，可以获取对象所属于的类对象：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>tc.__class__</span><br><span class="line">(&lt;<span class="class"><span class="keyword">class</span> '<span class="title">__main__</span>.<span class="title">TalkingCalculator</span>')</span></span><br><span class="line"><span class="class">&gt;&gt;&gt; <span class="title">type</span><span class="params">(tc)</span></span></span><br><span class="line"><span class="class"><span class="params">(&lt;class <span class="string">'__main__.TalkingCalculator'</span>)</span></span></span><br></pre></td></tr></table></figure>

<p>可以使用内置函数<code>hasattr</code>来判断对象是否具有指定成员：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>hasattr(m1, <span class="string">'members'</span>)</span><br><span class="line"><span class="literal">True</span></span><br></pre></td></tr></table></figure>

<p>可以使用内置函数<code>callable</code>来检查成员是否是可调用的：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>callable(getattr(bird, <span class="string">'sing'</span>, <span class="literal">None</span>))  <span class="comment">#第三个参数是当指定成员不存在时，返回的默认值</span></span><br><span class="line"><span class="literal">True</span></span><br></pre></td></tr></table></figure>

<p>内置函数<code>getattr</code>和<code>setattr</code>分别用来获取和设置成员：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>setattr(m1, <span class="string">'members'</span>, <span class="string">'10'</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>m1.members</span><br><span class="line"><span class="number">10</span></span><br></pre></td></tr></table></figure>

<p>要查看对象中存储的所有值，可以使用<code>__dict__</code>字段。如果要确定对象是由什么组成的，应研究模块<code>inspect</code>。</p>
<h1 id="模块"><a href="#模块" class="headerlink" title="模块"></a>模块</h1><h2 id="模块就是程序"><a href="#模块就是程序" class="headerlink" title="模块就是程序"></a>模块就是程序</h2><p>任何Python程序（脚本）都可以作为模块，模块名就是脚本的文件名（不包括扩展名<code>.py</code>）。</p>
<h2 id="让模块可用"><a href="#让模块可用" class="headerlink" title="让模块可用"></a>让模块可用</h2><p>要让模块可用，还需要告诉解释器到哪里查找模块。</p>
<h3 id="模块默认搜索位置"><a href="#模块默认搜索位置" class="headerlink" title="模块默认搜索位置"></a>模块默认搜索位置</h3><p>模块的默认搜索位置保存在模块<code>sys</code>的<code>path</code>变量中，它是一个目录（表示为字符串）列表，可通过如下代码查看：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> sys, pprint</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>pprint.pprint(sys.path)</span><br><span class="line">[<span class="string">''</span>,</span><br><span class="line"> <span class="string">'/usr/lib/python37.zip'</span>,</span><br><span class="line"> <span class="string">'/usr/lib/python3.7'</span>,</span><br><span class="line"> <span class="string">'/usr/lib/python3.7/lib-dynload'</span>,</span><br><span class="line"> <span class="string">'/usr/lib/python3.7/site-packages'</span>]</span><br></pre></td></tr></table></figure>

<blockquote>
<p>函数<code>pprint</code>常用于打印一行容纳不下的大数据结构。</p>
<p>空串表示当前目录。</p>
</blockquote>
<p>只要将模块放到上面列出的任何一个位置中，解释器就能够找到它。</p>
<h3 id="自定义搜索位置"><a href="#自定义搜索位置" class="headerlink" title="自定义搜索位置"></a>自定义搜索位置</h3><h4 id="使用环境变量PYTHONPATH指定"><a href="#使用环境变量PYTHONPATH指定" class="headerlink" title="使用环境变量PYTHONPATH指定"></a>使用环境变量<code>PYTHONPATH</code>指定</h4><p>例如：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">export</span> PYTHONPATH=<span class="variable">$PYTHONPATH</span>:~/mypython</span><br></pre></td></tr></table></figure>

<p>或者将上述语句写到<code>~/.bashrc</code>中。</p>
<h4 id="直接附加到sys-path"><a href="#直接附加到sys-path" class="headerlink" title="直接附加到sys.path"></a>直接附加到<code>sys.path</code></h4><p>可以将自定义的模块搜索位置附加到<code>sys.path</code>中：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> sys</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>sys.path.append(<span class="string">'/home/yourusername/mypython'</span>)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>在UNIX中，不能直接将字符串<code>&#39;~/mypython&#39;</code>附加到<code>sys.path</code>末尾，而必须使用完整的路径<code>&#39;/home/yourusername/mypython&#39;</code>。</p>
</blockquote>
<p>直接附加到<code>sys.path</code>的方式只适合于在交互式环境或代码中，当退出交互式环境或程序时，附加的内容将丢失。</p>
<h4 id="使用路径配置文件指定"><a href="#使用路径配置文件指定" class="headerlink" title="使用路径配置文件指定"></a>使用路径配置文件指定</h4><p>路径配置文件的扩展名为<code>pth</code>，位于一些特殊目录中。只要把自定义的模块搜索位置添加到这些文件中，解释器就可搜索到。详见模块<code>site</code>的标准库文档。</p>
<h2 id="导入模块"><a href="#导入模块" class="headerlink" title="导入模块"></a>导入模块</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> math</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>math.floor(<span class="number">32.9</span>)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>当你导入模块时，可能发现其所在目录中除源代码文件外，还新建了一个名为<code>__pycache__</code>的子目录（在较旧的Python版本中，是扩展名为<code>.pyc</code>的文件）。这个目录包含处理后的文件，Python能够更高效地处理它们。以后再导入这个模块时，如果<code>.py</code>文件未发生变化，Python将导入处理后的文件，否则将重新生成处理后的文件。删除<code>__pycache__</code>目录不会有任何害处，因为必要时会重新创建它。</p>
</blockquote>
<p>如果不想每次调用模块中的函数都要指定模块名前缀，则可以使用<code>import</code>的变种：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> math <span class="keyword">import</span> sqrt</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>sqrt(<span class="number">9</span>)</span><br></pre></td></tr></table></figure>

<p>如果存在命名冲突，则不能使用这种变种进行导入。</p>
<p>可以一次导入一个模块中的多个函数：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> somemodule <span class="keyword">import</span> somefunction, anotherfunction, …</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> somemodule <span class="keyword">import</span> *</span><br></pre></td></tr></table></figure>

<p>可以为导入模块或函数起别名：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> math <span class="keyword">as</span> foo</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>foo.sqrt(<span class="number">4</span>)</span><br><span class="line"><span class="number">2.0</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> math <span class="keyword">import</span> sqrt <span class="keyword">as</span> bar</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>bar(<span class="number">4</span>)</span><br><span class="line"><span class="number">2.0</span></span><br></pre></td></tr></table></figure>

<p>导入一个模块时，会执行其中的代码，而且只会执行一次。因此，导入模块多次和导入一次的效果相同。</p>
<p>如果一定要重新加载模块，可使用模块<code>importlib</code>中的函数<code>reload</code>，它接受一个参数（要重新加载的模块），并返回重新加载的模块。重新加载模块，会再次执行模块中的代码。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> importlib, foo</span><br><span class="line">…</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>foo = importlib.reload(foo)</span><br><span class="line">…</span><br></pre></td></tr></table></figure>

<p>重新加载模块，并不会重新创建原有对象，变量引用的对象仍然是重新加载前的对象，除非重新创建它们。</p>
<h2 id="把模块当作脚本执行"><a href="#把模块当作脚本执行" class="headerlink" title="把模块当作脚本执行"></a>把模块当作脚本执行</h2><p>虽然多次导入一个模块只会执行一次，但我们可在命令行下，通过<code>python -m 模块名 可选的参数列表</code>的方式来将模块当作普通脚本执行。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ python -m SimpleHTTPServer 8080</span><br></pre></td></tr></table></figure>

<blockquote>
<p>在代码中可通过<code>sys.argv[N]</code>来获取命令行传递进来的参数。<code>sys.argv</code>的值 是<code>[&#39;…/SimpleHTTPServer.py&#39;, &#39;8080&#39;]</code>。</p>
</blockquote>
<p>这与直接执行脚本不一样：</p>
<ul>
<li>直接执行脚本时，要指定脚本的具体路径和扩展名。例如：<code>python ~/python/foo.py</code>。而把模块当作脚本执行，不需要指定脚本具体路径，只需要将模块放到指定的模块搜索位置中，而且模块也是没有扩展名的。</li>
<li>把模块当作脚本执行时，可以在任意位置执行。</li>
</ul>
<p>一个模块用于导入时，它的<code>__name__</code>变量值是该模块名，而用于当作脚本执行时，<code>__name__</code>变量值是<code>&#39;__main__&#39;</code>。</p>
<p>例如，有一模块test：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"></span><br><span class="line">print(<span class="string">"Args is "</span>, sys.argv)</span><br><span class="line">print(<span class="string">"__name__ is "</span>, __name__)</span><br></pre></td></tr></table></figure>

<p>则</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ python -m <span class="built_in">test</span> arg1</span><br><span class="line">Args is [<span class="string">'/home/i/Documents/python/test.py'</span>, <span class="string">'arg1'</span>]</span><br><span class="line">__name__ is __main__</span><br><span class="line"></span><br><span class="line">$ python -c <span class="string">"import test"</span> arg1</span><br><span class="line">Args is [<span class="string">'-c'</span>, <span class="string">'arg1'</span>]</span><br><span class="line">__name__ is <span class="built_in">test</span></span><br></pre></td></tr></table></figure>

<h2 id="future-模块"><a href="#future-模块" class="headerlink" title="__future__模块"></a><code>__future__</code>模块</h2><p><code>__future__</code>是一个特殊模块，它用于存放当前Python不支持，但未来将成为标准组成部分的功能。</p>
<h2 id="包"><a href="#包" class="headerlink" title="包"></a>包</h2><p>Python使用包（Package）来组织模块。</p>
<p>包是一个目录，并且目录中必须包含文件<code>__init__.py</code>。</p>
<p>除了组织模块外，包也可以当作普通模块使用。这时，导入包实际上就是导入<code>__init__.py</code>文件的内容。</p>
<p>要将模块加入包中，只需要将模块文件放在包目录中即可。你还可以在包中嵌套其他包。</p>
<p>示例：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">~&#x2F;python               （PYTHONPATH中的目录）</span><br><span class="line">└── drawing            （包目录）</span><br><span class="line">    ├── __init__.py    （包代码，即模块drawing的内容）</span><br><span class="line">    ├── colors.py      （模块colors）</span><br><span class="line">    └── shapes.py      （模块shapes）</span><br></pre></td></tr></table></figure>

<p>则下面的语句是合法的：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> drawing                <span class="comment">#导入模块drawing</span></span><br><span class="line"><span class="keyword">import</span> drawing.colors         <span class="comment">#导入drawing包中的模块colors</span></span><br><span class="line"><span class="keyword">from</span> drawing <span class="keyword">import</span> shapes    <span class="comment">#导入模块shapes</span></span><br></pre></td></tr></table></figure>

<p><code>import drawing</code>只会导入模块<code>drawing</code>，而不会自动导入<code>drawing</code>包下的<code>drawing.colors</code>和<code>drawing.shapes</code>。同理，<code>import drawing.colors</code>也不会自动导入<code>drawing</code>包。即模块导入是互相独立的。</p>
<p>通过<code>import drawing.colors</code>语句导入了<code>colors</code>模块后，必须使用全限定名<code>drawing.colors</code>来访问<code>colors</code>模块的成员。而使用<code>from drawing import colors</code>语句导入，则可以使用简单名<code>colors</code>来访问<code>colors</code>模块的成员。</p>
<h2 id="探索模块"><a href="#探索模块" class="headerlink" title="探索模块"></a>探索模块</h2><p>可以使用<code>dir</code>函数列出模块包含的所有成员（包含以下划线开头的成员）：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> copy</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>dir(copy)</span><br><span class="line">[<span class="string">'Error'</span>, <span class="string">'__all__'</span>, <span class="string">'__builtins__'</span>, <span class="string">'__cached__'</span>, <span class="string">'__doc__'</span>, <span class="string">'__file__'</span>, <span class="string">'__loader__'</span>, <span class="string">'__name__'</span>, <span class="string">'__package__'</span>, <span class="string">'__spec__'</span>, <span class="string">'_copy_dispatch'</span>, <span class="string">'_copy_immutable'</span>, <span class="string">'_deepcopy_atomic'</span>, <span class="string">'_deepcopy_dict'</span>, <span class="string">'_deepcopy_dispatch'</span>, <span class="string">'_deepcopy_list'</span>, <span class="string">'_deepcopy_method'</span>, <span class="string">'_deepcopy_tuple'</span>, <span class="string">'_keep_alive'</span>, <span class="string">'_reconstruct'</span>, <span class="string">'copy'</span>, <span class="string">'deepcopy'</span>, <span class="string">'dispatch_table'</span>, <span class="string">'error'</span>]</span><br></pre></td></tr></table></figure>

<p>通过模块的<code>__all__</code>属性可以列出模块希望公开的接口：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>copy.__all__</span><br><span class="line">[<span class="string">'Error'</span>, <span class="string">'copy'</span>, <span class="string">'deepcopy'</span>]</span><br></pre></td></tr></table></figure>

<p>它也是<code>from copy import *</code>导入的成员。</p>
<p>要看一个模块的源代码存入在什么地方，可以访问模块的<code>__file__</code>属性：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>copy.__file__</span><br><span class="line"><span class="string">'/usr/lib/python3.7/copy.py'</span></span><br></pre></td></tr></table></figure>

<p>另外，也可以使用<code>help</code>函数来获取模块的帮助信息，<code>copy.__doc__</code>可以查看<code>copy</code>模块的文档字符串。</p>
<p><code>sys</code>模块的<code>modules</code>变量是一个已加载模块的字典。</p>
<h1 id="构建"><a href="#构建" class="headerlink" title="构建"></a>构建</h1>
    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/3-7-0/" rel="tag"># 3.7.0</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2018/08/29/Smalltalk/" rel="prev" title="Smalltalk">
      <i class="fa fa-chevron-left"></i> Smalltalk
    </a></div>
      <div class="post-nav-item">
    <a href="/2018/10/08/SpringTesting/" rel="next" title="SpringTesting">
      SpringTesting <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  

  </div>


          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let activeClass = CONFIG.comments.activeClass;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#简介"><span class="nav-number">1.</span> <span class="nav-text">简介</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#开发环境"><span class="nav-number">2.</span> <span class="nav-text">开发环境</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#安装"><span class="nav-number">2.1.</span> <span class="nav-text">安装</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#IDE"><span class="nav-number">2.1.1.</span> <span class="nav-text">IDE</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#交互模式"><span class="nav-number">2.2.</span> <span class="nav-text">交互模式</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#获取帮助"><span class="nav-number">2.2.1.</span> <span class="nav-text">获取帮助</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#解释模式"><span class="nav-number">2.3.</span> <span class="nav-text">解释模式</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#直接运行脚本"><span class="nav-number">2.3.1.</span> <span class="nav-text">直接运行脚本</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#shebang方式运行脚本"><span class="nav-number">2.3.2.</span> <span class="nav-text">shebang方式运行脚本</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#直接运行代码"><span class="nav-number">2.3.3.</span> <span class="nav-text">直接运行代码</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#编译模式"><span class="nav-number">2.4.</span> <span class="nav-text">编译模式</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#调试模式"><span class="nav-number">2.5.</span> <span class="nav-text">调试模式</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#程序结构"><span class="nav-number">3.</span> <span class="nav-text">程序结构</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#第一个程序"><span class="nav-number">3.1.</span> <span class="nav-text">第一个程序</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#源文件"><span class="nav-number">3.2.</span> <span class="nav-text">源文件</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#编码"><span class="nav-number">3.3.</span> <span class="nav-text">编码</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#转义序列"><span class="nav-number">3.3.1.</span> <span class="nav-text">转义序列</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#保留字"><span class="nav-number">3.4.</span> <span class="nav-text">保留字</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#注释"><span class="nav-number">3.5.</span> <span class="nav-text">注释</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#文档字符串"><span class="nav-number">3.5.1.</span> <span class="nav-text">文档字符串</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#程序入口"><span class="nav-number">3.6.</span> <span class="nav-text">程序入口</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#编码规范"><span class="nav-number">3.7.</span> <span class="nav-text">编码规范</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#基本类型"><span class="nav-number">4.</span> <span class="nav-text">基本类型</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#数值类型"><span class="nav-number">4.1.</span> <span class="nav-text">数值类型</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#整数类型"><span class="nav-number">4.1.1.</span> <span class="nav-text">整数类型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#浮点类型"><span class="nav-number">4.1.2.</span> <span class="nav-text">浮点类型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#复数类型"><span class="nav-number">4.1.3.</span> <span class="nav-text">复数类型</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#字符类型"><span class="nav-number">4.2.</span> <span class="nav-text">字符类型</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#布尔类型"><span class="nav-number">4.3.</span> <span class="nav-text">布尔类型</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#空类型"><span class="nav-number">4.4.</span> <span class="nav-text">空类型</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#获取类型信息"><span class="nav-number">4.5.</span> <span class="nav-text">获取类型信息</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#声明"><span class="nav-number">5.</span> <span class="nav-text">声明</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#字符串"><span class="nav-number">6.</span> <span class="nav-text">字符串</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#字符串字面量"><span class="nav-number">6.1.</span> <span class="nav-text">字符串字面量</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#常规字符串"><span class="nav-number">6.1.1.</span> <span class="nav-text">常规字符串</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#长字符串"><span class="nav-number">6.1.2.</span> <span class="nav-text">长字符串</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#原始字符串"><span class="nav-number">6.1.3.</span> <span class="nav-text">原始字符串</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#bytes"><span class="nav-number">6.1.4.</span> <span class="nav-text">bytes</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#bytearray"><span class="nav-number">6.1.5.</span> <span class="nav-text">bytearray</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#构造字符串"><span class="nav-number">6.2.</span> <span class="nav-text">构造字符串</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#使用字符串"><span class="nav-number">6.3.</span> <span class="nav-text">使用字符串</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#拼接"><span class="nav-number">6.3.1.</span> <span class="nav-text">拼接</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#格式化"><span class="nav-number">6.3.2.</span> <span class="nav-text">格式化</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#格式字符串"><span class="nav-number">6.3.2.1.</span> <span class="nav-text">格式字符串</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#模板字符串"><span class="nav-number">6.3.2.2.</span> <span class="nav-text">模板字符串</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#format方法"><span class="nav-number">6.3.2.3.</span> <span class="nav-text">format方法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#format-map方法"><span class="nav-number">6.3.2.4.</span> <span class="nav-text">format_map方法</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#查找"><span class="nav-number">6.3.3.</span> <span class="nav-text">查找</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#连结"><span class="nav-number">6.3.4.</span> <span class="nav-text">连结</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#拆分"><span class="nav-number">6.3.5.</span> <span class="nav-text">拆分</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#替换"><span class="nav-number">6.3.6.</span> <span class="nav-text">替换</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#转换"><span class="nav-number">6.3.7.</span> <span class="nav-text">转换</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#裁剪"><span class="nav-number">6.3.8.</span> <span class="nav-text">裁剪</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#repr函数"><span class="nav-number">6.3.9.</span> <span class="nav-text">repr函数</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#枚举类型"><span class="nav-number">7.</span> <span class="nav-text">枚举类型</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#表达式"><span class="nav-number">8.</span> <span class="nav-text">表达式</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#算术表达式"><span class="nav-number">8.1.</span> <span class="nav-text">算术表达式</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#除法"><span class="nav-number">8.1.1.</span> <span class="nav-text">除法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#求模"><span class="nav-number">8.1.2.</span> <span class="nav-text">求模</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#关系表达式"><span class="nav-number">8.2.</span> <span class="nav-text">关系表达式</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#字符串的比较"><span class="nav-number">8.2.1.</span> <span class="nav-text">字符串的比较</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#序列的比较"><span class="nav-number">8.2.2.</span> <span class="nav-text">序列的比较</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#链式比较"><span class="nav-number">8.2.3.</span> <span class="nav-text">链式比较</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#逻辑表达式"><span class="nav-number">8.3.</span> <span class="nav-text">逻辑表达式</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#“短路”行为"><span class="nav-number">8.3.1.</span> <span class="nav-text">“短路”行为</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#条件表达式"><span class="nav-number">8.4.</span> <span class="nav-text">条件表达式</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#语句"><span class="nav-number">9.</span> <span class="nav-text">语句</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#语句分隔符"><span class="nav-number">9.1.</span> <span class="nav-text">语句分隔符</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#赋值语句"><span class="nav-number">9.2.</span> <span class="nav-text">赋值语句</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#序列解包"><span class="nav-number">9.2.1.</span> <span class="nav-text">序列解包</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#链式赋值"><span class="nav-number">9.2.2.</span> <span class="nav-text">链式赋值</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#复合赋值（增强赋值）"><span class="nav-number">9.2.3.</span> <span class="nav-text">复合赋值（增强赋值）</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#代码块"><span class="nav-number">9.3.</span> <span class="nav-text">代码块</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#条件语句"><span class="nav-number">9.4.</span> <span class="nav-text">条件语句</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#循环语句"><span class="nav-number">9.5.</span> <span class="nav-text">循环语句</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#while循环"><span class="nav-number">9.5.1.</span> <span class="nav-text">while循环</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#for-in循环"><span class="nav-number">9.5.2.</span> <span class="nav-text">for-in循环</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#范围"><span class="nav-number">9.5.2.1.</span> <span class="nav-text">范围</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#迭代字典"><span class="nav-number">9.5.2.2.</span> <span class="nav-text">迭代字典</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#并行迭代"><span class="nav-number">9.5.2.3.</span> <span class="nav-text">并行迭代</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#迭代时获取索引"><span class="nav-number">9.5.2.4.</span> <span class="nav-text">迭代时获取索引</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#else子句"><span class="nav-number">9.5.3.</span> <span class="nav-text">else子句</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#迭代器"><span class="nav-number">9.5.4.</span> <span class="nav-text">迭代器</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#跳转语句"><span class="nav-number">9.6.</span> <span class="nav-text">跳转语句</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#break语句"><span class="nav-number">9.6.1.</span> <span class="nav-text">break语句</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#continue语句"><span class="nav-number">9.6.2.</span> <span class="nav-text">continue语句</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#pass语句"><span class="nav-number">9.7.</span> <span class="nav-text">pass语句</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#del语句"><span class="nav-number">9.8.</span> <span class="nav-text">del语句</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#子程序"><span class="nav-number">10.</span> <span class="nav-text">子程序</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#函数"><span class="nav-number">10.1.</span> <span class="nav-text">函数</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#定义函数"><span class="nav-number">10.1.1.</span> <span class="nav-text">定义函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#返回值"><span class="nav-number">10.1.2.</span> <span class="nav-text">返回值</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#参数"><span class="nav-number">10.1.3.</span> <span class="nav-text">参数</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#关键字参数"><span class="nav-number">10.1.3.1.</span> <span class="nav-text">关键字参数</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#参数默认值"><span class="nav-number">10.1.3.2.</span> <span class="nav-text">参数默认值</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#可变数量参数"><span class="nav-number">10.1.3.3.</span> <span class="nav-text">可变数量参数</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#分配参数"><span class="nav-number">10.1.3.4.</span> <span class="nav-text">分配参数</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#函数嵌套"><span class="nav-number">10.1.4.</span> <span class="nav-text">函数嵌套</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#递归"><span class="nav-number">10.1.5.</span> <span class="nav-text">递归</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#内置函数"><span class="nav-number">10.1.6.</span> <span class="nav-text">内置函数</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#exec函数"><span class="nav-number">10.1.6.1.</span> <span class="nav-text">exec函数</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#eval函数"><span class="nav-number">10.1.6.2.</span> <span class="nav-text">eval函数</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#生成器"><span class="nav-number">10.2.</span> <span class="nav-text">生成器</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#生成器推导"><span class="nav-number">10.2.1.</span> <span class="nav-text">生成器推导</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#面向对象编程"><span class="nav-number">11.</span> <span class="nav-text">面向对象编程</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#定义类"><span class="nav-number">11.1.</span> <span class="nav-text">定义类</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#self"><span class="nav-number">11.2.</span> <span class="nav-text">self</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#成员"><span class="nav-number">11.3.</span> <span class="nav-text">成员</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#字段"><span class="nav-number">11.3.1.</span> <span class="nav-text">字段</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#方法"><span class="nav-number">11.3.2.</span> <span class="nav-text">方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#构造函数"><span class="nav-number">11.3.3.</span> <span class="nav-text">构造函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#析构函数"><span class="nav-number">11.3.4.</span> <span class="nav-text">析构函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#property"><span class="nav-number">11.3.5.</span> <span class="nav-text">property</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#静态方法和类方法"><span class="nav-number">11.3.6.</span> <span class="nav-text">静态方法和类方法</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#封装"><span class="nav-number">11.4.</span> <span class="nav-text">封装</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#继承"><span class="nav-number">11.5.</span> <span class="nav-text">继承</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#多重继承"><span class="nav-number">11.5.1.</span> <span class="nav-text">多重继承</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#重写"><span class="nav-number">11.6.</span> <span class="nav-text">重写</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#重写普通方法"><span class="nav-number">11.6.1.</span> <span class="nav-text">重写普通方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#重写构造函数"><span class="nav-number">11.6.2.</span> <span class="nav-text">重写构造函数</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#多态"><span class="nav-number">11.7.</span> <span class="nav-text">多态</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#抽象类"><span class="nav-number">11.8.</span> <span class="nav-text">抽象类</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#定义抽象类"><span class="nav-number">11.8.1.</span> <span class="nav-text">定义抽象类</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#类注册"><span class="nav-number">11.9.</span> <span class="nav-text">类注册</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#数据结构"><span class="nav-number">12.</span> <span class="nav-text">数据结构</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#序列"><span class="nav-number">12.1.</span> <span class="nav-text">序列</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#通用操作"><span class="nav-number">12.1.1.</span> <span class="nav-text">通用操作</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#索引"><span class="nav-number">12.1.1.1.</span> <span class="nav-text">索引</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#切片"><span class="nav-number">12.1.1.2.</span> <span class="nav-text">切片</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#拼接-1"><span class="nav-number">12.1.1.3.</span> <span class="nav-text">拼接</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#重复"><span class="nav-number">12.1.1.4.</span> <span class="nav-text">重复</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#in"><span class="nav-number">12.1.1.5.</span> <span class="nav-text">in</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#元素个数"><span class="nav-number">12.1.1.6.</span> <span class="nav-text">元素个数</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#最大元素和最小元素"><span class="nav-number">12.1.1.7.</span> <span class="nav-text">最大元素和最小元素</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#列表"><span class="nav-number">12.1.2.</span> <span class="nav-text">列表</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#列表字面量"><span class="nav-number">12.1.2.1.</span> <span class="nav-text">列表字面量</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#构造列表"><span class="nav-number">12.1.2.2.</span> <span class="nav-text">构造列表</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#使用列表"><span class="nav-number">12.1.2.3.</span> <span class="nav-text">使用列表</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#给元素赋值"><span class="nav-number">12.1.2.3.1.</span> <span class="nav-text">给元素赋值</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#移除元素"><span class="nav-number">12.1.2.3.2.</span> <span class="nav-text">移除元素</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#切片操作"><span class="nav-number">12.1.2.3.3.</span> <span class="nav-text">切片操作</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#添加元素"><span class="nav-number">12.1.2.3.4.</span> <span class="nav-text">添加元素</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#复制列表"><span class="nav-number">12.1.2.3.5.</span> <span class="nav-text">复制列表</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#查找统计"><span class="nav-number">12.1.2.3.6.</span> <span class="nav-text">查找统计</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#反转列表"><span class="nav-number">12.1.2.3.7.</span> <span class="nav-text">反转列表</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#排序"><span class="nav-number">12.1.2.3.8.</span> <span class="nav-text">排序</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#列表推导"><span class="nav-number">12.1.2.3.9.</span> <span class="nav-text">列表推导</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#元组"><span class="nav-number">12.1.3.</span> <span class="nav-text">元组</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#元组字面量"><span class="nav-number">12.1.3.1.</span> <span class="nav-text">元组字面量</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#构造元组"><span class="nav-number">12.1.3.2.</span> <span class="nav-text">构造元组</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#使用元组"><span class="nav-number">12.1.3.3.</span> <span class="nav-text">使用元组</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#映射"><span class="nav-number">12.2.</span> <span class="nav-text">映射</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#字典"><span class="nav-number">12.2.1.</span> <span class="nav-text">字典</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#字典字面量"><span class="nav-number">12.2.1.1.</span> <span class="nav-text">字典字面量</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#构造字典"><span class="nav-number">12.2.1.2.</span> <span class="nav-text">构造字典</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#使用字典"><span class="nav-number">12.2.1.3.</span> <span class="nav-text">使用字典</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#基本操作"><span class="nav-number">12.2.1.3.1.</span> <span class="nav-text">基本操作</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#清空字典"><span class="nav-number">12.2.1.3.2.</span> <span class="nav-text">清空字典</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#复制字典"><span class="nav-number">12.2.1.3.3.</span> <span class="nav-text">复制字典</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#get方法"><span class="nav-number">12.2.1.3.4.</span> <span class="nav-text">get方法</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#setdefault方法"><span class="nav-number">12.2.1.3.5.</span> <span class="nav-text">setdefault方法</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#pop方法"><span class="nav-number">12.2.1.3.6.</span> <span class="nav-text">pop方法</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#popitem方法"><span class="nav-number">12.2.1.3.7.</span> <span class="nav-text">popitem方法</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#将字典转化为项的列表"><span class="nav-number">12.2.1.3.8.</span> <span class="nav-text">将字典转化为项的列表</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#keys方法"><span class="nav-number">12.2.1.3.9.</span> <span class="nav-text">keys方法</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#values方法"><span class="nav-number">12.2.1.3.10.</span> <span class="nav-text">values方法</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#update方法"><span class="nav-number">12.2.1.3.11.</span> <span class="nav-text">update方法</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#字典推导"><span class="nav-number">12.2.1.3.12.</span> <span class="nav-text">字典推导</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#集合"><span class="nav-number">12.3.</span> <span class="nav-text">集合</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#集合字面量"><span class="nav-number">12.3.1.</span> <span class="nav-text">集合字面量</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#构造集"><span class="nav-number">12.3.2.</span> <span class="nav-text">构造集</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#使用集合"><span class="nav-number">12.3.3.</span> <span class="nav-text">使用集合</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#堆"><span class="nav-number">12.4.</span> <span class="nav-text">堆</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#实现自己的集合类型"><span class="nav-number">12.5.</span> <span class="nav-text">实现自己的集合类型</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#作用域"><span class="nav-number">13.</span> <span class="nav-text">作用域</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#作用域函数"><span class="nav-number">13.1.</span> <span class="nav-text">作用域函数</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#globals函数"><span class="nav-number">13.1.1.</span> <span class="nav-text">globals函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#locals函数"><span class="nav-number">13.1.2.</span> <span class="nav-text">locals函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#vars函数"><span class="nav-number">13.1.3.</span> <span class="nav-text">vars函数</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#输入和输出"><span class="nav-number">14.</span> <span class="nav-text">输入和输出</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#标准输出"><span class="nav-number">14.1.</span> <span class="nav-text">标准输出</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#标准输入"><span class="nav-number">14.2.</span> <span class="nav-text">标准输入</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#系统环境"><span class="nav-number">15.</span> <span class="nav-text">系统环境</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#命令行参数"><span class="nav-number">15.1.</span> <span class="nav-text">命令行参数</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#退出当前程序"><span class="nav-number">15.2.</span> <span class="nav-text">退出当前程序</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#平台标识符"><span class="nav-number">15.3.</span> <span class="nav-text">平台标识符</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#环境变量"><span class="nav-number">15.4.</span> <span class="nav-text">环境变量</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#运行操作系统命令"><span class="nav-number">15.5.</span> <span class="nav-text">运行操作系统命令</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#异常处理"><span class="nav-number">16.</span> <span class="nav-text">异常处理</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#异常类型"><span class="nav-number">16.1.</span> <span class="nav-text">异常类型</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#内置异常类"><span class="nav-number">16.1.1.</span> <span class="nav-text">内置异常类</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#自定义异常"><span class="nav-number">16.1.2.</span> <span class="nav-text">自定义异常</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#引发异常"><span class="nav-number">16.2.</span> <span class="nav-text">引发异常</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#捕获异常"><span class="nav-number">16.3.</span> <span class="nav-text">捕获异常</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#访问异常对象"><span class="nav-number">16.3.1.</span> <span class="nav-text">访问异常对象</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#重新抛出异常"><span class="nav-number">16.4.</span> <span class="nav-text">重新抛出异常</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#异常传播"><span class="nav-number">16.5.</span> <span class="nav-text">异常传播</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#else子句-1"><span class="nav-number">16.6.</span> <span class="nav-text">else子句</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#finally子句"><span class="nav-number">16.7.</span> <span class="nav-text">finally子句</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#断言"><span class="nav-number">17.</span> <span class="nav-text">断言</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#正则表达式"><span class="nav-number">18.</span> <span class="nav-text">正则表达式</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#图形用户界面"><span class="nav-number">19.</span> <span class="nav-text">图形用户界面</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#数据库支持"><span class="nav-number">20.</span> <span class="nav-text">数据库支持</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#网络编程"><span class="nav-number">21.</span> <span class="nav-text">网络编程</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#日期和时间"><span class="nav-number">22.</span> <span class="nav-text">日期和时间</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#元编程"><span class="nav-number">23.</span> <span class="nav-text">元编程</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#反射"><span class="nav-number">23.1.</span> <span class="nav-text">反射</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#模块"><span class="nav-number">24.</span> <span class="nav-text">模块</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#模块就是程序"><span class="nav-number">24.1.</span> <span class="nav-text">模块就是程序</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#让模块可用"><span class="nav-number">24.2.</span> <span class="nav-text">让模块可用</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#模块默认搜索位置"><span class="nav-number">24.2.1.</span> <span class="nav-text">模块默认搜索位置</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#自定义搜索位置"><span class="nav-number">24.2.2.</span> <span class="nav-text">自定义搜索位置</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#使用环境变量PYTHONPATH指定"><span class="nav-number">24.2.2.1.</span> <span class="nav-text">使用环境变量PYTHONPATH指定</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#直接附加到sys-path"><span class="nav-number">24.2.2.2.</span> <span class="nav-text">直接附加到sys.path</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#使用路径配置文件指定"><span class="nav-number">24.2.2.3.</span> <span class="nav-text">使用路径配置文件指定</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#导入模块"><span class="nav-number">24.3.</span> <span class="nav-text">导入模块</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#把模块当作脚本执行"><span class="nav-number">24.4.</span> <span class="nav-text">把模块当作脚本执行</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#future-模块"><span class="nav-number">24.5.</span> <span class="nav-text">__future__模块</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#包"><span class="nav-number">24.6.</span> <span class="nav-text">包</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#探索模块"><span class="nav-number">24.7.</span> <span class="nav-text">探索模块</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#构建"><span class="nav-number">25.</span> <span class="nav-text">构建</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">周千涵</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">31</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">16</span>
        <span class="site-state-item-name">tags</span>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="mailto:supremeadministrator@supercalifragilisticexpialidociouser.com" title="E-Mail → mailto:supremeadministrator@supercalifragilisticexpialidociouser.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">周千涵</span>
</div>

        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="Total Visitors">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="Total Views">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
